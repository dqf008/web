define(["six/index"],function(t){"use strict";var s,n="table-current";return s=t.extend({initialize:function(t){var n=this,e=_.extend({quick:{sx:null,banbo:null,dxds:null}},t);s.superclass.initialize.call(this,e),this.setQuickMode(!1),$(function(){n._init()})},_getElementsByIds:function(t,s){if(!t||t.length){var e=_.map(t,function(t){return t=t<10?"0"+t:t,".el"+t}).join(","),i=this.$allElements.filter(e),a=this.$amount.val();s?(this.$allElements.filter("."+n).removeClass(n).find("input").val(""),i.addClass(n)):i.eq(0).hasClass(n)&&!s?i.removeClass(n).find("input").val(""):i.addClass(n),this._setSelectedAmount(a)}},_setSelectedAmount:function(t){t&&this.$allElements.filter("."+n).find("input").val(t)},_getDxds:function(){var t=_.range(1,50),s=_.groupBy(t,function(t){return t>24?"da":"xiao"}),n=_.groupBy(t,function(t){return t%2==0?"shuang":"dan"});this.options.quick.dxds=_.defaults({},s,n)},reset:function(){s.superclass.reset.call(this),this.$qctn.find("input").prop("checked",!1).end(),this.$play.find("."+n).removeClass(n)},_init:function(){var t,s,e,i=this.options.quick,a=this;this.$qctn=$("#hkc-quick-ctn"),this.$numCtn=$("#j-number-ctn"),this.$amount=$("#hkc-quick-amount"),this.$allElements=this.$doc.find("tr[data-id]"),i&&(t=i.sx,s=i.banbo,this._getDxds(),e=i.dxds,this.$doc.on("change",".j-hkc-qb",function(){var t=$(this).val(),e=s[t];$("td.table-current").removeClass(n),a._getElementsByIds(e,!0)}),this.$doc.on("click",".j-hkc-sx",function(){var s,i,l=$(this),c=l.data("sx"),u=l.data("key"),d=l.parent();$(".j-hkc-qb:checked").prop("checked",!1).trigger("change"),d.toggleClass(n),c?(_.each($("#tb-sx td"),function(s){$(s).hasClass(n)&&(i=_.union(i,t[$(s).find(".j-hkc-sx").data("key")]))}),$("#tb-dxds").find("."+n).removeClass(n),a._getElementsByIds(i,!0)):(s=d.hasClass(n),d.siblings("."+n).removeClass(n),$("#tb-sx").find("."+n).removeClass(n),i=e[u],a._getElementsByIds(i,s))}),this.$amount.on("change blur",function(){a._setSelectedAmount($(this).val())}),this.$allElements.on("click",function(t){var s=$(this),e=s.hasClass(n);$(t.target).is(".input")?e&&s.removeClass(n):e?s.removeClass(n):s.addClass(n).find("input").val(a.$amount.val())}))}})});