define(["jquery","lot-index"],function(t,e){var i=e.extend({initialize:function(e){var n=this,l=_.extend({lotteryId:3},e);i.superclass.initialize.call(this,l),this.isAll=0==this._np,t(function(){n.ballTpl=t("#tpl-prev-balls").html()})},_afterTabChange:function(){this.isAll=0==this._np,this._luzCurrentTab=0,this.isAll&&(this.NumberPostion="")},_updateHitBalls:function(e){var n,l,s,a,h=this,u=this.betInfo,r=u.LuZhu,c=_.range(10),d=t("#trends");if(9==h.options.lotteryId&&(c=_.range(1,12)),this.isAll){n=_.pluck(r.slice(0,5),"n"),a=u.ZongchuYilou,a&&(a=a.hit);var o=_.map(a,function(t){return{item:t,number:c}});if(s=t("#tpl-trends").html(),l={hd:n,bd:o},_.isEqual(l,h.cache.cqAll))return t("#luzhu").show(),d.show(),void h._updateLuZhu(h.cache.cqTrends);h.cache.cqAll=l;var p=this.tpl.to_html(s,l);d.html(p).tab({mouseover:!0,selected:function(){var e=t(this).index()+1,i=_.where(r,{p:e}),n=_.where(r,{p:0}),l=_.flatten([i,n]);h.cache.cqTrends=l,h._updateLuZhu(l)}}).fadeIn("fast")}else t("#trends").hide(),i.superclass._updateLuZhu.call(this)}});return i});