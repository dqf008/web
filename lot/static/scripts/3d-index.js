define(["jquery","lot-index"],function(t,e){var i=e.extend({initialize:function(e){var n=this,l=_.extend({lotteryId:3,timerTpl:"{{hours}}:{{minutes}}:{{seconds}}"},e);i.superclass.initialize.call(this,l),this.isAll=0==this._np,t(function(){n.ballTpl=t("#tpl-prev-balls").html()})},_updateSummary:function(e){var i=this,n=e.CloseCount;n>0&&i.open(!0),null!=i.closeTimer&&i.closeTimer.stop(),i.closeTimer=new this.CountDown(n),i.closeTimer.update=function(e){t("#close-timer").text(i.tpl.to_html(i.options.timerTpl,i.utils.secondsFormat(e)))},i.closeTimer.done=function(){i.close(),t("#close-timer").text(i.lang.msg.closedGate)},i.closeTimer.start(),null!=i.awarTimer&&i.awarTimer.stop(),i.awarTimer=new this.CountDown(e.OpenCount),i.awarTimer.update=function(e){t("#award-timer").text(i.tpl.to_html(i.options.timerTpl,i.utils.secondsFormat(e)))},i.awarTimer.done=function(){e.OpenCount>0?i.open():(i.close(),t("#award-timer").text(i.lang.msg.closedGate))},i.awarTimer.start(),t("#current-issue").text(e.CurrentPeriod+i.lang.msg.issue),t("#win-lose").text(e.WinLoss),t("#prev-issue").text(e.PrePeriodNumber)},});return i});