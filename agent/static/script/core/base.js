define("class",[],function(){function e(t){if(!(this instanceof e)&&l(t))return a(t)}function t(t){var a,i;for(a in t)i=t[a],e.Mutators.hasOwnProperty(a)?e.Mutators[a].call(this,i):this.prototype[a]=i}function a(a){return a.extend=e.extend,a.implement=t,a}function i(){}function n(e,t,a){for(var i in t)if(t.hasOwnProperty(i)){if(a&&c(a,i)===-1)continue;"prototype"!==i&&(e[i]=t[i])}}e.create=function(i,r){function s(){i.apply(this,arguments),this.constructor===s&&this.initialize&&this.initialize.apply(this,arguments)}return l(i)||(r=i,i=null),r||(r={}),i||(i=r.Extends||e),r.Extends=i,i!==e&&n(s,i,i.StaticsWhiteList),t.call(s,r),a(s)},e.extend=function(t){return t||(t={}),t.Extends=this,e.create(t)},e.Mutators={Extends:function(e){var t=this.prototype,a=r(e.prototype);n(a,t),a.constructor=this,this.prototype=a,this.superclass=e.prototype},Implements:function(e){o(e)||(e=[e]);for(var t,a=this.prototype;t=e.shift();)n(a,t.prototype||t)},Statics:function(e){n(this,e)}};var r=Object.__proto__?function(e){return{__proto__:e}}:function(e){return i.prototype=e,new i},s=Object.prototype.toString,o=Array.isArray||function(e){return"[object Array]"===s.call(e)},l=function(e){return"[object Function]"===s.call(e)},c=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var a=0,i=e.length;a<i;a++)if(e[a]===t)return a;return-1};return e}),define("lang",[],function(){var e=official_cfg.clientLang,t={tipsInputAccount:"请输入帐号！",tipsAccountFrozen:"帐号已被冻结，请咨询客服",tipsTryRealNameEmpty:"请填写姓名",tipsTryPhoneEmpty:"请填写手机号码",tipsTryPhonePatterError:"手机格式不正确",tipsTryEmailEmpty:"邮箱不能为空",tipsTryEmailPatterError:"邮箱格式不正确",tipsInputPassword:"请输入密码！",tipsPwdWeak:"您的密码设置过于简单,请使用英文数字下划线组合",tipsPswTooLong:"密码长度不能大于20字符！",tipsPswLengthError:"密码长度不能小于6位！",tipsInputCheckCode:"请输入验证码！",tipsCheckCodeError:"验证码错误",tipsTryCheckCodeEmpty:"验证码不能为空",tipsTryTimeLimit:"30分钟内不允许重复获取试玩帐号",tipsTryMoreThanLimit:"申请试玩账号次数超过当天的限制",tipsPleaseLogin:"请登录后再进入游戏",tipsLogining:"登录中",tipsRegisterSuccess:"注册成功",labelAccount:"账号",labelTryMemberInfo:"您可以使用以下试玩账号进行试玩，请谨记您的账号信息",labelTryMemberInfo1:"您30分钟内已经申请过的试玩账号",labelMobilePhone:"手机",labelAreaCode:"区号",labelPassword:"密码",labelNewPwd:"\t新密码",labelComfirmPassword:"确认密码",labelTryLogin:"快速登录",labelNoticeMessage:"公告消息",labelTransferSuccess:"转账成功",labelPleaseChoose:"请选择",labelTryPlayTitle:"免费试玩",labelMemberRegister:"会员注册",labelAgainPwdErorr:"两次输入密码不一致",labelPwdRule2:"密码不能和账号相同",labelAccessGame:"进入游戏",labelFastDeposit:"极速入款",labelWaitingGoodRoutes:"等待好路中...",modifySuccess:"修改成功",cancelValue:"关闭",titleMessage:"消息",titleLogin:"登录",buttonConfrim:"确定",buttonCancel:"取消",tipsPlaeseChooseBank:"请选择银行",tipsPleaseChooseBankAccount:"请选择银行帐号",tipsMaxAddBank:"最多只能添加2个银行",tipsAddSuccess:"添加成功",tipsAddFail:"添加失败",tipsModifyFail:"修改失败",tipTitle:"提示",tipsDeleteInfo:"确定要删除吗？",tipsDeleteSuccess:"刪除成功",tipsPleaseWriteDepoistAmount:"请填写存款金额",tipsDepositAmountMoreThan:"存款金额不能大于",tipsDepositAmountLessThan:"存款金额不能小于",tipsPleaseInputDate:"请填写存款日期",tipsConfirmDepositInfo:"确认入款信息",tipsDepositFail:"存款失败",tipsCopySuccess:"复制成功",tipsCopyError:"您的浏览器不支持复制功能，请手动复制！",tipsGiveMoney:"赠送",tipsPleaseInputWithdrawlPwd:"请填写取款密码",tipsWithdralFail:"取款失败",tipsWithdrawlAmountLimit:"您的取款金额必须在限额内",tipsOutOfTime:"服务器繁忙，请稍后再试",tipsWithdrawOutOfLimit:"您今天的出款次数已超过限制次数",tipsAlreadyWithdrawal:"您有一笔取款申请正在处理中，必须处理完毕才能继续取款！",tipsTheSameWalle:"相同钱包不能转账",tipGetWalletFail:"钱包余额获取失败",tipsTransSend:"您的转账请求已发出",tipsBetMoneyNotEnough:"有效投注未达到",tipsPleaseWriteWithdrawlAmount:"请填写取款金额",tipsWithdrawPwdError:"取款密码不正确",labelTransferSuccess:"转账成功",labelBelongProvince:"开户省份",labelBankAddress:"开户网点",labelBelongCity:"所属城市",labelBankNumber:"银行账号",labelBankRealName:"真实姓名",labelDepositBank:"开户银行",labelEmpty:"无",LabelEmpty2:"暂无优惠",LabelEmpty3:"请选择优惠",labelLoading:"加载中...",labelBetDetail:"下注明细",labelClose:"关闭",labelOneKeyTransFont:"一键转账",labelOneKeyTransFontNew:"是否将以下钱包额度全部转到",labelMyWallet:"我的钱包",labelAmount:"金额",labelPleaseAddBank:"请添加银行账号",labelModifyEmail:"修改邮箱",labelBindEmail:"绑定邮箱",labelBindReanName:"绑定真实姓名",labelBindPhone:"绑定手机号码",titleAddBank:"添加银行帐号",titleModifyBank:"修改银行帐号",titleFastExchange:"快速兑换",modifyMemberInfo:"修改个人资料",buttonSubmit:"提交",SendInternalMessage:"发站内信",Title:"消息",SuerDelete:"确定要删除吗？",SuerDeleteAll:"确定删除所有已读站内信吗？",PleaseInputContent:"请输入站内信内容",ShowInternalMessage:"显示站内信",Sure:"确定",Submit:"提交",Cancel:"取消"},a={tipsInputAccount:"請輸入帳號！",tipsAccountFrozen:"帳號已被凍結，請咨詢客服",tipsTryRealNameEmpty:"請填寫姓名",tipsTryPhoneEmpty:"請填寫手機號碼",tipsTryPhonePatterError:"手機格式不正確",tipsTryEmailEmpty:"郵箱不能為空",tipsTryEmailPatterError:"郵箱格式不正確",tipsInputPassword:"請輸入密碼！",tipsPwdWeak:"您的密碼設置過于簡單,請使用英文數字下劃線組合",tipsPswTooLong:"密碼長度不能大于20字符！",tipsPswLengthError:"密碼長度不能小于6位！",tipsInputCheckCode:"請輸入驗證碼！",tipsCheckCodeError:"驗證碼錯誤",tipsTryCheckCodeEmpty:"驗證碼不能為空",tipsTryTimeLimit:"30分鐘內不允許重復獲取試玩帳號",tipsTryMoreThanLimit:"申請試玩賬號次數超過當天的限制",tipsPleaseLogin:"請登錄后再進入游戲",tipsLogining:"登錄中",tipsRegisterSuccess:"注冊成功",labelAccount:"賬號",labelTryMemberInfo:"您可以使用以下試玩賬號進行試玩，請謹記您的賬號信息\t",labelTryMemberInfo1:"您30分鐘內已經申請過的試玩賬號",labelMobilePhone:"手機",labelAreaCode:"區號",labelPassword:"密碼",labelNewPwd:"新密碼",labelComfirmPassword:"確認密碼",labelTryLogin:"快速登錄",labelNoticeMessage:"公告消息",labelTransferSuccess:"轉賬成功",labelPleaseChoose:"請選擇",labelTryPlayTitle:"免費試玩",labelMemberRegister:"會員注冊",labelAgainPwdErorr:"兩次輸入密碼不一致",labelPwdRule2:"密碼不能和賬號相同",labelAccessGame:"進入遊戲",labelFastDeposit:"極速入款",labelWaitingGoodRoutes:"等待好路中...",modifySuccess:"修改成功",cancelValue:"關閉",titleMessage:"消息",titleLogin:"登錄",buttonConfrim:"確定",buttonCancel:"取消",tipsPlaeseChooseBank:"請選擇銀行",tipsPleaseChooseBankAccount:"請選擇銀行帳號",tipsMaxAddBank:"最多只能添加2個銀行",tipsAddSuccess:"添加成功",tipsAddFail:"添加失敗",tipsModifyFail:"修改失敗",tipTitle:"提示",tipsDeleteInfo:"確定要刪除嗎？",tipsDeleteSuccess:"刪除成功",tipsPleaseWriteDepoistAmount:"請填寫存款金額",tipsDepositAmountMoreThan:"存款金額不能大于",tipsDepositAmountLessThan:"存款金額不能小于",tipsPleaseInputDate:"請填寫存款日期",tipsConfirmDepositInfo:"確認入款信息",tipsDepositFail:"存款失敗",tipsCopySuccess:"復制成功",tipsCopyError:"您的瀏覽器不支持復制功能，請手動復制！",tipsGiveMoney:"贈送",tipsPleaseInputWithdrawlPwd:"請填寫取款密碼",tipsWithdralFail:"取款失敗",tipsWithdrawlAmountLimit:"您的取款金額必須在限額內",tipsOutOfTime:"服務器繁忙，請稍后再試",tipsWithdrawOutOfLimit:"您今天的出款次數已超過限制次數",tipsAlreadyWithdrawal:"您有一筆取款申請正在處理中，必須處理完畢才能繼續取款！",tipsTheSameWalle:"相同錢包不能轉賬",tipGetWalletFail:"錢包余額獲取失敗",tipsTransSend:"您的轉賬請求已發出",tipsBetMoneyNotEnough:"有效投注未達到",tipsPleaseWriteWithdrawlAmount:"請填寫取款金額",tipsWithdrawPwdError:"取款密碼不正確",labelTransferSuccess:"轉賬成功",labelBelongProvince:"開戶省份",labelBankAddress:"開戶網點",labelBelongCity:"所屬城市",labelBankNumber:"銀行賬號",labelBankRealName:"真實姓名",labelDepositBank:"開戶銀行",labelEmpty:"無",LabelEmpty2:"暫無優惠",LabelEmpty3:"请选择优惠",labelLoading:"加載中...",labelBetDetail:"下注明細",labelClose:"關閉",labelOneKeyTransFont:"一鍵轉賬",labelOneKeyTransFontNew:"是否將以下錢包額度全部轉到",labelMyWallet:"我的錢包",labelAmount:"金額",labelPleaseAddBank:"請添加銀行賬號",labelModifyEmail:"修改郵箱",labelBindReanName:"綁定真實姓名",labelBindPhone:"綁定手機號碼",labelBindEmail:"綁定郵箱",titleAddBank:"添加銀行帳號",titleModifyBank:"修改銀行帳號",titleFastExchange:"快速兌換",modifyMemberInfo:"修改個人資料",buttonSubmit:"提交",SendInternalMessage:"發站內信",Title:"消息",SuerDelete:"確定要刪除嗎？",SuerDeleteAll:"確定刪除所有已讀站內信嗎？",PleaseInputContent:"請輸入站內信內容",ShowInternalMessage:"顯示站內信",Sure:"確定",Submit:"提交",Cancel:"取消"},i={tipsInputAccount:"Please input account",tipsAccountFrozen:"Account has been frozen, please consult customer service",tipsTryRealNameEmpty:"Real name required",tipsTryPhoneEmpty:"Phone is required",tipsTryPhonePatterError:"Phone Patter Error",tipsTryEmailEmpty:"Email required",tipsTryEmailPatterError:"Email Patter error",tipsInputPassword:"Please input password",tipsPwdWeak:"Your password is too simple, please use English Numbers underscore combination",tipsPswTooLong:"Password length is not greater than 20 characters!",tipsPswLengthError:"Password length cannot be less than 6!",tipsInputCheckCode:"Please input checkcode",tipsCheckCodeError:"CheckCode Mistake",tipsTryCheckCodeEmpty:"Check code is required",tipsTryTimeLimit:"disallow get account in 30 min",tipsTryMoreThanLimit:"Apply for accounts more than the limits of the day",tipsPleaseLogin:"Please Login",tipsLogining:"Logining",tipsRegisterSuccess:"Register",labelAccount:"Account",labelTryMemberInfo:"Your test member infomation",labelTryMemberInfo1:"Your Account Infomation in 30 Min",labelMobilePhone:"Mobile Phone",labelAreaCode:"Area Code",labelPassword:"Password",labelNewPwd:"New Pwd",labelComfirmPassword:"Comfirm Password",labelTryLogin:"Login",labelNoticeMessage:"Notice Message",labelTransferSuccess:"TransferSuccess",labelPleaseChoose:"Please Choose",labelTryPlayTitle:"TryPlay",labelAccessGame:"AccessGame",labelFastDeposit:"FastDeposit",labelWaitingGoodRoutes:"Waiting for a good way...",modifySuccess:"Modify Success",cancelValue:"Close",titleMessage:"Message",titleLogin:"Login",buttonConfrim:"Confrim",buttonCancel:"Cancel",labelMemberRegister:"Register",labelAgainPwdErorr:"again pwd erorr",labelPwdRule2:"The password can not is the same as the account",tipsPlaeseChooseBank:"Plaese Choose Bank",tipsPleaseChooseBankAccount:"Please Choose Bank Account",tipsMaxAddBank:"Only add two Banks",tipsAddSuccess:"Add Success",tipsAddFail:"Add Fail",tipsModifyFail:"Modify Fail",tipTitle:"Tips",tipsDeleteInfo:"Sure you want to delete?",tipsDeleteSuccess:"Delete Succes",tipsPleaseWriteDepoistAmount:"Please Write Depoist Amount",tipsDepositAmountMoreThan:"Deposit Amount Can not Less Than",tipsDepositAmountLessThan:"Deposit Amount Can not More Than",tipsPleaseInputDate:"Please Deposit Input Date",tipsConfirmDepositInfo:"Confirm Deposit Info",tipsDepositFail:"Deposit Fail",tipsCopySuccess:"Copy Success",tipsCopyError:"Your browser does not support replication, please manually copy!",tipsGiveMoney:"Give Money",tipsPleaseInputWithdrawlPwd:"PleaseInput With drawl Pwd",tipsWithdralFail:"withdrawal fial",tipsWithdrawlAmountLimit:"Your withdrawal amount must be within the limit",tipsOutOfTime:"Server busy, please try again later",tipsWithdrawOutOfLimit:"Withdraw amount out of limit",tipsAlreadyWithdrawal:"Submitted a withdrawal form, can not add application",tipsTheSameWalle:"The Same Wallet Can not Trans",tipGetWalletFail:"Get wallet fail",tipsTransSend:"Trans has been send",tipsBetMoneyNotEnough:"BetMoneyNotEnough",tipsPleaseWriteWithdrawlAmount:"PleaseWriteWithdrawlAmount",tipsWithdrawPwdError:"Withdrawal Password Error",labelTransferSuccess:"TransferSuccess",labelBelongProvince:"Bank Province",labelBankAddress:"Bank Address",labelBelongCity:"Belong City",labelBankNumber:"Bank Number",labelBankRealName:"Real Name",labelDepositBank:"Deposit Bank",labelEmpty:"Empty",LabelEmpty2:"No Offers",LabelEmpty3:"请选择优惠",labelLoading:"Loading...",labelBetDetail:"Bet Details",labelClose:"Close",labelOneKeyTransFont:"One Key Trans",labelOneKeyTransFontNew:"Whether the wallet all credits go to the below",labelMyWallet:"MyWallet",labelAmount:"Amount",labelPleaseAddBank:"Please Add Bank Account",labelModifyEmail:"ModifyEmail",labelBindPhone:"BindPhone",labelBindReanName:"BindName",labelBindEmail:"BindEmail",titleAddBank:"Add Account",titleModifyBank:"Modify Bank",titleFastExchange:"Fast Exchange",modifyMemberInfo:"Modify Member Info",buttonSubmit:"Submit",SendInternalMessage:"Send Message",Title:"Message",SuerDelete:"Are you sure to delete message?",SuerDeleteAll:"Are you sure to delete all read messages?",PleaseInputContent:"Please enter the content",ShowInternalMessage:"Showing Message",Sure:"Confirm",Submit:"Submit",Cancel:"Cancel"},n={zh_cn:t,zh_tw:a,en:i};return n[e]}),define("dialog",["jquery","lang"],function(e,t){function a(t,a,i,n){a=a||3e3,"string"===e.type(a)&&(i=a,a=3e3);var r=o({id:"d-msg",skin:"art-msg "+i,content:t,backdropOpacity:0});setTimeout(function(){r.remove()},a);return r.showModal(),r}var i=function(e){function t(){this.destroyed=!1,this.__popup=e("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body"),this.__backdrop=this.__mask=e("<div />").css({opacity:.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],a++}var a=0,i=!("minWidth"in e("html")[0].style),n=!i;return e.extend(t.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"art-popup",show:function(a){if(this.destroyed)return this;var r=this.__popup,s=this.__backdrop;if(this.__activeElement=this.__getActive(),this.open=!0,this.follow=a||this.follow,!this.__ready){if(r.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute"),i||e(window).on("resize",e.proxy(this.reset,this)),this.modal){var o={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||t.zIndex};r.addClass(this.className+"-modal"),n||e.extend(o,{position:"absolute",width:e(window).width()+"px",height:e(document).height()+"px"}),s.css(o).attr({tabindex:"0"}).on("focus",e.proxy(this.focus,this)),this.__mask=s.clone(!0).attr("style","").insertAfter(r),s.addClass(this.className+"-backdrop").insertBefore(r),this.__ready=!0}r.html()||r.html(this.innerHTML)}return r.addClass(this.className+"-show").show(),s.show(),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(e){return!this.destroyed&&this.open&&(void 0!==e&&(this.returnValue=e),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this},remove:function(){if(this.destroyed)return this;this.__dispatchEvent("beforeremove"),t.current===this&&(t.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),i||e(window).off("resize",this.reset),this.__dispatchEvent("remove");for(var a in this)delete this[a];return this},reset:function(){var e=this.follow;return e?this.__follow(e):this.__center(),this.__dispatchEvent("reset"),this},focus:function(){var a=this.node,i=this.__popup,n=t.current,r=this.zIndex=t.zIndex++;if(n&&n!==this&&n.blur(!1),!e.contains(a,this.__getActive())){var s=i.find("[autofocus]")[0];!this._autofocus&&s?this._autofocus=!0:s=a,this.__focus(s)}return i.css("zIndex",r),t.current=this,i.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var e=this.__activeElement,t=arguments[0];return t!==!1&&this.__focus(e),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(e,t){return this.__getEventListener(e).push(t),this},removeEventListener:function(e,t){for(var a=this.__getEventListener(e),i=0;i<a.length;i++)t===a[i]&&a.splice(i--,1);return this},__getEventListener:function(e){var t=this.__listener;return t||(t=this.__listener={}),t[e]||(t[e]=[]),t[e]},__dispatchEvent:function(e){var t=this.__getEventListener(e);this["on"+e]&&this["on"+e]();for(var a=0;a<t.length;a++)t[a].call(this)},__focus:function(e){try{this.autofocus&&!/^iframe$/i.test(e.nodeName)&&e.focus()}catch(e){}},__getActive:function(){try{var e=document.activeElement,t=e.contentDocument,a=t&&t.activeElement||e;return a}catch(e){}},__center:function(){var t=this.__popup,a=e(window),i=e(document),n=this.fixed,r=n?0:i.scrollLeft(),s=n?0:i.scrollTop(),o=a.width(),l=a.height(),c=t.width(),d=t.height(),u=(o-c)/2+r,h=382*(l-d)/1e3+s,p=t[0].style;p.left=Math.max(parseInt(u),r)+"px",p.top=Math.max(parseInt(h),s)+"px"},__follow:function(t){var a=t.parentNode&&e(t),i=this.__popup;if(this.__followSkin&&i.removeClass(this.__followSkin),a){var n=a.offset();if(n.left*n.top<0)return this.__center()}var r=this,s=this.fixed,o=e(window),l=e(document),c=o.width(),d=o.height(),u=l.scrollLeft(),h=l.scrollTop(),p=i.width(),f=i.height(),m=a?a.outerWidth():0,g=a?a.outerHeight():0,v=this.__offset(t),b=v.left,y=v.top,w=s?b-u:b,k=s?y-h:y,_=s?0:u,D=s?0:h,C=_+c-p,x=D+d-f,M={},I=this.align.split(" "),T=this.className+"-",S={top:"bottom",bottom:"top",left:"right",right:"left"},P={top:"top",bottom:"top",left:"left",right:"left"},A=[{top:k-f,bottom:k+g,left:w-p,right:w+m},{top:k,bottom:k-f+g,left:w,right:w-p+m}],N={left:w+m/2-p/2,top:k+g/2-f/2},F={left:[_,C],top:[D,x]};e.each(I,function(e,t){A[e][t]>F[P[t]][1]&&(t=I[e]=S[t]),A[e][t]<F[P[t]][0]&&(I[e]=S[t])}),I[1]||(P[I[1]]="left"===P[I[0]]?"top":"left",A[1][I[1]]=N[P[I[1]]]),T+=I.join("-")+" "+this.className+"-follow",r.__followSkin=T,a&&i.addClass(T),M[P[I[0]]]=parseInt(A[0][I[0]]),M[P[I[1]]]=parseInt(A[1][I[1]]),i.css(M)},__offset:function(t){var a=t.parentNode,i=a?e(t).offset():{left:t.pageX,top:t.pageY};t=a?t:t.target;var n=t.ownerDocument,r=n.defaultView||n.parentWindow;if(r==window)return i;var s=r.frameElement,o=e(n),l=o.scrollLeft(),c=o.scrollTop(),d=e(s).offset(),u=d.left,h=d.top;return{left:i.left+u-l,top:i.top+h-c}}}),t.zIndex=1024,t.current=null,t}(e),n=function(e){return{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="art-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:t.cancelValue,cancelDisplay:!0,width:"",height:"",padding:"",skin:"",quickClose:!1,cssUri:"../css/ui-dialog.css",innerHTML:'<div i="dialog" class="art-dialog"><div class="art-dialog-arrow-a"></div><div class="art-dialog-arrow-b"></div><table class="art-dialog-grid"><tr><td i="header" class="art-dialog-header"><button i="close" class="art-dialog-close">&#215;</button><div i="title" class="art-dialog-title"></div></td></tr><tr><td i="body" class="art-dialog-body"><div i="content" class="art-dialog-content"></div></td></tr><tr><td i="footer" class="art-dialog-footer"><div i="statusbar" class="art-dialog-statusbar"></div><div i="button" class="art-dialog-button"></div></td></tr></table></div>'}}(e),r=function(e){var t=0,a=new Date-0,r=!("minWidth"in e("html")[0].style),s="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),o=!r&&!s,l=function(i,n,r){var c=i=i||{};"string"!=typeof i&&1!==i.nodeType||(i={content:i,fixed:!s}),i=e.extend(!0,{},l.defaults,i),i.original=c;var d=i.id=i.id||a+t,u=l.get(d);return u?u.focus():(o||(i.fixed=!1),i.quickClose&&(i.modal=!0,i.backdropOpacity=0),e.isArray(i.button)||(i.button=[]),void 0!==n&&(i.ok=n),i.ok&&i.button.push({id:"ok",value:i.okValue,callback:i.ok,autofocus:!0}),void 0!==r&&(i.cancel=r),i.cancel&&i.button.push({id:"cancel",value:i.cancelValue,callback:i.cancel,display:i.cancelDisplay}),l.list[d]=new l.create(i))},c=function(){};c.prototype=i.prototype;var d=l.prototype=new c;return l.create=function(a){var n=this;e.extend(this,new i);var r=(a.original,e(this.node).html(a.innerHTML)),s=e(this.backdrop);return this.options=a,this._popup=r,e.each(a,function(e,t){"function"==typeof n[e]?n[e](t):n[e]=t}),a.zIndex&&(i.zIndex=a.zIndex),r.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",this.cancel===!1?"none":"").attr("title",this.cancelValue).on("click",function(e){n._trigger("cancel"),e.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),a.quickClose&&s.on("onmousedown"in document?"mousedown":"click",function(){return n._trigger("cancel"),!1}),this.addEventListener("show",function(){s.css({opacity:0,background:a.backdropBackground}).animate({opacity:a.backdropOpacity},150)}),this._esc=function(e){var t=e.target,a=t.nodeName,r=/^input|textarea$/i,s=i.current===n,o=e.keyCode;!s||r.test(a)&&"button"!==t.type||27===o&&n._trigger("cancel")},e(document).on("keydown",this._esc),this.addEventListener("remove",function(){e(document).off("keydown",this._esc),delete l.list[this.id]}),t++,l.oncreate(this),this},l.create.prototype=d,e.extend(d,{content:function(t){var a=this._$("content");return"object"==typeof t?(t=e(t),a.empty("").append(t.show()),this.addEventListener("remove",function(){e("body").append(t.hide())})):a.html(t),this.reset()},title:function(e){return this._$("title").text(e),this._$("header")[e?"show":"hide"](),this},width:function(e){return this._$("content").css("width",e),this.reset()},height:function(e){return this._$("content").css("height",e),this.reset()},button:function(t){t=t||[];var a=this,i="",n=0;return this.callbacks={},"string"==typeof t?(i=t,n++):e.each(t,function(t,r){var s=r.id=r.id||r.value,o="";a.callbacks[s]=r.callback,r.display===!1?o=' style="display:none"':n++,i+='<button type="button" i-id="'+s+'"'+o+(r.disabled?" disabled":"")+(r.autofocus?' autofocus class="art-dialog-autofocus"':"")+">"+r.value+"</button>",a._$("button").on("click","[i-id="+s+"]",function(t){var i=e(this);i.attr("disabled")||a._trigger(s),t.preventDefault()})}),this._$("button").html(i),this._$("footer")[n?"show":"hide"](),this},statusbar:function(e){return this._$("statusbar").html(e)[e?"show":"hide"](),this},_$:function(e){return this._popup.find("[i="+e+"]")},_trigger:function(e){var t=this.callbacks[e];return"function"!=typeof t||t.call(this)!==!1?this.close().remove():this}}),l.oncreate=e.noop,l.getCurrent=function(){return i.current},l.get=function(e){return void 0===e?l.list:l.list[e]},l.list={},l.defaults=n,l}(e),s=function(e){var t=e(window),a=e(document),i="createTouch"in document,n=document.documentElement,r=!("minWidth"in n.style),s=!r&&"onlosecapture"in n,o="setCapture"in n,l={start:i?"touchstart":"mousedown",over:i?"touchmove":"mousemove",end:i?"touchend":"mouseup"},c=i?function(e){return e.touches||(e=e.originalEvent.touches.item(0)),e}:function(e){return e},d=function(){this.start=e.proxy(this.start,this),this.over=e.proxy(this.over,this),this.end=e.proxy(this.end,this),this.onstart=this.onover=this.onend=e.noop};return d.types=l,d.prototype={start:function(e){return e=this.startFix(e),a.on(l.over,this.over).on(l.end,this.end),this.onstart(e),!1},over:function(e){return e=this.overFix(e),this.onover(e),!1},end:function(e){return e=this.endFix(e),a.off(l.over,this.over).off(l.end,this.end),this.onend(e),!1},startFix:function(i){return i=c(i),this.target=e(i.target),this.selectstart=function(){return!1},a.on("selectstart",this.selectstart).on("dblclick",this.end),s?this.target.on("losecapture",this.end):t.on("blur",this.end),o&&this.target[0].setCapture(),i},overFix:function(e){return e=c(e)},endFix:function(e){return e=c(e),a.off("selectstart",this.selectstart).off("dblclick",this.end),s?this.target.off("losecapture",this.end):t.off("blur",this.end),o&&this.target[0].releaseCapture(),e}},d.create=function(i,n){var r,s,o,l,c=e(i),u=new d,h=d.types.start,p=function(){},f=i.className.replace(/^\s|\s.*/g,"")+"-drag-start",m={onstart:p,onover:p,onend:p,off:function(){c.off(h,u.start)}};return u.onstart=function(e){var n="fixed"===c.css("position"),d=a.scrollLeft(),u=a.scrollTop(),h=c.width(),p=c.height();r=0,s=0,o=n?t.width()-h+r:a.width()-h,l=n?t.height()-p+s:a.height()-p;var g=c.offset(),v=this.startLeft=n?g.left-d:g.left,b=this.startTop=n?g.top-u:g.top;this.clientX=e.clientX,this.clientY=e.clientY,c.addClass(f),m.onstart.call(i,e,v,b)},u.onover=function(e){var t=e.clientX-this.clientX+this.startLeft,a=e.clientY-this.clientY+this.startTop,n=c[0].style;t=Math.max(r,Math.min(o,t)),a=Math.max(s,Math.min(l,a)),n.left=t+"px",n.top=a+"px",m.onover.call(i,e,t,a)},u.onend=function(e){var t=c.position(),a=t.left,n=t.top;c.removeClass(f),m.onend.call(i,e,a,n)},u.off=function(){c.off(h,u.start)},n?u.start(n):c.on(h,u.start),m},d}(e);r.oncreate=function(t){var a,i=t.options,n=i._,r=i.url,o=i.oniframeload;if(r&&(this.padding=i.padding=0,a=e("<iframe />"),a.attr({src:r,name:t.id,width:"100%",height:"100%",allowtransparency:"yes",frameborder:"no",scrolling:"no"}).on("load",function(){var e;try{e=a[0].contentWindow.frameElement}catch(e){}e&&(i.width||t.width(a.contents().width()),i.height||t.height(a.contents().height())),o&&o.call(t)}),t.addEventListener("beforeremove",function(){a.attr("src","about:blank").remove()},!1),t.content(a[0]),t.iframeNode=a[0]),!(n instanceof Object))for(var l=function(){t.close().remove()},c=0;c<frames.length;c++)try{if(n instanceof frames[c].Object){e(frames[c]).one("unload",l);break}}catch(e){}e(t.node).on(s.types.start,"[i=title]",function(e){t.follow||(t.focus(),s.create(t.node,e))})},r.get=function(e){if(e&&e.frameElement){var t,a=e.frameElement,i=r.list;for(var n in i)if(t=i[n],t.node.getElementsByTagName("iframe")[0]===a)return t}else if(e)return r.list[e]},window.ry_dialog=r;var o=r,l="d-loading-bar";try{o=top.ry_dialog}catch(e){}return{dialog:o,msg:function(e,t){a(e,t,"msg-info")},success:function(e,t){a(e,t,"msg-success")},error:function(e,t){a(e,t,"msg-error")},loading:{show:function(e){var t=o({skin:"art-loading",id:l,content:e});return t.showModal(),t},hide:function(){o.get(l).remove()}}}}),define("cookie",["jquery"],function(e){function t(t,a,i){if("undefined"!=typeof a){i=i||{},null===a&&(a="",i=e.extend({},i),i.expires=-1);var n="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var r;"number"==typeof i.expires?(r=new Date,r.setTime(r.getTime()+24*i.expires*60*60*1e3)):r=i.expires,n="; expires="+r.toUTCString()}var s=i.path?"; path="+i.path:"; path=/",o=i.domain?"; domain="+i.domain:"",l=i.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(a),n,s,o,l].join("")}else if(document.cookie.length>0&&(c_start=document.cookie.indexOf(t+"="),c_start!=-1))return c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))}return t}),define("until",["jquery","cookie"],function(e,t){var a="lastTimeDiffer",i={};return i.ChangeDateFormat=function(e,t){if(t=t?t:0,e){e=e.replace("/Date(","").replace(")/",""),e.indexOf("+")>0?e=e.substring(0,e.indexOf("+")):e.indexOf("-")>0&&(e=e.substring(0,e.indexOf("-")));var a=new Date(parseInt(e,10)-t);return a}return e},i.getNewDate=function(){function i(){var t;return e.ajax({url:"/home/getservicetime",type:"post",async:!1,success:function(e){t=l.ChangeDateFormat(e)}}),t}var n,r=t(a),s=r&&r.indexOf("|")>=0?r.split("|"):"",o=3600,l=this,c=t(a);if(s.length>1)var d=new Date(s[0]),u=new Date,n=(u-d)/1e3;if(!n||n>o){var h=new Date;i();return c=(h-i())/1e3,c=c>0?-c:Math.abs(c),t(a,new Date+"|"+c),new Date((new Date).setSeconds(c))}return new Date((new Date).setSeconds(s[1]))},i.secondsFormat=function(e,t){var a=Math.floor(parseInt(e/3600)%24),i=parseInt(e/3600),n=parseInt(e/60)%60,r=e%60;return t?(i&&(n+=60*i),(n<10?"0"+n:n)+":"+(r<10?"0"+r:r)):{days:a,hours:i<10?"0"+i:i,minutes:n<10?"0"+n:n,seconds:r<10?"0"+r:r}},i.checkPhone=function(e,t){var a=!0,i=new Number(""+t).valueOf(),n=e.length,r=e.substr(0,1),s=e.substr(0,2),o=e.substr(0,3);switch(i){case 86:(11!=n||"13"!=s&&"14"!=s&&"15"!=s&&"18"!=s&&"17"!=s)&&(a=!1);break;case 1:10!=n&&(a=!1);break;case 886:"0"==r&&(e=e.substring(1),n=e.length,r=e.substr(0,1)),9==n&&"9"==r||(a=!1);break;case 852:(8!=n||"5"!=r&&"6"!=r&&"9"!=r)&&(a=!1);break;case 853:8==n&&"6"==r||(a=!1);break;case 60:(9!=n&&10!=n||"1"!=r)&&(a=!1);break;case 61:9==n&&"4"==r||(a=!1);break;case 81:(10!=n||"70"!=s&&"80"!=s&&"90"!=s)&&(a=!1);break;case 82:(10!=n||"10"!=s&&"11"!=s&&"16"!=s&&"17"!=s&&"18"!=s&&"19"!=s)&&(a=!1);break;case 850:10==n&&"1"==r||(a=!1);break;case 65:(8!=n||"8"!=r&&"9"!=r)&&(a=!1);break;case 44:var l=e.substr(0,4);(10!=n||"74"!=s&&"75"!=s&&"7624"!=l&&"77"!=s&&"78"!=s&&"79"!=s)&&(a=!1);break;case 33:(9!=n||"6"!=r&&"73"!=s&&"74"!=s&&"75"!=s&&"76"!=s&&"77"!=s&&"78"!=s)&&(a=!1);break;case 7:(10!=n||"91"!=s&&"92"!=s&&"93"!=s&&"96"!=s&&"98"!=s&&"99"!=s&&"901"!=o&&"902"!=o&&"903"!=o&&"904"!=o&&"905"!=o&&"906"!=o&&"908"!=o&&"909"!=o&&"950"!=o&&"951"!=o&&"952"!=o&&"953"!=o)&&(a=!1);break;case 91:(10!=n||"7"!=r&&"8"!=r&&"9"!=r)&&(a=!1);break;case 66:"0"==r&&(e=e.substring(1),n=e.length,r=e.substr(0,1)),(9!=n||"8"!=r&&"9"!=r)&&(a=!1);break;case 49:(10!=n&&11!=n&&9!=n||"15"!=s&&"16"!=s&&"17"!=s)&&(a=!1);break;case 55:10!=n&&11!=n&&(a=!1);break;case 62:(9!=n&&10!=n&&11!=n||"8"!=r)&&(a=!1);break;case 855:(8!=n&&9!=n&&10!=n||"1"!=r&&"9"!=r)&&(a=!1);break;case 95:(8!=n&&9!=n||"69"!=s&&"80"!=s&&"90"!=s&&"99"!=s)&&(a=!1);break;case 673:(7!=n&&8!=n||"85"!=s&&"86"!=s&&"87"!=s&&"88"!=s)&&(a=!1);break;case 63:10==n&&"9"==r||(a=!1);break;case 84:(9!=n&&10!=n||"9"!=r)&&(a=!1);break;case 856:(9!=n&&10!=n||"20"!=s)&&(a=!1)}return a},i}),define("countdown",["jquery"],function(e){function t(e,t){var a=this;this.timerId=null,this._timer=e,this.timer=e,this.update=function(e){},this.done=function(){},this.start=function(){return null!=a.timerId&&clearInterval(a.timerId),a.timerId=setInterval(function(){--a.timer,a.timer>=0?a.update.call(a,a.timer):(a.done.call(a),a.stop())},1e3),a},this.stop=function(){return clearInterval(a.timerId),a.timerId=null,a},this.restart=function(){a.start(),a.timer=a._timer}}return t}),define("tooltips",["jquery"],function(e){function t(t,a){var i={direction:"left",top:"0",right:0,skin:"",content:"",isContent:!1};this.options=e.extend(!0,i,a),this.right="0",this.$el=e(t),this.$content=e('<div class="tooltips-content"></div>'),this.$tooltips=e('<div class="tooltips '+this.options.skin+'"></div>'),this.$tooltipsWrap=e('<div class="tooltips-wrap '+this.options.direction+'"><div class="tooltips-arrow-a"></div><div class="tooltips-arrow-b"></div></div>'),this.init()}t.prototype._setInterval=function(){var e=this;e.checkInterval=setInterval(function(){e.$tooltips.remove()},200)},t.prototype._clearInterval=function(){var e=this;clearInterval(e.checkInterval),e.checkInterval=null},t.prototype._content=function(t){var a=this;e(t).offset();a.options.isContent?a.$content.html(a.options.content):a.$content.html(e(t).attr("data-content")),a.$tooltipsWrap.append(a.$content),a.$tooltips.append(a.$tooltipsWrap).appendTo(e(t)),"bottom"==a.options.direction?a.right="-"+(a.$tooltips.width()/2-a.options.right)+"px":a.right="-"+(a.$tooltips.width()-a.options.right)+"px",a.$tooltips.css({top:a.options.top,right:a.right})},t.prototype.registerEvents=function(){var e=this;e.$el.hover(function(){e._clearInterval(),e._content(this)},function(){e._setInterval()})},t.prototype.init=function(){var t=this;e(function(){t.registerEvents()})},e.fn.tooltips=function(e){return new t(this,e)}}),function(e,t){"function"==typeof define&&define.amd?define("jquery-scrollbar",["jquery"],t):t(e.jQuery)}(this,function(e){"use strict";function t(t){if(r.webkit&&!t)return{height:0,width:0};if(!r.data.outer){var a={border:"none","box-sizing":"content-box",height:"200px",margin:"0",padding:"0",width:"200px"};r.data.inner=e("<div>").css(e.extend({},a)),r.data.outer=e("<div>").css(e.extend({left:"-1000px",overflow:"scroll",position:"absolute",top:"-1000px"},a)).append(r.data.inner).appendTo("body")}return r.data.outer.scrollLeft(1e3).scrollTop(1e3),{height:Math.ceil(r.data.outer.offset().top-r.data.inner.offset().top||0),width:Math.ceil(r.data.outer.offset().left-r.data.inner.offset().left||0)}}function a(){var e=t(!0);return!(e.height||e.width)}function i(e){var t=e.originalEvent;return(!t.axis||t.axis!==t.HORIZONTAL_AXIS)&&!t.wheelDeltaX}var n=!1,r={data:{index:0,name:"scrollbar"},macosx:/mac/i.test(navigator.platform),mobile:/android|webos|iphone|ipad|ipod|blackberry/i.test(navigator.userAgent),overlay:null,scroll:null,scrolls:[],webkit:/webkit/i.test(navigator.userAgent)&&!/edge\/\d+/i.test(navigator.userAgent)};r.scrolls.add=function(e){this.remove(e).push(e)},r.scrolls.remove=function(t){for(;e.inArray(t,this)>=0;)this.splice(e.inArray(t,this),1);return this};var s={autoScrollSize:!0,autoUpdate:!0,debug:!1,disableBodyScroll:!1,duration:200,ignoreMobile:!1,ignoreOverlay:!1,scrollStep:30,showArrows:!1,stepScrolling:!0,scrollx:null,scrolly:null,onDestroy:null,onInit:null,onScroll:null,onUpdate:null},o=function(i){r.scroll||(r.overlay=a(),r.scroll=t(),c(),e(window).resize(function(){var e=!1;if(r.scroll&&(r.scroll.height||r.scroll.width)){var a=t();a.height===r.scroll.height&&a.width===r.scroll.width||(r.scroll=a,
e=!0)}c(e)})),this.container=i,this.namespace=".scrollbar_"+r.data.index++,this.options=e.extend({},s,window.jQueryScrollbarOptions||{}),this.scrollTo=null,this.scrollx={},this.scrolly={},i.data(r.data.name,this),r.scrolls.add(this)};o.prototype={destroy:function(){if(this.wrapper){this.container.removeData(r.data.name),r.scrolls.remove(this);var t=this.container.scrollLeft(),a=this.container.scrollTop();this.container.insertBefore(this.wrapper).css({height:"",margin:"","max-height":""}).removeClass("scroll-content scroll-scrollx_visible scroll-scrolly_visible").off(this.namespace).scrollLeft(t).scrollTop(a),this.scrollx.scroll.removeClass("scroll-scrollx_visible").find("div").andSelf().off(this.namespace),this.scrolly.scroll.removeClass("scroll-scrolly_visible").find("div").andSelf().off(this.namespace),this.wrapper.remove(),e(document).add("body").off(this.namespace),e.isFunction(this.options.onDestroy)&&this.options.onDestroy.apply(this,[this.container])}},init:function(t){var a=this,n=this.container,s=this.containerWrapper||n,o=this.namespace,l=e.extend(this.options,t||{}),c={x:this.scrollx,y:this.scrolly},d=this.wrapper,u={scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop()};if(r.mobile&&l.ignoreMobile||r.overlay&&l.ignoreOverlay||r.macosx&&!r.webkit)return!1;if(d)s.css({height:"auto","margin-bottom":r.scroll.height*-1+"px","margin-right":r.scroll.width*-1+"px","max-height":""});else{if(this.wrapper=d=e("<div>").addClass("scroll-wrapper").addClass(n.attr("class")).css("position","absolute"==n.css("position")?"absolute":"relative").insertBefore(n).append(n),n.is("textarea")&&(this.containerWrapper=s=e("<div>").insertBefore(n).append(n),d.addClass("scroll-textarea")),s.addClass("scroll-content").css({height:"auto","margin-bottom":r.scroll.height*-1+"px","margin-right":r.scroll.width*-1+"px","max-height":""}),n.on("scroll"+o,function(t){e.isFunction(l.onScroll)&&l.onScroll.call(a,{maxScroll:c.y.maxScrollOffset,scroll:n.scrollTop(),size:c.y.size,visible:c.y.visible},{maxScroll:c.x.maxScrollOffset,scroll:n.scrollLeft(),size:c.x.size,visible:c.x.visible}),c.x.isVisible&&c.x.scroll.bar.css("left",n.scrollLeft()*c.x.kx+"px"),c.y.isVisible&&c.y.scroll.bar.css("top",n.scrollTop()*c.y.kx+"px")}),d.on("scroll"+o,function(){d.scrollTop(0).scrollLeft(0)}),l.disableBodyScroll){var h=function(e){i(e)?c.y.isVisible&&c.y.mousewheel(e):c.x.isVisible&&c.x.mousewheel(e)};d.on("MozMousePixelScroll"+o,h),d.on("mousewheel"+o,h),r.mobile&&d.on("touchstart"+o,function(t){var a=t.originalEvent.touches&&t.originalEvent.touches[0]||t,i={pageX:a.pageX,pageY:a.pageY},r={left:n.scrollLeft(),top:n.scrollTop()};e(document).on("touchmove"+o,function(e){var t=e.originalEvent.targetTouches&&e.originalEvent.targetTouches[0]||e;n.scrollLeft(r.left+i.pageX-t.pageX),n.scrollTop(r.top+i.pageY-t.pageY),e.preventDefault()}),e(document).on("touchend"+o,function(){e(document).off(o)})})}e.isFunction(l.onInit)&&l.onInit.apply(this,[n])}e.each(c,function(t,r){var s=null,d=1,u="x"===t?"scrollLeft":"scrollTop",h=l.scrollStep,p=function(){var e=n[u]();n[u](e+h),1==d&&e+h>=f&&(e=n[u]()),d==-1&&e+h<=f&&(e=n[u]()),n[u]()==e&&s&&s()},f=0;r.scroll||(r.scroll=a._getScroll(l["scroll"+t]).addClass("scroll-"+t),l.showArrows&&r.scroll.addClass("scroll-element_arrows_visible"),r.mousewheel=function(e){if(!r.isVisible||"x"===t&&i(e))return!0;if("y"===t&&!i(e))return c.x.mousewheel(e),!0;var s=e.originalEvent.wheelDelta*-1||e.originalEvent.detail,o=r.size-r.visible-r.offset;return(s>0&&f<o||s<0&&f>0)&&(f+=s,f<0&&(f=0),f>o&&(f=o),a.scrollTo=a.scrollTo||{},a.scrollTo[u]=f,setTimeout(function(){a.scrollTo&&(n.stop().animate(a.scrollTo,240,"linear",function(){f=n[u]()}),a.scrollTo=null)},1)),e.preventDefault(),!1},r.scroll.on("MozMousePixelScroll"+o,r.mousewheel).on("mousewheel"+o,r.mousewheel).on("mouseenter"+o,function(){f=n[u]()}),r.scroll.find(".scroll-arrow, .scroll-element_track").on("mousedown"+o,function(i){if(1!=i.which)return!0;d=1;var o={eventOffset:i["x"===t?"pageX":"pageY"],maxScrollValue:r.size-r.visible-r.offset,scrollbarOffset:r.scroll.bar.offset()["x"===t?"left":"top"],scrollbarSize:r.scroll.bar["x"===t?"outerWidth":"outerHeight"]()},c=0,m=0;return e(this).hasClass("scroll-arrow")?(d=e(this).hasClass("scroll-arrow_more")?1:-1,h=l.scrollStep*d,f=d>0?o.maxScrollValue:0):(d=o.eventOffset>o.scrollbarOffset+o.scrollbarSize?1:o.eventOffset<o.scrollbarOffset?-1:0,h=Math.round(.75*r.visible)*d,f=o.eventOffset-o.scrollbarOffset-(l.stepScrolling?1==d?o.scrollbarSize:0:Math.round(o.scrollbarSize/2)),f=n[u]()+f/r.kx),a.scrollTo=a.scrollTo||{},a.scrollTo[u]=l.stepScrolling?n[u]()+h:f,l.stepScrolling&&(s=function(){f=n[u](),clearInterval(m),clearTimeout(c),c=0,m=0},c=setTimeout(function(){m=setInterval(p,40)},l.duration+100)),setTimeout(function(){a.scrollTo&&(n.animate(a.scrollTo,l.duration),a.scrollTo=null)},1),a._handleMouseDown(s,i)}),r.scroll.bar.on("mousedown"+o,function(i){if(1!=i.which)return!0;var s=i["x"===t?"pageX":"pageY"],l=n[u]();return r.scroll.addClass("scroll-draggable"),e(document).on("mousemove"+o,function(e){var a=parseInt((e["x"===t?"pageX":"pageY"]-s)/r.kx,10);n[u](l+a)}),a._handleMouseDown(function(){r.scroll.removeClass("scroll-draggable"),f=n[u]()},i)}))}),e.each(c,function(e,t){var a="scroll-scroll"+e+"_visible",i="x"==e?c.y:c.x;t.scroll.removeClass(a),i.scroll.removeClass(a),s.removeClass(a)}),e.each(c,function(t,a){e.extend(a,"x"==t?{offset:parseInt(n.css("left"),10)||0,size:n.prop("scrollWidth"),visible:d.width()}:{offset:parseInt(n.css("top"),10)||0,size:n.prop("scrollHeight"),visible:d.height()})}),this._updateScroll("x",this.scrollx),this._updateScroll("y",this.scrolly),e.isFunction(l.onUpdate)&&l.onUpdate.apply(this,[n]),e.each(c,function(e,t){var a="x"===e?"left":"top",i="x"===e?"outerWidth":"outerHeight",r="x"===e?"width":"height",s=parseInt(n.css(a),10)||0,o=t.size,c=t.visible+s,d=t.scroll.size[i]()+(parseInt(t.scroll.size.css(a),10)||0);l.autoScrollSize&&(t.scrollbarSize=parseInt(d*c/o,10),t.scroll.bar.css(r,t.scrollbarSize+"px")),t.scrollbarSize=t.scroll.bar[i](),t.kx=(d-t.scrollbarSize)/(o-c)||1,t.maxScrollOffset=o-c}),n.scrollLeft(u.scrollLeft).scrollTop(u.scrollTop).trigger("scroll")},_getScroll:function(t){var a={advanced:['<div class="scroll-element">','<div class="scroll-element_corner"></div>','<div class="scroll-arrow scroll-arrow_less"></div>','<div class="scroll-arrow scroll-arrow_more"></div>','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_inner-wrapper">','<div class="scroll-element_inner scroll-element_track">','<div class="scroll-element_inner-bottom"></div>',"</div>","</div>",'<div class="scroll-bar">','<div class="scroll-bar_body">','<div class="scroll-bar_body-inner"></div>',"</div>",'<div class="scroll-bar_bottom"></div>','<div class="scroll-bar_center"></div>',"</div>","</div>","</div>"].join(""),simple:['<div class="scroll-element">','<div class="scroll-element_outer">','<div class="scroll-element_size"></div>','<div class="scroll-element_track"></div>','<div class="scroll-bar"></div>',"</div>","</div>"].join("")};return a[t]&&(t=a[t]),t||(t=a.simple),t="string"==typeof t?e(t).appendTo(this.wrapper):e(t),e.extend(t,{bar:t.find(".scroll-bar"),size:t.find(".scroll-element_size"),track:t.find(".scroll-element_track")}),t},_handleMouseDown:function(t,a){var i=this.namespace;return e(document).on("blur"+i,function(){e(document).add("body").off(i),t&&t()}),e(document).on("dragstart"+i,function(e){return e.preventDefault(),!1}),e(document).on("mouseup"+i,function(){e(document).add("body").off(i),t&&t()}),e("body").on("selectstart"+i,function(e){return e.preventDefault(),!1}),a&&a.preventDefault(),!1},_updateScroll:function(t,a){var i=this.container,n=this.containerWrapper||i,s="scroll-scroll"+t+"_visible",o="x"===t?this.scrolly:this.scrollx,l=parseInt(this.container.css("x"===t?"left":"top"),10)||0,c=this.wrapper,d=a.size,u=a.visible+l;a.isVisible=d-u>1,a.isVisible?(a.scroll.addClass(s),o.scroll.addClass(s),n.addClass(s)):(a.scroll.removeClass(s),o.scroll.removeClass(s),n.removeClass(s)),"y"===t&&(i.is("textarea")||d<u?n.css({height:u+r.scroll.height+"px","max-height":"none"}):n.css({"max-height":u+r.scroll.height+"px"})),a.size==i.prop("scrollWidth")&&o.size==i.prop("scrollHeight")&&a.visible==c.width()&&o.visible==c.height()&&a.offset==(parseInt(i.css("left"),10)||0)&&o.offset==(parseInt(i.css("top"),10)||0)||(e.extend(this.scrollx,{offset:parseInt(i.css("left"),10)||0,size:i.prop("scrollWidth"),visible:c.width()}),e.extend(this.scrolly,{offset:parseInt(i.css("top"),10)||0,size:this.container.prop("scrollHeight"),visible:c.height()}),this._updateScroll("x"===t?"y":"x",o))}};var l=o;e.fn.scrollbar=function(t,a){return"string"!=typeof t&&(a=t,t="init"),"undefined"==typeof a&&(a=[]),e.isArray(a)||(a=[a]),this.not("body, .scroll-wrapper").each(function(){var i=e(this),n=i.data(r.data.name);(n||"init"===t)&&(n||(n=new l(i)),n[t]&&n[t].apply(n,a))}),this},e.fn.scrollbar.options=s;var c=function(){var e=0,t=0;return function(a){var i,s,o,l,d,u,h;for(i=0;i<r.scrolls.length;i++)l=r.scrolls[i],s=l.container,o=l.options,d=l.wrapper,u=l.scrollx,h=l.scrolly,(a||o.autoUpdate&&d&&d.is(":visible")&&(s.prop("scrollWidth")!=u.size||s.prop("scrollHeight")!=h.size||d.width()!=u.visible||d.height()!=h.visible))&&(l.init(),o.debug&&(window.console&&console.log({scrollHeight:s.prop("scrollHeight")+":"+l.scrolly.size,scrollWidth:s.prop("scrollWidth")+":"+l.scrollx.size,visibleHeight:d.height()+":"+l.scrolly.visible,visibleWidth:d.width()+":"+l.scrollx.visible},!0),t++));n&&t>10?(window.console&&console.log("Scroll updates exceed 10"),c=function(){}):(clearTimeout(e),e=setTimeout(c,300))}}();window.angular&&!function(e){e.module("jQueryScrollbar",[]).provider("jQueryScrollbar",function(){var t=s;return{setOptions:function(a){e.extend(t,a)},$get:function(){return{options:e.copy(t)}}}}).directive("jqueryScrollbar",["jQueryScrollbar","$parse",function(e,t){return{restrict:"AC",link:function(a,i,n){var r=t(n.jqueryScrollbar),s=r(a);i.scrollbar(s||e.options).on("$destroy",function(){i.scrollbar("destroy")})}}}])}(window.angular)}),function(e){"use strict";"function"==typeof define&&define.amd?define("jquery-scrollto",["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){"use strict";function t(t){return!t.nodeName||e.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"])!==-1}function a(t){return e.isFunction(t)||e.isPlainObject(t)?t:{top:t,left:t}}var i=e.scrollTo=function(t,a,i){return e(window).scrollTo(t,a,i)};return i.defaults={axis:"xy",duration:0,limit:!0},e.fn.scrollTo=function(n,r,s){"object"==typeof r&&(s=r,r=0),"function"==typeof s&&(s={onAfter:s}),"max"===n&&(n=9e9),s=e.extend({},i.defaults,s),r=r||s.duration;var o=s.queue&&s.axis.length>1;return o&&(r/=2),s.offset=a(s.offset),s.over=a(s.over),this.each(function(){function l(t){var a=e.extend({},s,{queue:!0,duration:r,complete:t&&function(){t.call(u,p,s)}});h.animate(f,a)}if(null!==n){var c,d=t(this),u=d?this.contentWindow||window:this,h=e(u),p=n,f={};switch(typeof p){case"number":case"string":if(/^([+-]=?)?\d+(\.\d+)?(px|%)?$/.test(p)){p=a(p);break}p=d?e(p):e(p,u);case"object":if(0===p.length)return;(p.is||p.style)&&(c=(p=e(p)).offset())}var m=e.isFunction(s.offset)&&s.offset(u,p)||s.offset;e.each(s.axis.split(""),function(e,t){var a="x"===t?"Left":"Top",n=a.toLowerCase(),r="scroll"+a,g=h[r](),v=i.max(u,t);if(c)f[r]=c[n]+(d?0:g-h.offset()[n]),s.margin&&(f[r]-=parseInt(p.css("margin"+a),10)||0,f[r]-=parseInt(p.css("border"+a+"Width"),10)||0),f[r]+=m[n]||0,s.over[n]&&(f[r]+=p["x"===t?"width":"height"]()*s.over[n]);else{var b=p[n];f[r]=b.slice&&"%"===b.slice(-1)?parseFloat(b)/100*v:b}s.limit&&/^\d+$/.test(f[r])&&(f[r]=f[r]<=0?0:Math.min(f[r],v)),!e&&s.axis.length>1&&(g===f[r]?f={}:o&&(l(s.onAfterFirst),f={}))}),l(s.onAfter)}})},i.max=function(a,i){var n="x"===i?"Width":"Height",r="scroll"+n;if(!t(a))return a[r]-e(a)[n.toLowerCase()]();var s="client"+n,o=a.ownerDocument||a.document,l=o.documentElement,c=o.body;return Math.max(l[r],c[r])-Math.min(l[s],c[s])},e.Tween.propHooks.scrollLeft=e.Tween.propHooks.scrollTop={get:function(t){return e(t.elem)[t.prop]()},set:function(t){var a=this.get(t);if(t.options.interrupt&&t._last&&t._last!==a)return e(t.elem).stop();var i=Math.round(t.now);a!==i&&(e(t.elem)[t.prop](i),t._last=this.get(t))}},i}),define("core",["jquery","class","dialog","cookie","lang","until","countdown","validator","datepicker","tooltips","jquery-scrollbar","jquery-scrollto"],function(e,t,a,n,r,o,l){if(function(){return this.jq=function(t){if(t){if("string"==typeof t){var a=t[0];if("#"===a||"."===a)return e(t);var i=e("#"+t);return i.length>0?i:(i=e("."+t),i.length>0?i:e(t))}if("object"==typeof t)return t}return t},this.cookieSetting={lastOnlineTime:"lastOnlineTime",lastGetWalletTime:"lastGetWalletTime",demoAccount:"official_tryplay",unReadMsgCount:"unReadMsgCount",memberMsgTime:"memberMsgTime",vaildRedPacketTime:"vaildRedPacketTime",repacketTime:"repacketTime",redPacketId:"redPacketId",memberId:"uid"},this.ajaxSetting={dataType:"json",method:"post",url:null,async:!0,data:null,error:function(e,t,a){if(401==e.status)if(e.responseJSON.loginFromM){var i=new popup;i.alert({id:"sameLogin",content:"账号已登出，请重新登录！"},!0),ajaxSetting.threadSetting=null}else location.reload()},alertDialog:function(e){},callback:function(){},threadSetting:{maxThread:100,currentNum:0,requestQue:new Array}},this.elemCustomAttr={gameClassId:"data-id",realBalance:"data-money"},this.classList={mainWallet:".mainWallet",childWallet:".childWallet"},this.CheckCode=function(t){function a(e){i.options.img.attr("src",i.options.url+"?rand="+Math.random()),e&&e.val("")}if(!this instanceof CheckCode)return new CheckCode(t);if(this.options={url:"/common/createCode",img:null,relation:null,loadImg:null,event:null},!t)throw Error("验证码对象参不存在");if("string"==typeof t?this.options.img=t:e.extend(this.options,t),!this.options.img)throw Error("验证码图片对象不存在");this.options.img=jq(this.options.img);var i=this;if(this.options.relation)if(this.options.relation instanceof Array)for(var n,r=0;r<this.options.relation.length;r++)n=jq(this.options.relation[r]),n&&(n.val(""),n.on("focus",function(){var t=e(this);"text"===t.attr("type")&&"none"==i.options.img.css("display")&&(t.attr("placeholder","").val(""),i.options.img.show(),a(t))}));else{var n=jq(this.options.relation);n.val(""),n.on("focus",function(){a();var t=e(this);"text"===t.attr("type")&&"none"==i.options.img.css("display")&&(t.attr("placeholder","").val(""),i.options.img.show())})}return this.options.img.on("click",function(){if(i.options.loadImg&&"string"==typeof i.options.loadImg){var t='<span id="chckloadingDiv" style="z-index: 1987;position: absolute;left: 0;top: -18px;width: 55px;height: 25px;line-height: 51px;text-align: center;background: #595959;opacity: 0.5;"><img style="bottom:4px;left:18px;" src="'+i.options.loadImg+'"></span>';e(this).before(t),a(),e(this).load(function(){e("#chckloadingDiv").remove()})}else a()}),this.options.img.is(":visible")&&a(),this},CheckCode.prototype.Refresh=function(e){this.options.img.attr("src",this.options.url+"?rand="+Math.random()),e&&e.val("")},this.areaDropdown=function(t,a){if(t=jq(t),!t)throw Error("下拉控件不存在");if(a=jq(a),!a)throw Error("触发控件的目标控件不存在");a.click(function(a){a.stopPropagation(),"none"==t.css("display")?(t.slideDown(200),e(document).click(function(){t.slideUp(200)})):(t.slideUp(200),e(document).off("click"))}),t.on("click","li",function(){var i=e(this).data("value");i?(a.attr("readonly","readonly"),e.ajax({url:"/home/getcurrency",type:"post",data:{countryNo:i},async:!1,success:function(e){a.val(e.countryAreaCode),a.blur()}})):a.val("").removeAttr("readonly").focus(),t.hide()}),t.find("li[data-value='China']")&&a.val(86)},this.password={regex:{strong:new RegExp("^(?=.{6,})(((?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Za-z])(?=.*[0-9])(?=.*_))|((?=.*[A-Z])(?=.*[a-z])(?=.*_))).*$"),medium:new RegExp("^(?=.{6,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Za-z])(?=.*_))|((?=.*[A-Za-z])(?=.*[0-9]))|((?=.*_)(?=.*[0-9]))).*$"),enough:new RegExp("^(?=.{6,}).*$")},css:{strong:"ywz_zhuce_hongxian3",medium:"ywz_zhuce_hongxian2",enough:"ywz_zhuce_hongxian",original:"ywz_zhuce_huixian"},target:{enough:e("#passwordLevel_1"),medium:e("#passwordLevel_2"),strong:e("#passwordLevel_3")},strength:function(t){var a=this;jq(t).keyup(function(){for(i in a.regex)if(a.regex.hasOwnProperty(i)){var t=a.regex[i],n=a.css[i],r=a.target[i];if(!n||!r)throw Error("密码强度样式元素不存在");t.test(e(this).val())?r.attr("class",n):r.attr("class",a.css.original)}})},isPass:function(e){return this.regex.strong.test(e)||this.regex.medium.test(e)}},this.AMESTime=function(e){function t(){var e=new Date,t=e.getTimezoneOffset();return t<0}function a(){var e=new Date,a=new Date;a.setMonth(0),a.setDate(1),a.setHours(0),a.setMinutes(0),a.setSeconds(0);var i=new Date(a.getTime());if(i.setMonth(6),i.getTimezoneOffset()-a.getTimezoneOffset()==0)return!1;var n=0;return n=t()?a.getTimezoneOffset():i.getTimezoneOffset(),e.getTimezoneOffset()==n}function i(){clearTimeout(n);var t,r=new Date;t=a?12:13,r.setMinutes(r.getMinutes()+r.getTimezoneOffset()-60*t+480);var s=r.getFullYear();s<1900&&(s+=1900);var o=r.getMonth()+1;o<10&&(o="0"+o);var l=r.getDate();l<10&&(l="0"+l);var c=r.getMinutes();c<10&&(c="0"+c);var d=r.getHours();d<10&&(d="0"+d);var u=r.getSeconds();u<10&&(u="0"+u),document.getElementById(e).innerHTML=s+"/"+o+"/"+l+"  "+d+":"+c+":"+u,n=setTimeout(i,1e3)}var n=null;n=setTimeout(i,1e3)},this.heartbeat=function(e,t,a){var i=n(e),r=new Date(i),s=new Date,o=(s-r)/1e3;(!o||o>t)&&(a&&a(),n(e,new Date))},this.validCookieTime=function(e,t){var a=n(e),i=new Date(a),r=new Date,s=(r-i)/1e3;return!s||s>t},Array.prototype.unique=function(){for(var e,t=[],a={},i=0;null!=(e=this[i]);i++)a[e]||(t.push(e),a[e]=!0);return t},this.AjaxThread=function(t){function a(e){return e.threadSetting.currentNum<e.threadSetting.maxThread?(e.threadSetting.currentNum++,void i(e)):void e.threadSetting.requestQue.push(e)}function i(t){e.ajax({dataType:t.dataType,url:t.url,type:t.method,data:t.data,async:t.async,error:t.error,success:n})}function n(e){t.callback&&"function"==typeof t.callback&&t.callback(e),t.threadSetting.currentNum--,e.success&&r()}function r(){if(t.threadSetting.currentNum<t.threadSetting.maxThread||t.threadSetting.requestQue.length>0){t.threadSetting.requestQue=t.threadSetting.requestQue.unique();var e=t.threadSetting.requestQue.shift();e&&(t.threadSetting.currentNum++,i(e))}}if(null!=ajaxSetting.threadSetting){if(!this instanceof AjaxThread)return new AjaxThread(t);t=e.extend({},ajaxSetting,t||{}),a(t)}},this.popup=function(){this.defaults={title:r.titleMessage,okValue:r.buttonConfrim,cancelValue:r.buttonCancel,fixed:!0,locked:!0,skin:"prompt-dialog",ok:function(){}}},popup.prototype={constructor:popup,extend:function(t,a){return e.extend({},t,a||{})},dialog:function(e){var t=this;return e=t.extend(a.defaults,e),a.dialog(e).showModal()},alert:function(e,t,a){var i,n=this;e&&(t?("string"==typeof e?i=e:"object"==typeof e&&(i=e.content),e=n.extend(n.defaults,{content:i,cancelValue:r.buttonConfrim,cancel:function(){location.reload()}}),delete e.okValue,delete e.ok):"string"==typeof e?e=n.extend(n.defaults,{content:e}):"object"==typeof e&&(e=n.extend(n.defaults,e)));var s=n.dialog(e);return a&&setTimeout(function(){s.remove(),t&&location.reload()},a),s},tips:function(e){var t=this,a="art-msg msg-info";if(e)return"string"==typeof e?e={skin:a,content:e,backdropOpacity:0}:"object"==typeof e&&(e={skin:e.skin,content:e.content,backdropOpacity:0}),t.dialog(e)},msg:function(e,t){return a.msg(e,t)}},this.Login=function(){this.defaults={member:{membername:null,pwd:null,checkcode:null,checkCodeImg:null,version:null},url:null,callback:null,dialog:null,showLoginTips:!0}},Login.prototype={init:function(t){this.defaults=e.extend({},this.defaults,t||{})},validate:function(){var e=this;return 0==e.defaults.member.membername.length?(e.defaults.dialog.alert(r.tipsInputAccount),!1):0==e.defaults.member.pwd.length?(e.defaults.dialog.alert(r.tipsInputPassword),!1):e.defaults.member.pwd.length<6?(e.defaults.dialog.alert(r.tipsPswLengthError),!1):!e.showCheckcode()||0!=e.defaults.member.checkcode.length||(e.defaults.dialog.alert(r.tipsInputCheckCode),!1)},processResult:function(t){var a=this;t&&(t.errorCode?6==t.errorCode&&n("failCount")<2?(e(".checkcode").show(),e("input[name=checkCode]").show(),a.defaults.dialog.alert("您输入的密码已连续错误3次，请输入验证码"),n("failCount",3)):(new CheckCode(a.defaults.member.checkCodeImg),a.showCheckcode(),a.defaults.dialog.alert(t.errorMsg)):t.isForzen?a.defaults.dialog.alert(t.errorMsg,!0):(a.defaults.dialog.msg(t.errorMsg),setTimeout(function(){location.href=location.href},500)))},submit:function(t){var a=this,i=a.validate();if(i){var n=a.defaults.showLoginTips?a.defaults.dialog.tips(r.tipsLogining):null;e.post(a.defaults.url,a.defaults.member,function(e){t&&t.removeAttr("disabled"),a.defaults.showLoginTips&&n.close(),a.defaults.callback&&"function"==typeof a.defaults.callback?a.defaults.callback(e,a):a.processResult(e)})}},showCheckcode:function(){var t=this;if("1.3"===t.defaults.member.version){var a=n("failCount");return!!(a&&a>2)&&(e(".checkcode").show(),e("input[name=checkCode]").show(),!0)}return!0}},this.DemoLogin=function(){},DemoLogin.prototype=new Login,DemoLogin.prototype.init=function(t){this.defaults=e.extend({},this.defaults,t||{}),this.getDemoAccount()},DemoLogin.prototype.validate=function(){return!0},DemoLogin.prototype.processResult=function(e){var t=this;e&&(e.errorCode?t.defaults.dialog.msg(e.errorMsg):(t.defaults.dialog.msg(e.errorMsg),setTimeout(function(){location.href=location.href},500)))},DemoLogin.prototype.getDemoAccount=function(){0==this.defaults.demoModel?this.getFromCookie():1==this.defaults.demoModel&&(this.getFromCookie(),this.demoLoginView(this))},DemoLogin.prototype.getFromCookie=function(){var e=n(cookieSetting.demoAccount);if(e){var t=e.split("&");t[0]&&t[1]&&(this.defaults.member={membername:t[0].replace("un=",""),pwd:t[1].replace("pwd=","")})}},DemoLogin.prototype.getFromApi=function(){var t=this,a=t.defaults.demoRequire,i=e("#"+a.errorTips),n={};if(a.realName.length>0){if(0==a.realName.val().length)return i.html("*"+r.tipsTryRealNameEmpty+"！"),!1;n.realName=a.realName.val()}if(a.phone.length>0){if(0==a.phone.val().length)return i.html("*"+r.tipsTryPhoneEmpty+"！"),!1;var s=/(^(\d){3,15})+$/;if(!s.test(a.phone.val()))return i.html("*"+r.tipsTryPhonePatterError+"！"),!1;n.phone=a.phone.val()}if(a.email.length>0){if(0==a.email.val().length)return i.html("*"+r.tipsTryEmailEmpty+"！"),!1;var s=/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/;if(!s.test(a.email.val()))return i.html("*"+r.tipsTryEmailPatterError+"！"),!1;n.email=a.email.val()}return 0==a.validCode.val().length?(i.html("*"+r.tipsTryCheckCodeEmpty+"！"),!1):(n.validCode=a.validCode.val(),i.html(""),void e.post("/home/GetTestMember",n,function(n){return e(this).removeAttr("disabled"),n.success?(t.defaults.member={membername:n.memberName,pwd:n.pwd},t.defaults.dialog.dialog({id:"Trialgame"}).close(),t.demoLoginView(t,!0),void 0):(n.errorCode==-4&&new CheckCode(a.validCodeImg),i.html(n.msg),!1)}))},DemoLogin.prototype.demoLoginView=function(t,a){var i=t.defaults.member,n=a?r.labelTryMemberInfo:r.labelTryMemberInfo1;if(1==t.defaults.demoModel&&i&&i.membername&&i.pwd){var s='<p class="tl-title">'+n+"</p>";s+='<div class="tl-account">',s+="<p>"+r.labelAccount+'：<span id="okMemberName">'+i.membername+"</span></p>",s+="<p>"+r.labelPassword+'：<span id="okPwd">'+i.pwd+"</span></p>",s+='</div><button class="tl-btn" id="tryLogin">'+r.labelTryLogin+" →</button>",t.defaults.dialog.dialog({title:r.labelTryPlayTitle,content:s,width:t.defaults.dialogWidth,skin:"trialgame",cancelValue:r.cancelValue}),e(document).on("click","#tryLogin",function(){t.submit(e(this))})}else t.defaults.dialog.dialog({id:"Trialgame",title:r.labelTryPlayTitle,content:e("#trialgame-dialog"),width:t.defaults.dialogWidth,skin:"trialgame",cancelValue:r.cancelValue}),new CheckCode(t.defaults.demoRequire.validCodeImg),e(document).on("click","#swSubmit",function(){e(this).attr("disabled","disabled"),t.getFromApi()})},this.MemberMsg=function(t){function a(){new AjaxThread({url:"/home/getmembermsg",callback:function(e){t.msgList=e.data,i()}})}function i(){var a=e("#memberMsg").find(".msg-content");if(t.msgList&&t.msgList.length>0&&a.data("id")!=t.msgList[0].ID){t.sound.play();var i=t.msgList[0].Msg,n="";if(i.length>0){var r=i.substr(0,1);switch(i=i.substr(1),parseInt(r)){case 1:n="入款成功";break;case 2:n="入款失败";break;case 3:n="出款成功";break;case 4:n="出款失败"}}a.data("id",t.msgList[0].ID).data("msgId",t.msgList[0].MsgID),e("#memberMsg").find(".msg-header").text(n),a.find("a").text(i),e("#memberMsg").find("#msg-close"),e("#memberMsg").animate({bottom:"20px"}).show()}}a(),setInterval(function(){heartbeat(cookieSetting.memberMsgTime,"True"==official_cfg.isPoorSite?60:10,function(){a()})},5e3),e("#msg-close,.msg-content a").on("click",function(){e("#memberMsg").animate({bottom:"-240px"},function(){e(this).hide()});var a={id:e(this).parents(".msg-content").data("id"),msgId:e(this).parents(".msg-content").data("msgId")};e.ajax({url:"/home/readmembermsg",data:a,type:"post",success:function(e){e.success&&(t.msgList=t.msgList.slice(1),i())}})})},this.Exchange=function(t){this.wrap=e(".exchange"),this.mainWin=e(".ec-content"),this.transType=e("#exchangeForm").find("[name=transType]"),this.gameId=e("#exchangeForm").find("[name=gameId]"),this.amountPanel=e(".j-amountPanel"),this.amount=e("#amount"),this.miniWin=e(".j-eclink"),this.closeMainWin=e(".j-ecClose"),this.closeMiniWin=e(".j-ecclose"),this.locationHref=location.href.toLowerCase();(function(){var a=this;!function(){var e=a.locationHref.toLowerCase();e.indexOf("/lottery")>=0&&a.gameId.find("option[value=2]").length>0?a.gameId.val(2):e.indexOf("/video")>=0&&a.gameId.find("option[value=3]").length>0?a.gameId.val(3):e.indexOf("/egame")>=0&&a.gameId.find("option[value=1]").length>0?a.gameId.val(1):e.indexOf("/sports")>=0&&a.gameId.find("option[value=6]").length>0?a.gameId.val(6):e.indexOf("/sports")>=0&&a.gameId.find("option[value=8]").length>0?a.gameId.val(8):e.indexOf("/keno")>=0&&a.gameId.find("option[value=5]").length>0&&a.gameId.val(5)}(),this.amountPanel.find("a").on("click",function(t){t.preventDefault(),e(this).hasClass("ec-lack")||e(this).hasClass("ec-selected")||(a.amountPanel.find("a").not(this).removeClass("ec-selected"),e(this).hasClass("ec-selected")||(a.amount.val(parseInt(e(this).data("amount"))).focus(),e(this).addClass("ec-selected")),a.amount.trigger("validate"))}),this.amount.on("keydown",function(e){a.amountPanel.find("a").removeClass("ec-selected");var t=e.keyCode||e.which||e.charCode;if((t<48||t>57)&&13!=t&&8!=t&&46!=t&&(t<96||t>105))return!1}),this.transType.add(this.gameId).change(function(){0==a.transType.val()&&"gameId"==e(this).attr("name")||(e(".ec-mask").show(),e.post("/account/refreshwallet",{gameClassId:0==parseInt(a.transType.val())?0:a.gameId.val()},function(t){var i=t.walletList.length>0?t.walletList[0]:{Balance:0};0==i.MaintainState?a.amountPanel.find("a").each(function(){e(this).removeClass("ec-selected").addClass("ec-lack")}):(a.amountPanel.find("a").removeClass("ec-selected"),a.amountPanel.find("a:eq(0)").data("amount",i.Balance),0==parseInt(i.Balance)?a.amountPanel.find("a:eq(0)").addClass("ec-lack"):a.amountPanel.find("a:eq(0)").removeClass("ec-lack"),parseInt(a.amount.val())>parseInt(i.Balance)&&this.amount.val(""),a.amountPanel.find("a:gt(0)").each(function(){i.Balance<e(this).data("amount")?e(this).removeClass("ec-selected").addClass("ec-lack"):e(this).hasClass("ec-selected")||e(this).removeClass("ec-lack")})),e(".ec-mask").hide()})),a.amount.focus()}),this.miniWin.on("click",function(){return 2==a.memberState?(t.alert(r.tipsAccountFrozen),!1):(a.mainWin.is(":hidden")&&a.transType.trigger("change"),void a.mainWin.toggle())}),this.closeMainWin.on("click",function(){a.mainWin.hide()}),this.closeMiniWin.on("click",function(){a.wrap.hide()})})();e("#exchangeForm").validator({valid:function(){var t,a,i=this,n=e("#fastExchange");switch(i.holdSubmit(),parseInt(self.transType.val())){case 0:t=0,a=self.gameId.val();break;case 1:t=self.gameId.val(),a=0;break;default:t=a=0}e(".ec-mask").show(),n.removeClass("btn-primary").addClass("btn-default"),e.post("/account/transaction",{from:t,transTo:a,amount:self.amount.val()},function(t){Wallet.getMainWallet(!0),t.errorCode?(i.holdSubmit(!1),e("#msgHolder").text(t.errorMsg)):0===t.errorCode?(e(".ec-success").text(r.labelTransferSuccess).show(),setTimeout(function(){i.holdSubmit(!1),e(".ec-success").hide(),self.mainWin.hide(),e("#exchangeForm").validator("cleanUp")},1300)):location.reload(),e(".ec-mask").hide(),self.amount.val(""),self.amountPanel.find("a").removeClass("ec-selected"),n.removeClass("btn-default").addClass("btn-primary")})}})},this.onlineUser=function(){setInterval(function(){heartbeat(cookieSetting.lastOnlineTime,100,function(){new AjaxThread({url:"/home/onlineuser",callback:function(e){e.success||location.reload()}})})},5e3)},Number.prototype.toFixed=function(e){var t=this+"";if(e||(e=0),t.indexOf(".")==-1&&(t+="."),t+=new Array(e+1).join("0"),new RegExp("^(-|\\+)?(\\d+(\\.\\d{0,"+(e+1)+"})?)\\d*$").test(t)){var t="0"+RegExp.$2,a=RegExp.$1,i=RegExp.$3.length,n=!0;if(i==e+2){if(i=t.match(/\d/g),parseInt(i[i.length-1])>4)for(var r=i.length-2;r>=0&&(i[r]=parseInt(i[r])+1,10==i[r]);r--)i[r]=0,n=1!=r;t=i.join("").replace(new RegExp("(\\d+)(\\d{"+e+"})\\d$"),"$1.$2")}return n&&(t=t.substr(1)),(a+t).replace(/\.$/,"")}return this+""},this.getMemberMsgCount=function(t){function a(){new AjaxThread({url:"/account/getinternalmessagecount",callback:function(a){0==a.count?jq(t).hide():jq(t).show(),e(".msg-unread").html("("+a.count+")")}})}e(document).ready(function(){a(),n(cookieSetting.unReadMsgCount,new Date)});setInterval(function(){heartbeat(cookieSetting.unReadMsgCount,"True"==official_cfg.isPoorSite?60:15,function(){a()})},1300)},this.Wallet={getWallet:function(t,a){var i=[];e(t).length>0&&(e(t).each(function(){var t=e(this),r=t.attr(elemCustomAttr.gameClassId);if(r){var s=cookieSetting.lastGetWalletTime+r;if(a){var o=n(s);document.cookie=s+"="+o+";expires="+new Date(-1).toGMTString()+";path=/"}validCookieTime(s,"True"==official_cfg.isPoorSite?60:20)&&i.push(r)}}),i.length>0&&new AjaxThread({url:"/account/refreshwallet",data:{gameClassId:i.join(",")},callback:function(a){if(a.success){var i=a.walletList;e(t).each(function(){var a=e(this),r=a.attr(elemCustomAttr.gameClassId);r=r?r:t.indexOf("mainWallet")>=0?0:"";for(var s=0;s<i.length;s++)if(i[s].GameClassID==parseInt(r)){if(0==i[s].MaintainState)a.html("维护中");else{var o;o=i[s].Balance<0?"0.00":void 0==i[s].Balance?i[s].Balance:parseFloat(i[s].Balance).toFixed(2),a.attr(elemCustomAttr.realBalance,o).html(o),e("#onekeyTransForm").find("span[data-id="+r+"]").attr(elemCustomAttr.realBalance,o)}break}n(cookieSetting.lastGetWalletTime+r,new Date)})}else a.success===!1&&e(t).each(function(){var t=e(this),a=t.attr(elemCustomAttr.gameClassId);t.html("0.00"),n(cookieSetting.lastGetWalletTime+a,new Date)})}}))},getMainWallet:function(e){this.getWallet(classList.mainWallet,e)},getChildWallet:function(e){this.getWallet(classList.childWallet,e)},processWallet:function(e){return e=e<0?"0.00":parseFloat(e).toFixed(2)},autoGetMainWallet:function(){var e=this;setInterval(function(){e.getMainWallet(!1)},1e3)},transfer:function(t){e(".transform,.oneKeyTrans").on("click",function(){function a(t){e("#transFont").text(t)}function i(){t.dialog.dialog({id:"deposit",title:r.titleMessage,width:360,content:e(".j-transfer").get(0),fixed:!0,padding:0,onclose:function(){var t=e("#cancel");t.text(r.buttonCancel),t.show(),e("#onkeyTrans").show(),e("#onekeyTransForm").find("img").attr("src","").hide()},cancelValue:r.cancelValue}),a(beforeTips),showFromGame(),transState(),
n()}function n(){e("#onkeyTrans").off("click").on("click",function(){a(processingTips),transingState();var i=h.length,n=!0;e.each(h,function(){var s=e(this).attr(elemCustomAttr.gameClassId),l=0,c=e("#onekeyTransForm").find("span[data-id="+s+"]"),d=c.find("img").show();d.attr("src",t.imgPath.loading);var u=p.attr(elemCustomAttr.realBalance);u>=0&&""!==u?e.post("/account/transaction",{from:s,transTo:o},function(r){if(r.errorCode)n=!1,d.attr("src",t.imgPath.valid_warn),c.attr("data-content",r.errorMsg).tooltips({direction:"left",top:"-8px",right:20});else{var u=e("#game"+s).find("strong");l+=parseInt(u.text()),u.text((parseFloat(u.text())-parseInt(u.text())).toFixed(2)),d.attr("src",t.imgPath.valid_true)}var h=e("#game"+o).find("strong");h.text((parseFloat(h.text())+parseInt(l)).toFixed(2)),--i<=0&&(e("#refreshWallet").trigger("click"),n&&a(completedTips),transState())}):(d.attr("src",t.imgPath.valid_warn),c.attr("data-content",r.tipGetWalletFail).tooltips({direction:"left",top:"-8px",right:20}),transState())})})}var s=e(".gameWallents"),o=e(this).parent().data("gameid"),l=e("#transing"),c=e("#cancel"),d=r.labelMyWallet,u=[],h=[];e.each(s,function(){var t=e(this);t.attr(elemCustomAttr.gameClassId)==o?u.push(t):h.push(t)});var p=u[0];showFromGame=function(){s.show(),p.hide()},beforeTips=r.labelOneKeyTransFont+(0==o?d:p.attr("data-name")),processingTips=r.tipsTransSend,completedTips=r.labelTransferSuccess,transState=function(){l.hide(),c.show().text(r.labelClose)},transingState=function(){l.show().siblings().hide()},i()})},quickTransfer:function(t){e(".j-transLink").on("click",function(){var a,i=(e(this).attr("data-id"),"btn-default btn-lg");t.beforeTrans&&(i=t.beforeTrans);var n="btn-default btn-small";t.afterTrans&&(n=t.afterTrans);var s=t.dialog.dialog({width:350,title:r.titleFastExchange,content:e(".j-transForm").get(0),fixed:!0,cancelValue:r.cancelValue,onshow:function(){e("#transForm").validator({showOk:!1,fields:{amount:r.labelAmount+":required; integer; range[1~]"},valid:function(o){var l=e("select[name=from]").val(),c=e("select[name=transTo]").val();if(l==c)return void t.dialog.alert(r.tipsTheSameWalle);a=e("#game"+l).find(".walletList").attr("data-money");var d=this,u=e(".j-transButton"),h=e("input[name=amount]");d.holdSubmit(),u.removeClass(i).addClass(n).text(r.labelInTherTransfer),e.ajax({url:"/account/Transaction",data:e(o).serialize(),type:"POST",success:function(a){if(a.errorCode)t.dialog.alert(a.errorMsg);else{t.dialog.msg(a.errorMsg,1e3),e("#refreshWallet").trigger("click");var o=e("#game"+e("select[name=transTo]").val()),l=e("#game"+e("select[name=from]").val());o.find("strong").text((parseFloat(o.text())+parseFloat(h.val())).toFixed(2)),l.find("strong").text((parseFloat(l.find("strong").text())-parseFloat(h.val())).toFixed(2)),h.val(""),s.close()}d.holdSubmit(!1),u.removeClass(n).addClass(i).text(r.buttonConfrim)}})}})}});e("#transForm").trigger("reset"),e("select[name=transTo]").val(e(this).parent().data("gameid"))}),e(document).on("keyup","#amount",function(){var t=e(this),a=parseInt(e.trim(t.val()),10);!isNaN(a)&&a>0?t.val(a):t.val("")})}},this.SubmitForm=function(){this.defaults={dialog:null,elements:{form:null,promoCode:null,checkcode:null,checkcodeImg:null,password:null,areaCode:null,areaDropDown:null,phone:null,agreement:null,pwdStrong:null},options:{showOk:!1,rules:{pwdstrong:function(e){return password.isPass(e.value)||r.tipsPwdWeak}},display:function(e){return e.getAttribute("data-name")||""},fields:{pwd:{rule:"{0}required;password;pwdstrong;"},againPwd:{rule:"match(pwd)"},countryNo:{rule:"{0}required;"},currencyNo:{rule:"{0}required;"},checkcode:{rule:"{0}required;"},realName:{rule:"{0}required;"},areaCode:{rule:"{0}required;"},phone:{rule:"{0}required;"},email:{rule:"email;"},agreement:{rule:"checked"}},groups:null,valid:function(e){}},event:function(){},validation:function(){}}},SubmitForm.prototype={init:function(t,a){t&&(a===!0?e.extend(!0,this.defaults,this.defaults,t):e.extend(this.defaults,this.defaults,t)),this.defaults.event(),this.validator()},validator:function(){var e=this;this.defaults.elements.form.validator(this.defaults.options).on("validation",function(t,a){e.defaults.validation(t,a)})}},this.RegisterMember=function(t,a,i){this.defaults.validation=function(t,a){e(a.element).parent().find(".icon-bg").addClass("icon-bg-select")};var n={dialog:t,elements:{form:e("#memberRegister"),promoCode:e("input[name=PromoCode]"),checkcode:".checkcode input",checkcodeImg:e("#cCode"),password:e("#password"),areaCode:e("#areaCode"),areaDropDown:e(".listUl"),phone:e("input[name=phone]"),agreement:e(".agreement"),pwdStrong:{enough:e("#passwordLevel_1"),medium:e("#passwordLevel_2"),strong:e("#passwordLevel_3")}},options:{fields:{memberName:{rule:"{0}required;username;remote[/home/existsmemberinfo]"},pwd:{rule:"{0}required;password;match(neq, memberName);pwdstrong;",msg:{match:"密码不能和账号相同"}},nickName:{rule:"nickname"},realName:{rule:"{0}required,nickname;remote[/home/existsmemberinfo]"},withdrawPwd:{rule:"{0}required;withdrawalpwd;match(neq, pwd)"},againWithdrawalPwd:{rule:"match(withdrawPwd)"},email:{rule:"email;remote[/home/existsmemberinfo]"},agreement:{rule:"checked"}},groups:[{fields:"areaCode phone",callback:function(t){var a=this,i=0;if(t.each(function(){a.test(this,"required")&&(i+=1)}),i>=2){if(!/^\d+$/.test(t[0].value))return"请输入有效的区号";if(!/^\d{8,}$/.test(t[1].value))return"请输入有效的手机格式";if(!o.checkPhone(t[1].value,t[0].value))return"手机号码格式不正确";var n="";return e.ajax({url:"/home/existsmemberinfo",type:"post",data:t[0].name+"="+t[0].value+"&"+t[1].name+"="+t[1].value,dataType:"json",async:!1,success:function(e){n=e.error}}),n}return"手机号码和区号都不能为空"},target:"#msgHolder"}],valid:function(a){var r=this;r.holdSubmit(),e.ajax({url:"/home/memberregister",data:e(a).serialize()+"&todo="+i,type:"post",success:function(e){0==e.errorCode?(t.msg(e.errorMsg),setTimeout("location.href = '/home/index'",500)):(t.alert(e.errorMsg),new CheckCode({img:n.elements.checkcodeImg,relation:n.elements.checkcode})),r.holdSubmit(!1)}})}},event:function(){var a=this.elements;password.target=a.pwdStrong,password.strength(a.password),new CheckCode({img:a.checkcodeImg,relation:a.checkcode}),areaDropdown(a.areaDropDown,a.areaCode);var i=function(){e.ajax({url:"/home/getcurrency",type:"post",data:{countryNo:e("[name=countryNo]").val()},async:!1,success:function(t){var a=t.currencyList;if(a){var i="",n=a.length,r=e("#currency");if(n>1){r.show().attr("name","currencyNo"),r.siblings("input").removeAttr("name").hide(),r.siblings("label").hide();for(var s=0;s<n;s++)i+='<option value="'+a[s].CurrencyNo+'">'+a[s].CurrencyNo+"</option>";r.html(i)}else r.hide().removeAttr("name"),r.siblings("input[type=hidden]").attr("name","currencyNo").val(a[0].CurrencyNo),r.siblings("label").show().text(a[0].CurrencyNo)}}})};e("input[name=PromoCode]").on("blur",function(){e.post("/home/getagentinfo",{promoCode:e(this).val()},function(t){var a=e("#currency"),n=e("#country");t.ErrorCode?n.children().length>0?(n.on("change",i),n.trigger("change")):i():(a.hide().removeAttr("name"),a.siblings("input[type=hidden]").attr("name","currencyNo").val(t.AgentCurrencyNo),a.siblings("label").show().text(t.AgentCurrencyNo),n.off("change"))})}),e("input[name=PromoCode]").trigger("blur"),e("input[name=areacode],input[name=phone]").on("change",function(){var t,a=19-e(this).val().length;"areacode"==e(this).attr("name")?(t="phone",19-e(this).val().length==19&&(a=18)):(t="areacode",19-e(this).val().length>11&&(a=11)),e("input[name="+t+"]").attr("maxLength",a)}),e("[name=nickName]").on("blur",function(){var t=e(this).val();if(null==t)return 0;"string"!=typeof t&&(t+="");var i=t.replace(/[^\x00-\xff]/g,"01").length;i>15&&a.form.validator("showMsg","[name=nickName]",{type:"error",msg:"昵称超出长度限制"})}),e(".j-agreement").click(function(){t.dialog({title:"开户协议",content:e(".d-agreement"),width:700,fixed:!0,lock:!0,cancelValue:r.cancelValue})})}};a?e.extend(!0,this.defaults,this.defaults,n):this.init(n,!0)},RegisterMember.prototype=new SubmitForm,this.QuickRegisterMember=function(t,a){var i=this,a=a||520;this.defaults.dialog=t,this.defaults.elements={form:e("#quickRegister"),submit:e("#quickRegBtn"),regBtn:e(".j-joinUs"),contentWrapper:e("#j-reg"),reset:e("#quickReset"),country:e("#quickRegCountry"),checkcodeImg:e("#quickRegChkcode"),checkcode:null,currency:e("#quickRegCurrency"),eyes:e("#eyes"),areaCode:e("#areaCode"),areaDropDown:e(".listUl"),phone:e("input[name=phone]"),regDialog:function(){var i=this;return t.dialog({id:"quickRegDialog",title:r.labelMemberRegister,content:i.contentWrapper.get(0),width:a,pading:20,fixed:!0,skin:"quickreg-dialog",onshow:function(){areaDropdown(n.areaDropDown,n.areaCode),e("input[name=PromoCode]").trigger("blur"),i.checkcode=new CheckCode({img:i.checkcodeImg}),navigator.userAgent.indexOf("MSIE")>0&&navigator.userAgent.indexOf("MSIE 9.0")>0||i.reset.click(),e("html").hasClass("lte-ie9")&&e("#quickRegister").find('input[name="email"],input[name="areaCode"],input[name="phone"], input[name="pwd"], input[name="memberName"], input[name="checkcode"]').placeholder({labelMode:!0,labelStyle:{margin:"10px 0 0 -1px",left:"52px"},labelAlpha:!0}),e(".quickRegAgreement").click(function(){var a=e(this).data("lang");t.dialog({title:a,content:e(".j-agreement"),width:700,fixed:!0,lock:!1,cancelValue:r.cancelValue})}),i.eyes.on("click",function(){var t=e(this),a=e("#quickReg-pwd");if(e("html").hasClass("lte-ie9")){var i=a.attr("placeholder"),n=a.data("name"),r=a.val();"password"==a.attr("type")?(a.after('<input class="inputWidth Pwd" type="text" placeholder="'+i+'" id="quickReg-pwd" name="pwd" value="'+r+'" data-name="'+n+'" maxlength="20" />'),t.removeClass("eye").addClass("eye-open")):(a.after('<input class="inputWidth Pwd" type="password" placeholder="'+i+'" id="quickReg-pwd" name="pwd" value="'+r+'" data-name="'+n+'" maxlength="20" />'),t.removeClass("eye-open").addClass("eye")),a.remove()}else t.hasClass("eye")?(a.attr("type","text"),t.removeClass("eye").addClass("eye-open")):(a.attr("type","password"),t.removeClass("eye-open").addClass("eye"))})},cancelValue:r.cancelValue})}},this.defaults.options.showOk=!0,this.defaults.validation=function(t,a){e(a.element).parent().find(".icon-bg").addClass("icon-bg-select")},this.defaults.options.fields={memberName:{rule:"{0}required;{0}:username;remote[/home/existsmemberinfo]",target:"#t-memberName"},pwd:{rule:"{0}required;password;match(neq, memberName);pwdstrong;",msg:{match:r.labelPwdRule2},target:"#t-pwd"},againPwd:{rule:"match(pwd)",msg:{match:r.labelAgainPwdErorr},target:"#t-againPwd"},email:{rule:"email;remote[/home/existsmemberinfo]",target:"#t-email"},areaCode:{rule:"digits;",target:"#t-phone"},phone:{rule:"mobile;",target:"#t-phone"},checkcode:{rule:"{0}required;",target:"#t-checkcode"},agreement:{rule:"checked"}};var n=this.defaults.elements;this.defaults.options.valid=function(a){var i=this;i.holdSubmit(),e.ajax({url:"/home/memberregister",data:e(a).serialize(),type:"post",success:function(e){0==e.errorCode?(t.msg(e.errorMsg),setTimeout("location.href = '/home/index'",500)):(t.alert(e.errorMsg),n.checkcode.Refresh()),i.holdSubmit(!1)}})};var s=function(){e.ajax({url:"/home/getcurrency",type:"post",data:{countryNo:n.country.val()},async:!1,success:function(e){var t=e.currencyList;if(t){for(var a="",i=t.length,r=0;r<i;r++)a+='<option value="'+t[r].CurrencyNo+'">'+t[r].CurrencyNo+"</option>";n.currency.html(a),t.length<=1?(n.currency.hide(),n.country.find("option").length<=1&&n.currency.parent().parent().hide()):n.currency.show()}}})};this.defaults.dialogShow=function(){n.regDialog(),n.country.on("change",s),n.country.change(),i.init()},e(document).on("click",".j-joinUs",function(){i.defaults.dialogShow()})},QuickRegisterMember.prototype=new SubmitForm,this.RegisterAgent=function(t){var a={dialog:t,elements:{form:e("#agentRegister"),promoCode:e("input[name=PromoCode]"),checkcode:".checkcode input",checkcodeImg:e("#cCode"),password:e("#password"),areaCode:e("#areaCode"),areaDropDown:e(".listUl"),phone:e("input[name=phone]"),agreement:e(".agreement"),pwdStrong:{enough:e("#passwordLevel_1"),medium:e("#passwordLevel_2"),strong:e("#passwordLevel_3")}},options:{fields:{agentusername:{rule:"{0}required;username;remote[/about/existsagentinfo]"},pwd:{rule:"{0}required;password;match(neq, agentusername);pwdstrong;",msg:{match:"密码不能和账号相同"}},promoCode:{rule:"{0}required;promocode;remote[/about/existsagentinfo]"},realName:{rule:"{0}required,nickname;remote[/about/existsagentinfo]"},nickName:{rule:"{0}required,nickname;remote[/about/existsagentinfo]"},qqskype:{rule:"{0}required;"},withdrawPwd:{rule:"{0}required;withdrawalpwd;match(neq, pwd)"},againWithdrawalPwd:{rule:"match(withdrawPwd)"},email:{rule:"{0}required; email;remote[/about/existsagentinfo]"},applyReason:{rule:"{0}required;"},agreement:{rule:"checked"}},groups:[{fields:"areaCode phone",callback:function(t){var a=this,i=0;if(t.each(function(){a.test(this,"required")&&(i+=1)}),i>=2){if(!/^\d+$/.test(t[0].value))return"请输入有效的区号";if(!/^\d{8,}$/.test(t[1].value))return"请输入有效的手机格式";var n="";return e.ajax({url:"/about/existsagentinfo",type:"post",data:t[0].name+"="+t[0].value+"&"+t[1].name+"="+t[1].value,dataType:"json",async:!1,success:function(e){n=e.error}}),n}return"手机号码和区号都不能为空"},target:"#msgHolder"}],valid:function(i){var n=this,r=e("#save");n.holdSubmit(),r.removeClass("btn-primary").addClass("btn-default"),e.ajax({url:"/about/agentregister",data:e(i).serialize(),type:"post",success:function(s){t.alert(s.errorMsg),0==s.errorCode&&e(i).trigger("reset"),n.holdSubmit(!1),new CheckCode({img:a.elements.checkcodeImg,relation:a.elements.checkcode}),r.removeClass("btn-default").addClass("btn-primary")}})}},event:function(){var t=this.elements;password.target=t.pwdStrong,password.strength(t.password),new CheckCode({img:t.checkcodeImg,relation:t.checkcode}),areaDropdown(t.areaDropDown,t.areaCode);var a=function(){var t=e("[name=countryNo]").val();e.ajax({url:"getcurrency",type:"post",data:{countryNo:t},async:!1,success:function(t){var a=t.currencyList;if(a){var i="",n=a.length,r=e("#currency");if(n>1){r.show().attr("name","currencyNo"),r.siblings().removeAttr("name").hide();for(var s=0;s<n;s++)i+='<option value="'+a[s].CurrencyNo+'">'+a[s].CurrencyNo+"</option>";r.html(i)}else r.hide().removeAttr("name"),r.siblings("input[type=hidden]").attr("name","currencyNo").val(a[0].CurrencyNo),r.siblings("label").show().text(a[0].CurrencyNo)}}})};e("#country").children().length>0?(e("#country").on("change",function(){a()}),e("#country").trigger("change")):a(),e("input[name=areacode],input[name=phone]").on("blur",function(){var t,a=19-e(this).val().length;"areacode"==e(this).attr("name")?(t="phone",19-e(this).val().length==19&&(a=18)):(t="areacode",19-e(this).val().length>11&&(a=11)),e("input[name="+t+"]").attr("maxLength",a)})}};this.init(a,!0)},RegisterAgent.prototype=new SubmitForm,this.ForgetPwd=function(t){var a=this;this.defaults.dialog=t,this.defaults.elements={form:e("#forPwd"),submit:e("#submit"),checkcode:".checkcode input",checkcodeImg:e(".checkcode img"),withDrawPwd:e("#withDrawPwd"),newPwd:e("#newPwd"),confirmPwd:e("#confirmPwd"),areaCode:e("#areaCode"),areaDropDown:e(".listUl"),phone:e("input[name=phone]"),pwdStrong:{enough:e("#passwordLevel_1"),medium:e("#passwordLevel_2"),strong:e("#passwordLevel_3")},validWrapper:e("#vaildDiv"),modifyWrapper:e("#modifyDiv")},this.defaults.options.fields={membersName:{rule:"{0}required;"},checkcode:{rule:"{0}required;"},areaCode:{rule:"{0}required;digits;"},phone:{rule:"{0}required;mobile;"},withDrawPwd:{rule:"required; "},newPwd:null,confirmPwd:null};var i=a.defaults.elements;this.defaults.validation=function(t,a){e(a.element).parent().find(".icon-bg").addClass("icon-bg-select")},this.defaults.options.valid=function(t){var n=this;n.holdSubmit(),i.submit.removeClass("btn-primary").addClass("btn-default"),e.ajax({url:"/home/ForgetPwd",data:e(t).serialize(),type:"post",success:function(e){0==e.ErrorCode?i.newPwd.val()?(a.defaults.dialog.msg(r.modifySuccess),setTimeout("location.href = '/home/index'",500)):(i.validWrapper.hide(),i.modifyWrapper.show(),password.target=i.pwdStrong,password.strength(i.newPwd),a.defaults.options.fields.newPwd={rule:"{0}required;password;pwdstrong;match(neq, membersName);",msg:{match:"密码不能和账号相同"}},a.defaults.options.fields.confirmPwd={rule:"{0}required;match(newPwd)"},a.init()):(a.defaults.dialog.alert(e.ErrorMsg),new CheckCode({img:i.checkcodeImg,relation:i.checkcode})),n.holdSubmit(!1),i.submit.removeClass("btn-default").addClass("btn-primary")}})},new CheckCode({img:i.checkcodeImg,relation:i.checkcode}),areaDropdown(i.areaDropDown,i.areaCode),this.init()},ForgetPwd.prototype=new SubmitForm,this.ModifyMemberInfo=function(t){var a=this;this.defaults.dialog=t,this.defaults.elements={form:e(".j-modifyForm"),submit:e("#submit"),close:e("#j-modifyForm"),modifyBtn:e("#modifymemberinfo"),modifyWrapper:e("#modifyInfo"),email:e("[name=email]"),modifyDialog:function(){return t.dialog({id:"modifyDialog",title:r.modifyMemberInfo,content:this.modifyWrapper.get(0),fixed:!0,width:500,padding:0,cancelValue:r.cancelValue})}},this.defaults.options.fields={nickName:{rule:"{0}required,nickname;"},email:{rule:"email;"}};var i=a.defaults.elements;this.defaults.options.valid=function(t){var n=e("[name=nickName]").val();if(null==n)return 0;"string"!=typeof n&&(n+="");var r=n.replace(/[^\x00-\xff]/g,"01").length;if(r>15)return void i.form.validator("showMsg","[name=nickName]",{type:"error",msg:"昵称超出长度限制"});var s=this,o=e(t).find(".j-save");s.holdSubmit(),o.removeClass("btn-primary").addClass("btn-default"),e.ajax({url:"/account/modifyinfo",data:e(t).serialize(),type:"POST",success:function(e){e.errorCode?a.defaults.dialog.alert(e.errorMsg):(i.email.val(),a.defaults.dialog.msg(e.errorMsg,1500),i.modifyDialog().close()),s.holdSubmit(!1),o.removeClass("btn-default").addClass("btn-primary")}})},i.modifyBtn.bind("click",function(){i.modifyDialog(),a.init()}),e(document).on("click","#btnClose",function(){i.modifyDialog().close()})},ModifyMemberInfo.prototype=new SubmitForm,this.ModifyMemberInfo_1_3=function(t){function a(e){if(null==e)return 0;"string"!=typeof e&&(e+="");var t=e.replace(/[^\x00-\xff]/g,"01").length;return t>15}function i(t,a){var i;"nickName"==c.inputId&&t?i={nickName:t,version:"1.3"}:"realName"==c.inputId&&t?i={realName:t,version:"1.3"}:"email"==c.inputId?i={email:t,version:"1.3"}:"phone"==c.inputId&&(i={areaCode:e("#areaCode").val(),phone:t,version:"1.3"}),e.ajax({url:"/account/modifyinfo",data:i,type:"POST",success:function(e){"function"==typeof a&&a(e)}})}function n(e){for(var t=e.length,a="",i=0;i<t-5;i++)a+="*";return e=e.replace(/(\d{3})(\d*)(\d{2})/,"$1"+a+"$3")}function s(e){for(var t=e.length,a="",i=0;i<3;i++)a+="*";return e=3==t?e.substr(0,1)+"*"+e.substr(t-1,1):t>3?e.substr(0,1)+a+e.substr(t-1,1):e.substr(0,1)+"*"}var l=this,c={};this.modifyInfo=function(){return t.dialog({id:c.id,title:c.title,content:e("#j-"+c.id).get(0),width:c.width,padding:10,okValue:"提交",onshow:function(){var t=e("#"+c.inputId+"_1_3");t.val(t.data("value"));var a=t.siblings(".msg-box");if(a.addClass("hide"),c.isVaildNnull){var i=e("phone"==c.inputId?"#"+c.inputId+"_1_3,#areaCode":"#"+c.inputId+"_1_3");i.on("blur",function(){0==e(this).val().length||"phone"==c.inputId&&!o.checkPhone(e("#phone_1_3").val(),e("#areaCode").val())?a.removeClass("hide"):a.addClass("hide")})}"phone"==c.inputId&&areaDropdown(e(".listUl"),e("#areaCode"))},ok:function(){var l=e("#"+c.inputId+"_1_3"),d=l.siblings(".msg-box"),u=e.trim(l.val());return u&&!c.reg.test(u)||c.isVaildNnull&&!u||"phone"==c.inputId&&(0==e("#areaCode").val().length||!o.checkPhone(e("#phone_1_3").val(),e("#areaCode").val()))||"nickName"==c.inputId&&a(u)?(d.removeClass("hide"),!1):(d.addClass("hide"),void i(u,function(a){a.errorCode?(l.val(""),t.alert(a.errorMsg)):("phone"==c.inputId?(e("#"+c.inputId+"Wrap_1_3").html("+"+e("#areaCode").val()+" "+n(u)),e("."+c.id).hide()):"realName"==c.inputId?(e("#"+c.inputId+"Wrap_1_3").html(s(u)),e("."+c.id).hide()):e("#"+c.inputId+"Wrap_1_3").html(u),l.data("value",u),"email"==c.inputId&&(u.length>0?c.isModify?c.elem.html("修改"):c.elem.remove():c.elem.html(r.labelBindEmail)),t.msg(a.errorMsg,1500))}))}})};var l=this;e(".modifyNickName").on("click",function(){c.id="modifyNickName",c.inputId="nickName",c.title="修改昵称",c.width="360",c.isVaildNnull=!0,c.reg=/^[a-zA-Z0-9_\u4e00-\u9fa5]+$/,c.elem=null,c.isModify=!1,l.modifyInfo()}),e(".modifyEmail").on("click",function(){var t=e(this).data("modify");c.id="modifyEmail",c.inputId="email",c.title=r.labelModifyEmail,c.elem=e(this),c.width="370",c.reg=/^[\w\+\-]+(\.[\w\+\-]+)*@[a-z\d\-]+(\.[a-z\d\-]+)*\.([a-z]{2,4})$/,c.isVaildNnull=!1,c.isModify=!!t&&t,l.modifyInfo()}),e(".modifyPhone").on("click",function(){var t=e(this).data("modify");c.id="modifyPhone",c.inputId="phone",c.title=r.labelBindPhone,c.elem=e(this),c.width="380",c.reg=/^\d{8,}$/,c.isVaildNnull=!0,c.isModify=!!t&&t,l.modifyInfo()}),e(".modifyRealName").on("click",function(){var t=e(this).data("modify");c.id="modifyRealName",c.inputId="realName",c.title=r.labelBindReanName,c.elem=e(this),c.isVaildNnull=!0,c.width="360",c.reg=/^[\W\w]{1,20}$/,c.isModify=!!t&&t,l.modifyInfo()})},this.AddMemberInfo=function(t){var a=this;this.defaults.dialog=t,this.defaults.elements={form:e("#j-addMemberInfo"),submit:e("#addMemberInfo"),addMemberInfoBtn:e(".goToTransfer"),contentWrapper:e("#j-withdrawalInfo"),reset:e("#memberInfoReset"),areaCode:e("#areaCode"),areaDropDown:e(".listUl"),phone:e("#phone"),addMemberInfoDialog:function(a){var i=this;return t.dialog({id:"addMemberInfoDialog",title:a,content:i.contentWrapper.get(0),width:450,pading:10,onshow:function(){navigator.userAgent.indexOf("MSIE")>0&&navigator.userAgent.indexOf("MSIE 9.0")>0||i.reset.click(),e("html").hasClass("lte-ie9")&&e("#j-addMemberInfo").find('input[name="withdrawPwd"]').placeholder({labelMode:!0,labelStyle:{margin:"1px 0 0 -1px",left:"13px"},labelAlpha:!0}),areaDropdown(i.areaDropDown,i.areaCode),e("input[name=areacode],input[name=phone]").on("blur",function(){var t,a=19-e(this).val().length;"areacode"==e(this).attr("name")?(t="phone",19-e(this).val().length==19&&(a=18)):(t="areacode",19-e(this).val().length>11&&(a=11)),e("input[name="+t+"]").attr("maxLength",a)})},cancelValue:r.cancelValue})}},this.defaults.options.target="#errorMsgHolder",this.defaults.options.showOk=!0,this.defaults.options.stopOnError=!0,this.defaults.options.fields={realName:{rule:"{0}required,nickname;remote[/home/existsmemberinfo]"},withdrawPwd:{rule:"{0}required;withdrawalpwd;match(neq, pwd)"},areaCode:{rule:"{0}required;"},phone:{rule:"{0}required;"},againWithdrawalPwd:{rule:"match(withdrawPwd)",msg:{match:r.labelAgainPwdErorr}}},this.defaults.options.groups=[{fields:"areaCode phone",callback:function(t){var a=this,i=0;if(t.each(function(){a.test(this,"required")&&(i+=1)}),i>=2){if(!/^\d+$/.test(t[0].value))return"请输入有效的区号";if(!/^\d{8,}$/.test(t[1].value))return"请输入有效的手机格式";if(!o.checkPhone(t[1].value,t[0].value))return"手机号码格式不正确";var n="";return e.ajax({url:"/home/existsmemberinfo",type:"post",data:t[0].name+"="+t[0].value+"&"+t[1].name+"="+t[1].value,dataType:"json",async:!1,success:function(e){n=e.error}}),n}return"手机号码和区号都不能为空"},target:"#msgHolder"}];var i=a.defaults.elements;this.defaults.options.valid=function(t){var i=this,n=e("#addMemberInfo");i.holdSubmit(),n.removeClass("btn-default").addClass("btn-lesser"),e.ajax({url:"/account/modifyinfo",data:e(t).serialize(),type:"POST",success:function(e){e.errorCode?a.defaults.dialog.alert(e.errorMsg):(a.defaults.dialog.msg(e.errorMsg,1500),location.reload()),i.holdSubmit(!1),n.removeClass("btn-lesser").addClass("btn-default")}})},i.addMemberInfoBtn.bind("click",function(){var e=i.addMemberInfoBtn.data("lang");i.addMemberInfoDialog(e),a.init()})},AddMemberInfo.prototype=new SubmitForm,this.ModifyMemberPwd=function(t){var a=this;this.defaults.dialog=t,this.defaults.elements={form:e("#modifyPwdForm ,#modifyWithdawlPwdForm"),password:e("#password"),pwdStrong:{enough:e("#passwordLevel_1"),medium:e("#passwordLevel_2"),strong:e("#passwordLevel_3")}},this.defaults.options.fields={oldPwd:{rule:"{0}required; password;"},pwd:{rule:"{0}required;password;match(neq, oldPwd);pwdstrong;",msg:{match:"新密码不能和旧密码相同"}},comfrimPwd:{rule:"match(pwd);"},oldWithdrawalPwd:{rule:"{0}required;"},withdrawalPwd:{rule:"{0}required; withdrawalpwd;match(neq, oldWithdrawalPwd)",msg:{match:"新密码不能和旧密码相同"}},comfrimWithdrawalPwd:{rule:"match(withdrawalPwd);"}};var i=a.defaults.elements;this.defaults.options.valid=function(t){var i=this,n=e(t).find(".j-save");i.holdSubmit(),n.removeClass("btn-primary").addClass("btn-default"),e.ajax({url:"/account/modifypwd",data:e(t).serialize()+"&isModifyPwd="+("modifyPwdForm"==e(t).attr("id")?"true":"false"),type:"POST",success:function(r){r.errorCode?a.defaults.dialog.alert(r.errorMsg):(a.defaults.dialog.msg(r.errorMsg,1500),e(t).trigger("reset")),i.holdSubmit(!1),n.removeClass("btn-default").addClass("btn-primary")}})},password.pwdStrong=i.pwdStrong,password.strength(i.password),a.init()},ModifyMemberPwd.prototype=new SubmitForm,this.RedPacket=function(t,a){function i(){var t=(new Date-new Date(n(cookieSetting.vaildRedPacketTime)))/1e3,i=!1,r=n(cookieSetting.redPacketId);a&&(!t||t>=60)&&(n(cookieSetting.vaildRedPacketTime,new Date),i=!0),a||(n(cookieSetting.redPacketId,""),n(cookieSetting.vaildRedPacketTime,"")),new AjaxThread({url:"/home/geteligibletoredpacket",data:{isVaild:i,packetId:r},callback:function(t){if(t.list){i&&n(cookieSetting.redPacketId,t.packetId);var a=new Date(t.now);M=new Date-a;var r=b();k=t.list,k.StartDate=o.ChangeDateFormat(k.StartDate),k.EndDate=o.ChangeDateFormat(k.EndDate),r<k.StartDate&&k.StartDate-r<1728e5?(w&&w.stop(),x=0,w=new l(parseInt((k.StartDate-a)/1e3)),w.update=function(t){var a=o.secondsFormat(w.timer,!1);e(".j-rp-time").addClass("rp-time").text(a.hours+":"+a.minutes+":"+a.seconds),m()},w.done=function(){w.stop(),p()},w.start()):r>k.StartDate&&r<k.EndDate?0==k.ShowPacketCount?!_&&u():(e(T.sum).text(k.ShowPacketCount),_&&!_.open&&p(),!_&&v(["icon","sum","active"])):(_&&_.close(),D&&D.close(),v())}else n(cookieSetting.redPacketId,""),_&&_.close(),D&&D.close(),v()}})}function r(t){var a=e("#j-change-list");0==t?(a.text("活动介绍"),e("#j-top-head").find("span").css("display","inline-block"),a.siblings("span").text("排行榜"),a.data("type",1),e("#j-rule-list").hide(),e("#j-top-list").show()):(a.text("排行榜"),e("#j-top-head").find("span").hide(),a.siblings("span").text("活动介绍"),a.data("type",0),e("#j-rule-list").show(),e("#j-top-list").hide())}function s(){var t;return e.ajax({url:"/home/getredpackettop",data:{packetId:k.ID},type:"POST",async:!1,success:function(e){t=e.topList,C=e.isGrab}}),t}function c(t){if(t){for(var a='<div class="scrollbar-inner">',i=0;i<t.length;i++)a+='<div class="packet-item'+(t[i].MemberName==e(".account").text()?" current":"")+'"><span>No.'+(i+1)+"</span><span>"+t[i].MemberName+"</span><span>"+t[i].SingleMoney.toFixed(2)+"</span></div>";a+="</div>",e("#j-top-list").empty().html(a),e("#j-top-list").find(".scrollbar-inner").scrollbar({onUpdate:function(){var t=e("#j-top-list .scroll-content");t.scrollTo(t.find(".current"),800)}})}}function d(t,a){var i=y(t.BindWallet),n=t.BetMoneyTimes&&0==t.BetMoneyTimes?"无需洗码量":"要"+t.BetMoneyTimes+"倍洗码量",r='<p class="packet-subtitle">文案：</p><p>'+t["PacketRule_"+I]+'</p><p class="packet-subtitle">规则：</p>',s="<p>1、本次红包获得后默认充值至"+i+"钱包内；</p><p>2、红包金额"+n+"即可转出；</p>";r+=s;var o=e("#j-rule-default");a&&(e("#j-grabed-rule").find("p").remove().end().append(s),o=e("#j-rule-list")),o.empty().html('<div class="scrollbar-inner">'+r+"</div>"),o.find(".scrollbar-inner").scrollbar()}function u(){v(["icon","grabOver","btn","grab"],"查看<br>排行榜"),e(T.btn).addClass("pointer").removeClass("active"),g("packet-dialog packet-out")}function h(){var t=b();t>k.StartDate&&t<k.EndDate&&(e("#j-change-list").show(),r(0)),e(T.btn).removeClass("pointer active"),v(["icon","content","btn","grab"],"您没有<br>抢到哦"),g("packet-dialog packet-info")}function p(){var t=b(),a="您已<br>领取",i=["icon","content","btn","grab","sum","active"];t>k.StartDate&&t<k.EndDate&&(e("#j-change-list").show(),r(0)),C?(e(T.btn).removeClass("pointer active"),0==k.ShowPacketCount&&(i=["icon","content","btn","grab"]),g("packet-dialog packet-info")):0==x?(e(T.btn).addClass("pointer").removeClass("active"),r(1),a="进入<br>抢红包",i=["icon","content","btn","grab","sum","active"],g("packet-dialog packet-info")):(e(T.btn).addClass("pointer").removeClass("active"),a="马上<br>拆开",i=["icon","small","btn","grab","sum","active"],e(T.small).find("h3").text(k["PacketName_"+I]),e(T.small).find("p").text(k["PacketRule_"+I]),g("packet-dialog packet-default")),v(i,a)}function f(){e(T.btn).removeClass("pointer active"),v(["grabed","icon","tada","btnLogo","btn","grab","sum","active"],"抽中啦"),g("packet-dialog packet-win")}function m(){var t=b(),a="";e(T.sum).text(k.ShowPacketCount),e(T.btn).removeClass("pointer"),k.StartDate-t>18e5&&(a="活动<br>未开始"),e("#j-change-list").hide(),r(1),v(["content","icon","sum","time","btnLogo","btn","grab"],a),_&&g("packet-dialog packet-info")}function g(t){a&&e(".packet-dialog").removeClass(e(".packet-dialog").attr("class")).addClass(t)}function v(t,a){for(var i in T)if(e.inArray(i,t)>=0){if("grab"==i){var n=b();n>k.StartDate&&n<k.EndDate?e(T[i]).removeClass("rp-time").html(a):e(T[i]).addClass("rp-time")}"icon"==i?e(T[i]).show():e(T[i]).css("display","inline-block")}else e(T[i]).hide()}function b(){var e=new Date;return e.setTime(e.getTime()-M),e}function y(e){switch(e){case 0:return"主";case 1:return"玛雅电子";case 2:return"彩票游戏";case 3:return"玛雅视讯";case 4:return"AG视讯";case 5:return"快乐彩";case 6:return"体育游戏";case 7:return"MG电子";case 8:return"沙巴体育";default:return"主"}}var w,k,_,D,C=!1,x=0,M=0,I=official_cfg.clientLang,T={btnLogo:"#j-btn-logo",time:".j-rp-time",grabed:"#j-grabed",small:"#j-small-packet",grabOver:"#j-grab-over",content:"#j-content",tada:"#j-tada",btn:"#j-packet-btn",grab:"#j-grab",sum:"#j-rp-sum",active:"#j-rp-active",icon:"#j-packet-icon"},S=setInterval(function(){i()},6e4);i(),e("#j-rp-close").on("click",function(e){e.stopPropagation(),v([]),w&&w.stop(),clearInterval(S)}),e("#j-packet-icon").on("click",function(){if(a){var n=!1;if(2!=testState){var o=b();o>k.StartDate&&(x=1),_=t.dialog({id:"redPacketDialog",title:"红包",width:468,content:e("#j-packet").get(0),fixed:!0,skin:"packet-dialog packet-info",onshow:function(){c(s()),d(k,a),e("#j-change-list").on("click",function(){r(e(this).data("type"))}),e("#j-check-rank").on("click",function(){p()}),e("#j-grab").on("click",function(){var t=b();t>k.StartDate&&t<k.EndDate&&!C&&(0==k.ShowPacketCount?h():1==x?n||(n=!0,e(T.btn).addClass("active"),e.ajax({url:"/home/grabredpacket",data:{packetId:k.ID},type:"POST",success:function(t){if(n=!1,t)if(t.State<0)x=0,e(T.btn).addClass("pointer").removeClass("active"),g("packet-dialog packet-fail"),v(["icon","btn","grab","sum","active"],"再抢<br>一次");else{C=!0,e("#j-grabed").find("h3").text(t.SingleMoney.toFixed(2));var a=e("#j-total-packet").text(),r=e("#j-total-money").text();e("#j-total-packet").text(parseInt(a)+1),e("#j-total-money").text(parseInt(r)+t.SingleMoney),c(s()),i(),f()}else u()}})):(x=1,p()))})}}),C||0!=k.ShowPacketCount?p():u()}else{var l=new popup;l.alert({content:"抱歉，免费试玩无法进行抢红包活动"},!1)}}else D=t.dialog({id:"guestPacketDialog",title:"游客红包",width:468,content:e("#j-packet-default").get(0),fixed:!0,skin:"packet-dialog packet-info",onshow:function(){d(k,a)}})})},this.recordeDatePicker=function(t,a,i){var n=this.jq(t),r=this.jq(a);new Date;n.datepicker({defaultDate:"+1w",changeMonth:!0,maxDate:r.val(),minDate:new Date(this.getBeforeDate(30)),onSelect:function(t){var a="";t.indexOf(":")<0&&(a=t+" "+reportTime);var i=r.val();r.datepicker("option","minDate",a),e(this).val(a),r.val(i)}}),r.datepicker({defaultDate:"+1w",changeMonth:!0,minDate:n.val(),maxDate:new Date,onSelect:function(t){var a="";t.indexOf(":")<0&&(a=t+" "+reportTime);var i=n.val();
n.datepicker("option","maxDate",a),e(this).val(a),n.val(i)}})},this.copy2Clipboard=function(e){if(window.clipboardData)return window.clipboardData.clearData(),window.clipboardData.setData("Text",e),!0;if(navigator.userAgent.indexOf("Opera")!=-1)return window.location=e,!0;if(window.netscape){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect")}catch(e){return!1}var t=Components.classes["@mozilla.org/widget/clipboard;1"].createInstance(Components.interfaces.nsIClipboard);if(!t)return;var a=Components.classes["@mozilla.org/widget/transferable;1"].createInstance(Components.interfaces.nsITransferable);if(!a)return;a.addDataFlavor("text/unicode");var i=new Object,i=(new Object,Components.classes["@mozilla.org/supports-string;1"].createInstance(Components.interfaces.nsISupportsString)),n=e;i.data=n,a.setTransferData("text/unicode",i,2*n.length);var r=Components.interfaces.nsIClipboard;return!!t&&(t.setData(a,null,r.kGlobalClipboard),!0)}return!1},this.getBeforeDate=function(e){var e=e,t=new Date,a=t.getFullYear(),i=t.getMonth()+1,n=t.getDate();return n<=e&&(i>1?i-=1:(a-=1,i=12)),t.setDate(t.getDate()-e),a=t.getFullYear(),i=t.getMonth()+1,n=t.getDate(),s=a+"-"+(i<10?"0"+i:i)+"-"+(n<10?"0"+n:n),s},this}(),location.href.indexOf("test.htm")>0){var c=t.create({initialize:function(){Wallet.getMainWallet(!0),Wallet.getChildWallet(!0);var t=new popup;e("#tips").click(function(){t.tips({skin:"art-msg msg-info",content:22})}),e("#msg").click(function(){t.msg("我是msg提示信息，会锁屏且自动消失")}),e("#alert").click(function(){t.alert({content:"提示信息"})}),e("#alertReload").click(function(){t.alert({content:"刷新并重载"},!0)}),e("#alertAutoReload").click(function(){t.alert({content:"刷新并重载"},!0,2e3)}),e("#dialog").click(function(){t.dialog({width:680,height:350,title:"最新消息",content:e(".noticeContainer").html(),fixed:!0,cancelValue:r.buttonConfrim,cancel:function(){e(".notice-list dd").removeClass("unfold unfold-color")}})}),e("#login").click(function(){var a={member:{membername:e("#username").val(),pwd:e("#password").val(),checkcode:e("#checkcodeInput").val(),checkCodeImg:"checkcode"},url:"/home/login",dialog:t},i=new Login;i.init(a),i.submit()}),e("#demoLogin").click(function(){var e={url:"/home/trylogin",dialog:t,demoModel:0},a=new DemoLogin;a.init(e),a.submit()}),e("#demo").click(function(){var a={url:"/home/trylogin",dialog:t,dialogWidth:350,demoModel:1,demoRequire:{realName:e("#swRealName"),phone:e("#swPhone"),email:e("#swEmail"),validCode:e("#swCode"),errorTips:"swError",validCodeImg:"sCodeImg"}},i=new DemoLogin;i.init(a)}),password.target={enough:e("#passwordLevel_1"),medium:e("#passwordLevel_2"),strong:e("#passwordLevel_3")},password.strength("password1"),areaDropdown(e(".listUl"),e("#areaCode")),new CheckCode({img:"Img2",relation:[e(".checkcodeInput")]}),new CheckCode({img:"Img1"}),Exchange(),AMESTime("AMESTime");var a=new SubmitForm;a.init({elements:{form:e("#validator")},options:{showOk:!1,display:function(e){return e.getAttribute("data-name")||""},fields:{Text1:{rule:"{0}required"},Text2:{rule:"{0}required;"}},groups:null,valid:function(e){t.alert("提交成功！")}}},!0)}});new c}}),function(e){"function"==typeof define?define("jquery-validator",[],function(){return e}):e(jQuery)}(function(e,t){"use strict";function a(t,i){var n=this;return!n instanceof a?new a(t,i):(n.$el=e(t),void n._init(t,i))}function i(e,t){var a=t?t===!0?this:t:i.prototype;if(G(e))for(var n in e)a[n]=r(e[n])}function n(e,t){var a=t?t===!0?this:t:n.prototype;if(G(e))for(var i in e){if(!e[i])return;a[i]=e[i]}}function r(t){switch(e.type(t)){case"function":return t;case"array":return function(e){return t[0].test(e.value)||t[1]||!1};case"regexp":return function(e){return t.test(e.value)}}}function s(t){var a="";return e.map(t.split(" "),function(e){a+=","+("#"===e.charAt(0)?e:'[name="'+e+'"]')}),a.substring(1)}function o(t){var a;if(t&&t.tagName){switch(t.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":a=t.form||e(t).closest("."+k);break;case"FORM":a=t;break;default:a=e(t).closest("."+k)}return e(a).data(g)||e(a)[g]().data(g)}}function l(e){var t,a=e.currentTarget;a.form&&null===Q(a.form,E)&&(t=o(a),t?(t._parse(a),t["_"+e.type](e)):Q(a,S,null))}function c(t,a){var i=e.trim(Q(t,S+"-"+a));if(i)return i=new Function("return "+i)(),i?r(i):void 0}function d(e,t,a,i){var n=t.msg,r=t._r;return G(n)&&(n=n[r]),U(n)||(n=Q(e,P+"-"+r)||Q(e,P)||a||(i?U(i)?i:i[r]:"")),n}function u(e){var t;return e&&(t=B.exec(e)),t?t[1]:""}function h(e){return"INPUT"===e.tagName&&"checkbox"===e.type||"radio"===e.type}function p(e){return Date.parse(e.replace(/\.|\-/g,"/"))}var f,m,g="validator",v="."+g,b=".rule",y=".field",w=".form",k="nice-"+g,_="n-ok",D="n-error",C="n-tip",x="n-loading",M="msg-box",I="aria-required",T="aria-invalid",S="data-rule",P="data-msg",A="data-tip",N="data-ok",F="data-target",j="data-inputstatus",E="novalidate",L=":verifiable",O=/(!?)\s?(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\||&)?/g,W=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,q=/(?:([^:;\(\[]*):)?(.*)/,R=/[^\x00-\xff]/g,B=/^.*(top|right|bottom|left).*$/,z=/(?:(post|get):)?(.+)/i,Y=/<|>/g,$=e.noop,V=e.proxy,H=e.isFunction,K=e.isArray,U=function(e){return"string"==typeof e},G=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},X=!window.XMLHttpRequest,Q=function(e,a,i){return i===t?e.getAttribute(a):void(null===i?e.removeAttribute(a):e.setAttribute(a,""+i))},Z=window.console||{log:$,info:$},J={debug:0,timely:1,theme:"default",ignore:"",focusInvalid:!0,beforeSubmit:$,validClass:"n-valid",invalidClass:"n-invalid",msgWrapper:"span",msgMaker:function(e){var t,a={error:D,ok:_,tip:C,loading:x}[e.type];return t='<span class="msg-wrap '+a+'" role="alert">',t+=e.arrow+e.icon+'<span class="n-msg">'+e.msg+"</span>",t+="</span>"},msgIcon:'<span class="n-icon"></span>',msgArrow:"",msgClass:"",defaultMsg:"{0} is not valid.",loadingMsg:"Validating..."},ee={default:{formClass:"n-default",msgClass:"n-right",showOk:""}};e.fn[g]=function(t){var i=this,n=arguments;return i.is(":input")?i:(!i.is("form")&&(i=this.find("form")),!i.length&&(i=this),i.each(function(){var i=e(this).data(g);if(i)if(U(t)){if("_"===t.charAt(0))return;i[t].apply(i,Array.prototype.slice.call(n,1))}else t&&(i._reset(!0),i._init(this,t));else new a(this,t)}),this)},e.fn.isValid=function(e,t){var a,i,n=o(this[0]),r=H(e);return!n||(n.checkOnly=!!t,i=n.options,a=n._multiValidate(this.is(":input")?this:this.find(L),function(t){t||!i.focusInvalid||n.checkOnly||n.$el.find(":input["+T+"]:first").focus(),r&&e.call(null,t),n.checkOnly=!1}),r?this:a)},e.expr[":"].verifiable=function(e){var t=e.nodeName.toLowerCase();return("input"===t&&!{submit:1,button:1,reset:1,image:1}[e.type]||"select"===t||"textarea"===t)&&e.disabled===!1},a.prototype={_init:function(t,a){var r,o,l,c=this;if(H(a)&&(a={valid:a}),a=a||{},l=Q(t,"data-"+g+"-option"),l=l&&"{"===l.charAt(0)?new Function("return "+l)():{},o=ee[a.theme||l.theme||J.theme],r=c.options=e.extend({},J,o,l,c.options,a),c.rules=new i(r.rules,!0),c.messages=new n(r.messages,!0),c.elements=c.elements||{},c.deferred={},c.errors={},c.fields={},c._initFields(r.fields),K(r.groups)&&e.map(r.groups,function(t){return U(t.fields)&&H(t.callback)?(t.$elems=c.$el.find(s(t.fields)),void e.map(t.fields.split(" "),function(e){c.fields[e]=c.fields[e]||{},c.fields[e].group=t})):null}),c.msgOpt={type:"error",pos:u(r.msgClass),wrapper:r.msgWrapper,cls:r.msgClass,style:r.msgStyle,icon:r.msgIcon,arrow:r.msgArrow,show:r.msgShow,hide:r.msgHide},c.isAjaxSubmit=!1,r.valid||!e.trim(Q(t,"action")))c.isAjaxSubmit=!0;else{var d=e[e._data?"_data":"data"](t,"events");d&&d.valid&&e.map(d.valid,function(e){return e.namespace.indexOf("form")!==-1?1:null}).length&&(c.isAjaxSubmit=!0)}c.$el.data(g)||(c.$el.data(g,c).addClass(k+" "+r.formClass).on("submit"+v+" validate"+v,V(c,"_submit")).on("reset"+v,V(c,"_reset")).on("showtip"+v,V(c,"_showTip")).on("focusin"+v+" click"+v+" showtip"+v,L,V(c,"_focusin")).on("focusout"+v+" validate"+v,L,V(c,"_focusout")),r.timely>=2&&c.$el.on("keyup"+v+" paste"+v,L,V(c,"_focusout")).on("click"+v,":radio,:checkbox",V(c,"_focusout")).on("change"+v,'select,input[type="file"]',V(c,"_focusout")),c._novalidate=Q(t,E),Q(t,E,E))},_initFields:function(t){var a=this;G(t)&&e.each(t,function(e,t){if(null===t){var i=a.elements[e];i&&a._resetElement(i,!0),delete a.fields[e]}else a.fields[e]=U(t)?{rule:t}:t}),a.$el.find(L).each(function(){a._parse(this)})},_parse:function(e){var t,a=this,i=e.name,n=Q(e,S);n&&Q(e,S,null),(e.id&&"#"+e.id in a.fields||!e.name)&&(i="#"+e.id),i&&(t=a.fields[i]||{},t.key=i,t.old={},t.rule=t.rule||n||"",t.rule&&(t.rule.match(/match|checked/)&&(t.must=!0),t.rule.indexOf("required")!==-1&&(t.required=!0,Q(e,I,!0)),("timely"in t&&!t.timely||!a.options.timely)&&Q(e,"notimely",!0),U(t.target)&&Q(e,F,t.target),U(t.tip)&&Q(e,A,t.tip),a.fields[i]=a._parseRule(t)))},_parseRule:function(e){var a=q.exec(e.rule),i=this.options;if(a)return e._i=0,a[1]&&(e.display=a[1]),!e.display&&i.display&&(e.display=i.display),a[2]&&(e.rules=[],a[2].replace(O,function(){var a=arguments;a[3]=a[3]||a[4],e.rules.push({not:"!"===a[1],method:a[2],params:a[3]?a[3].split(", "):t,or:"|"===a[5]})})),e},_multiValidate:function(a,i){var n=this,r=n.options;return n.verifying=!0,n.isValid=!0,r.ignore&&(a=a.not(r.ignore)),a.each(function(e,t){var a=n.getField(t);if(a&&(n._validate(t,a),!n.isValid&&r.stopOnError))return!1}),e.when.apply(null,e.map(n.deferred,function(e){return e})).done(function(){i.call(n,n.isValid),n.verifying=!1}),e.isEmptyObject(n.deferred)?n.isValid:t},_submit:function(t){var a=this,i=a.options,n=t.target,r="submit"===t.type;t.preventDefault(),m&&~(m=!1)||a.submiting||"validate"===t.type&&a.$el[0]!==n||i.beforeSubmit.call(a,n)===!1||(i.debug&&Z.log("\n"+t.type),a._reset(),a.submiting=!0,a._multiValidate(a.$el.find(L),function(t){var s,o=t||2===i.debug?"valid":"invalid";t||(i.focusInvalid&&a.$el.find(":input["+T+'="true"]:first').focus(),s=e.map(a.errors,function(e){return e})),a.submiting=!1,H(i[o])&&i[o].call(a,n,s),a.$el.trigger(o+w,[n,s]),t&&!a.isAjaxSubmit&&r&&(m=!0,f&&f.name&&a.$el.append('<input type="hidden" name="'+f.name+'" value="'+e(f).val()+'">'),n.submit())}))},_reset:function(e){var t=this;t.errors={},e&&t.$el.find(L).each(function(e,a){t._resetElement(a)})},_resetElement:function(t,a){var i=this.options;e(t).removeClass(i.validClass+" "+i.invalidClass),this.hideMsg(t),a&&Q(t,I,null)},_focusin:function(t){var a,i=this,n=i.options,r=t.target;i.verifying||("showtip"!==t.type&&"error"===Q(r,j)&&n.focusCleanup&&(e(r).removeClass(n.invalidClass),i.hideMsg(r)),a=Q(r,A),a&&i.showMsg(r,{type:"tip",msg:a}))},_focusout:function(t){var a,i,n=this,r=n.options,s=t.target,o=t.type,l={click:1,change:1,paste:1},c=0;if(!l[o]){if("validate"===o)i=!0;else{if(Q(s,"notimely"))return;if(r.timely>=2&&"keyup"!==o)return}if(r.ignore&&e(s).is(r.ignore))return;if("keyup"===o){var d=t.keyCode,u={8:1,9:1,16:1,32:1,46:1};if(9===d&&!s.value)return;if(d<48&&!u[d])return;c=r.timely>=100?r.timely:500}}a=n.getField(s),a&&(c?(a._t&&clearTimeout(a._t),a._t=setTimeout(function(){n._validate(s,a,i)},c)):n._validate(s,a,i))},_showTip:function(e){var t=this;t.$el[0]===e.target&&t.$el.find(L+"["+A+"]").each(function(){t.showMsg(this,{msg:Q(this,A),type:"tip"})})},_validatedField:function(t,a,i){var n=this,r=n.options,s=i.isValid=a.isValid=!!i.isValid,o=s?"valid":"invalid";i.key=a.key,i.rule=a._r,s?i.type="ok":(n.submiting&&(n.errors[a.key]=i.msg),n.isValid=!1),a.old.value=t.value,a.old.id=t.id,n.elements[a.key]=i.element=t,n.$el[0].isValid=s?n.isFormValid():s,H(a[o])&&a[o].call(n,t,i),e(t).attr(T,!s||null).removeClass(s?r.invalidClass:r.validClass).addClass(i.skip?"":s?r.validClass:r.invalidClass).trigger(o+y,[i,n]),n.$el.triggerHandler("validation",[i,n]),n.checkOnly||(a.msgMaker||r.msgMaker)&&n[i.showOk||i.msg?"showMsg":"hideMsg"](t,i,a)},_validatedRule:function(a,i,n,r){i=i||c.getField(a),r=r||{};var s,o,l,c=this,u=c.options,h=i._r,p=!1;if(null===n)return void c._validatedField(a,i,{isValid:!0,skip:!0});if(n===!0||n===t||""===n?p=!0:U(n)?s=n:G(n)&&(n.error?s=n.error:(s=n.ok,p=!0)),i.rules&&(o=i.rules[i._i],o.not&&(s=t,p="required"===h||!p),o.or))if(p)for(;i._i<i.rules.length&&i.rules[i._i].or;)i._i++;else l=!0;l||(p?(r.isValid=p,u.showOk!==!1&&(U(s)||(U(i.ok)?s=i.ok:U(Q(a,N))?s=Q(a,N):U(u.showOk)&&(s=u.showOk)),U(s)&&(r.showOk=p,r.msg=s)),e(a).trigger("valid"+b,[h,r.msg])):(r.msg=(d(a,i,s,c.messages[h])||J.defaultMsg).replace("{0}",c._getDisplay(a,i.display||"")),e(a).trigger("invalid"+b,[h,r.msg]))),u.debug&&Z.log("   "+i._i+": "+h+" => "+(p||r.msg||p)),l||p&&i._i<i.rules.length-1?(i._i++,c._checkRule(a,i)):(i._i=0,c._validatedField(a,i,r))},_checkRule:function(a,i){var n,r,s=this,o=i.key,l=i.rules[i._i],d=l.method,u=l.params;s.submiting&&s.deferred[o]||(r=i.old,i._r=d,n=!i.must&&r.ret!==t&&r.rule===l&&r.id===a.id&&a.value&&r.value===a.value?r.ret:(c(a,d)||s.rules[d]||$).call(s,a,u,i),G(n)&&H(n.then)?(s.deferred[o]=n,!s.checkOnly&&s.showMsg(a,{type:"loading",msg:s.options.loadingMsg},i),n.then(function(n,o,c){var d,u=c.responseText,h=i.dataFilter||s.options.dataFilter;"json"===this.dataType?u=n:"{"===u.charAt(0)&&(u=e.parseJSON(u)||{}),H(h)||(h=function(e){if(U(e)||G(e)&&("error"in e||"ok"in e))return e}),d=h(u),d===t&&(d=h(u.data)),r.rule=l,r.ret=d,s._validatedRule(a,i,d)},function(e,t){s._validatedRule(a,i,t)}).always(function(){delete s.deferred[o]}),i.isValid=t):s._validatedRule(a,i,n))},_validate:function(a,i){if(!a.disabled&&null===Q(a,E)){var n,r=this,s={},o=i.group,l=i.isValid=!0;if(i.rules||r._parse(a),r.options.debug&&Z.info(i.key),o&&(n=o.callback.call(r,o.$elems),n!==t&&(r.hideMsg(o.target,{},i),n===!0?n=t:(i._i=0,i._r="group",l=!1,r.hideMsg(a,{},i),e.extend(s,o)))),l&&!i.required&&!i.must&&!a.value){if("tip"===Q(a,j))return;if(!h(a))return void r._validatedField(a,i,{isValid:!0})}n!==t?r._validatedRule(a,i,n,s):i.rule&&r._checkRule(a,i)}},test:function(e,a){var i,n,r,s=this,o=W.exec(a);return o&&(n=o[1],n in s.rules&&(r=o[2]||o[3],r=r?r.split(", "):t,i=s.rules[n].call(s,e,r))),i===!0||i===t||null===i},getRangeMsg:function(e,t,a,i){if(t){var n=this,r=n.messages[a]||"",s=t[0].split("~"),o=s[0],l=s[1],c="rg",d=[""],u=+e===+e;if(2===s.length){if(o&&l){if(u&&e>=+o&&e<=+l)return!0;d=d.concat(s)}else if(o&&!l){if(u&&e>=+o)return!0;d.push(o),c="gte"}else if(!o&&l){if(u&&e<=+l)return!0;d.push(l),c="lte"}}else{if(e===+o)return!0;d.push(o),c="eq"}return r&&(i&&r[c+i]&&(c+=i),d[0]=r[c]),n.renderMsg.apply(null,d)}},renderMsg:function(){var e=arguments,t=e[0],a=e.length;if(t){for(;--a;)t=t.replace("{"+a+"}",e[a]);return t}},_getDisplay:function(e,t){return U(t)?t:H(t)?t.call(this,e):""},_getMsgOpt:function(t){return e.extend({},this.msgOpt,U(t)?{msg:t}:t)},_getMsgDOM:function(t,a){var i,n,r,s=e(t);if(s.is(":input")?(r=a.target||Q(t,F),r&&(r=H(r)?r.call(this,t):this.$el.find(r),r.length&&(r.is(":input")?t=r.get(0):i=r)),i||(n=!h(t)&&t.id?t.id:t.name,i=this.$el.find(a.wrapper+"."+M+'[for="'+n+'"]'))):i=s,!i.length)if(s=this.$el.find(r||t),i=e("<"+a.wrapper+">").attr({class:M+(a.cls?" "+a.cls:""),style:a.style||"",for:n}),h(t)){var o=s.parent();i.appendTo(o.is("label")?o.parent():o)}else i[a.pos&&"right"!==a.pos?"insertBefore":"insertAfter"](s);return i},showMsg:function(t,a,i){var n,r=this,s=r.options;if(a=r._getMsgOpt(a),(a.msg||a.showOk)&&(t=e(t).get(0),e(t).is(L)&&(Q(t,j,a.type),i=i||r.getField(t),i&&(a.style=i.msgStyle||a.style,a.cls=i.msgClass||a.cls,a.wrapper=i.msgWrapper||a.wrapper,a.target=i.target||s.target)),n=(i||{}).msgMaker||s.msgMaker)){var o=r._getMsgDOM(t,a),l=o[0].className;!B.test(l)&&o.addClass(a.cls),X&&"bottom"===a.pos&&(o[0].style.marginTop=e(t).outerHeight()+"px"),o.html(n.call(r,a))[0].style.display="",H(a.show)&&a.show.call(r,o,a.type)}},hideMsg:function(t,a,i){var n=this,r=n.options;t=e(t).get(0),a=n._getMsgOpt(a),e(t).is(L)&&(Q(t,j,null),Q(t,T,null),i=i||n.getField(t),i&&(a.wrapper=i.msgWrapper||a.wrapper,a.target=i.target||r.target));var s=n._getMsgDOM(t,a);s.length&&(H(a.hide)?a.hide.call(n,s,a.type):s[0].style.display="none")},mapMsg:function(t){var a=this;e.each(t,function(e,t){var i=a.elements[e]||a.$el.find(':input[name="'+e+'"]')[0];a.showMsg(i,t)})},setMsg:function(e){new n(e,this.messages)},setRule:function(t){new i(t,this.rules),e.map(this.fields,function(e){e.old={}})},getField:function(e){var t,a=this;return t=e.id&&"#"+e.id in a.fields||!e.name?"#"+e.id:e.name,Q(e,S)&&a._parse(e),a.fields[t]},setField:function(e,t){var a={};U(e)?a[e]=t:G(e)&&(a=e),this._initFields(a)},isFormValid:function(){var e=this.fields;for(var t in e)if(!e[t].isValid)return e[t].isValid;return!0},holdSubmit:function(e){this.submiting=e===t||e},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(v).removeData(g),Q(this.$el[0],E,this._novalidate)}},e(document).on("focusin",":input["+S+"]",function(e){l(e)}).on("click","input,button",function(e){var t=this,a=t.name;if(t.form)if("submit"===t.type)f=t,null!==Q(t,E)&&(m=!0);else if(a&&h(t)){var i=t.form.elements[a];i.length&&(i=i[0]),Q(i,S)&&l(e)}}).on("submit validate","form",function(t){if(null===Q(this,E)){var a,i=e(this);i.data(g)||(a=i[g]().data(g),e.isEmptyObject(a.fields)?(Q(this,E,E),i.off(v).removeData(g)):a._submit(t))}}),new i({required:function(t,a){var i=e.trim(t.value),n=!0;if(a)if(1===a.length){if(!i&&!this.test(t,a[0]))return Q(t,I,null),null;Q(t,I,!0)}else"not"===a[0]&&e.map(a.slice(1),function(t){i===e.trim(t)&&(n=!1)});return n&&!!i},integer:function(e,t){var a,i="0|",n="[1-9]\\d*",r=t?t[0]:"*";switch(r){case"+":a=n;break;case"-":a="-"+n;break;case"+0":a=i+n;break;case"-0":a=i+"-"+n;break;default:a=i+"-?"+n}return a="^(?:"+a+")$",new RegExp(a).test(e.value)||this.messages.integer[r]},match:function(t,a,i){if(a){var n,r,s,o,l,c,d,u=this,h="eq";if(1===a.length?s=a[0]:(h=a[0],s=a[1]),l="#"===s.charAt(0)?s:':input[name="'+s+'"]',c=u.$el.find(l)[0]){if(d=u.getField(c),n=t.value,r=c.value,i._match||(u.$el.on("valid"+y+v,l,function(){e(t).trigger("validate")}),i._match=d._match=1),!i.required&&""===n&&""===r)return null;if(a[2]&&("date"===a[2]?(n=p(n),r=p(r)):"time"===a[2]&&(n=+n.replace(":",""),r=+r.replace(":",""))),"eq"!==h&&!isNaN(+n)&&isNaN(+r))return!0;switch(o=u.messages.match[h].replace("{1}",u._getDisplay(t,d.display||s)),h){case"lt":return+n<+r||o;case"lte":return+n<=+r||o;case"gte":return+n>=+r||o;case"gt":return+n>+r||o;case"neq":return n!==r||o;default:return n===r||o}}}},range:function(e,t){return this.getRangeMsg(+e.value,t,"range")},checked:function(t,a,i){if(h(t)){var n,r,s=this;return r=s.$el.find('input[name="'+t.name+'"]').filter(function(){var t=this;return!n&&h(t)&&(n=t),!t.disabled&&t.checked&&e(t).is(":visible")}).length,a?s.getRangeMsg(r,a,"checked"):!!r||d(n,i,"")||s.messages.required}},length:function(e,t){var a=e.value,i=(t[1]?a.replace(R,"xx"):a).length;return this.getRangeMsg(i,t,"length",t[1]?"_2":"")},remote:function(t,a){if(a){var i,n=this,r=z.exec(a[0]),s=r[2],o=(r[1]||"POST").toUpperCase(),l={};return l[t.name]=t.value,a[1]&&e.map(a.slice(1),function(t){var a,i=t.split(":");t=e.trim(i[0]),a=e.trim(i[1]||"")||t,l[t]=n.$el.find("#"===a.charAt(0)?a:':input[name="'+a+'"]').val()}),l=e.param(l),"POST"===o&&(i=s.indexOf("?"),i!==-1&&(l+="&"+s.substring(i+1,s.length),s=s.substring(0,i))),e.ajax({url:s,type:o,data:l,cache:!1})}},filter:function(e,t){e.value=e.value.replace(t?new RegExp("["+t[0]+"]","gm"):Y,"")}}),a.config=function(t){e.each(t,function(e,t){"rules"===e?new i(t):"messages"===e?new n(t):J[e]=t})},a.setTheme=function(t,a){G(t)?e.each(t,function(e,t){ee[e]=t}):U(t)&&G(a)&&(ee[t]=a)},e[g]=a}),function(e){"function"==typeof define&&define.amd?define("jquery-datepicker-core",["jquery"],e):e(jQuery)}(function(e){function t(t,i){var n,r,s,o=t.nodeName.toLowerCase();return"area"===o?(n=t.parentNode,r=n.name,!(!t.href||!r||"map"!==n.nodeName.toLowerCase())&&(s=e("img[usemap=#"+r+"]")[0],!!s&&a(s))):(/input|select|textarea|button|object/.test(o)?!t.disabled:"a"===o?t.href||i:i)&&a(t)}function a(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(){var t=this.css("position"),a="absolute"===t,i=this.parents().filter(function(){var t=e(this);return(!a||"static"!==t.css("position"))&&/(auto|scroll)/.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==t&&i.length?i:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(a){return!!e.data(a,t)}}):function(t,a,i){return!!e.data(t,i[3])},focusable:function(a){return t(a,!isNaN(e.attr(a,"tabindex")))},tabbable:function(a){var i=e.attr(a,"tabindex"),n=isNaN(i);return(n||i>=0)&&t(a,!n)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,a){function i(t,a,i,r){return e.each(n,function(){a-=parseFloat(e.css(t,"padding"+this))||0,i&&(a-=parseFloat(e.css(t,"border"+this+"Width"))||0),r&&(a-=parseFloat(e.css(t,"margin"+this))||0)}),a}var n="Width"===a?["Left","Right"]:["Top","Bottom"],r=a.toLowerCase(),s={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+a]=function(t){return void 0===t?s["inner"+a].call(this):this.each(function(){e(this).css(r,i(this,t)+"px")})},e.fn["outer"+a]=function(t,n){return"number"!=typeof t?s["outer"+a].call(this,t):this.each(function(){e(this).css(r,i(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(a){return arguments.length?t.call(this,e.camelCase(a)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(a,i){return"number"==typeof a?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),i&&i.call(t)},a)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var a,i,n=e(this[0]);n.length&&n[0]!==document;){if(a=n.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0}}),e.ui.plugin={add:function(t,a,i){var n,r=e.ui[t].prototype;for(n in i)r.plugins[n]=r.plugins[n]||[],r.plugins[n].push([a,i[n]])},call:function(e,t,a,i){var n,r=e.plugins[t];if(r&&(i||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(n=0;n<r.length;n++)e.options[r[n][0]]&&r[n][1].apply(e.element,a)}}}),function(e){"function"==typeof define&&define.amd?define("jquery-datepicker",["jquery","jquery-datepicker-core"],e):e(jQuery)}(function(e){function t(e){for(var t,a;e.length&&e[0]!==document;){if(t=e.css("position"),("absolute"===t||"relative"===t||"fixed"===t)&&(a=parseInt(e.css("zIndex"),10),!isNaN(a)&&0!==a))return a;e=e.parent()}return 0}function a(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},e.extend(this._defaults,this.regional[""]),this.regional.en=e.extend(!0,{},this.regional[""]),this.regional["en-US"]=e.extend(!0,{},this.regional.en),this.dpDiv=i(e("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(a,"mouseout",function(){e(this).removeClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).removeClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",function(){e.datepicker._isDisabledDatepicker(r.inline?t.parent()[0]:r.input[0])||(e(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),e(this).addClass("ui-state-hover"),this.className.indexOf("ui-datepicker-prev")!==-1&&e(this).addClass("ui-datepicker-prev-hover"),this.className.indexOf("ui-datepicker-next")!==-1&&e(this).addClass("ui-datepicker-next-hover"))})}function n(t,a){e.extend(t,a);for(var i in a)null==a[i]&&(t[i]=a[i]);return t}e.extend(e.ui,{datepicker:{version:"1.11.0"}});var r;return e.extend(a.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return n(this._defaults,e||{}),this},_attachDatepicker:function(t,a){var i,n,r;i=t.nodeName.toLowerCase(),n="div"===i||"span"===i,t.id||(this.uuid+=1,t.id="dp"+this.uuid),r=this._newInst(e(t),n),r.settings=e.extend({},a||{}),"input"===i?this._connectDatepicker(t,r):n&&this._inlineDatepicker(t,r)},_newInst:function(t,a){var n=t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:n,input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?i(e("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,a){var i=e(t);a.append=e([]),a.trigger=e([]),i.hasClass(this.markerClassName)||(this._attachments(i,a),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),e.data(t,"datepicker",a),a.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,a){var i,n,r,s=this._get(a,"appendText"),o=this._get(a,"isRTL");a.append&&a.append.remove(),s&&(a.append=e("<span class='"+this._appendClass+"'>"+s+"</span>"),t[o?"before":"after"](a.append)),t.unbind("focus",this._showDatepicker),a.trigger&&a.trigger.remove(),i=this._get(a,"showOn"),"focus"!==i&&"both"!==i||t.focus(this._showDatepicker),"button"!==i&&"both"!==i||(n=this._get(a,"buttonText"),r=this._get(a,"buttonImage"),a.trigger=e(this._get(a,"buttonImageOnly")?e("<img/>").addClass(this._triggerClass).attr({src:r,alt:n,title:n}):e("<button type='button'></button>").addClass(this._triggerClass).html(r?e("<img/>").attr({src:r,alt:n,title:n}):n)),t[o?"before":"after"](a.trigger),a.trigger.click(function(){return e.datepicker._datepickerShowing&&e.datepicker._lastInput===t[0]?e.datepicker._hideDatepicker():e.datepicker._datepickerShowing&&e.datepicker._lastInput!==t[0]?(e.datepicker._hideDatepicker(),e.datepicker._showDatepicker(t[0])):e.datepicker._showDatepicker(t[0]),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,a,i,n,r=new Date(2009,11,20),s=this._get(e,"dateFormat");s.match(/[DM]/)&&(t=function(e){for(a=0,i=0,n=0;n<e.length;n++)e[n].length>a&&(a=e[n].length,i=n);return i},r.setMonth(t(this._get(e,s.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(t(this._get(e,s.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),e.input.attr("size",this._formatDate(e,r).length)}},_inlineDatepicker:function(t,a){var i=e(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(a.dpDiv),e.data(t,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(t),a.dpDiv.css("display","block"))},_dialogDatepicker:function(t,a,i,r,s){var o,l,c,d,u,h=this._dialogInst;return h||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=e("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),e("body").append(this._dialogInput),h=this._dialogInst=this._newInst(this._dialogInput,!1),h.settings={},e.data(this._dialogInput[0],"datepicker",h)),n(h.settings,r||{}),a=a&&a.constructor===Date?this._formatDate(h,a):a,this._dialogInput.val(a),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(l=document.documentElement.clientWidth,c=document.documentElement.clientHeight,d=document.documentElement.scrollLeft||document.body.scrollLeft,u=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[l/2-100+d,c/2-150+u]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),e.blockUI&&e.blockUI(this.dpDiv),e.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(t){var a,i=e(t),n=e.data(t,"datepicker");i.hasClass(this.markerClassName)&&(a=t.nodeName.toLowerCase(),e.removeData(t,"datepicker"),"input"===a?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==a&&"span"!==a||i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var a,i,n=e(t),r=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(a=t.nodeName.toLowerCase(),"input"===a?(t.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==a&&"span"!==a||(i=n.children("."+this._inlineClass),i.children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var a,i,n=e(t),r=e.data(t,"datepicker");n.hasClass(this.markerClassName)&&(a=t.nodeName.toLowerCase(),"input"===a?(t.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==a&&"span"!==a||(i=n.children("."+this._inlineClass),i.children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=e.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(t){try{return e.data(t,"datepicker")}catch(e){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,a,i){var r,s,o,l,c=this._getInst(t);return 2===arguments.length&&"string"==typeof a?"defaults"===a?e.extend({},e.datepicker._defaults):c?"all"===a?e.extend({},c.settings):this._get(c,a):null:(r=a||{},"string"==typeof a&&(r={},r[a]=i),void(c&&(this._curInst===c&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),o=this._getMinMaxDate(c,"min"),l=this._getMinMaxDate(c,"max"),n(c.settings,r),null!==o&&void 0!==r.dateFormat&&void 0===r.minDate&&(c.settings.minDate=this._formatDate(c,o)),null!==l&&void 0!==r.dateFormat&&void 0===r.maxDate&&(c.settings.maxDate=this._formatDate(c,l)),"disabled"in r&&(r.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(e(t),c),this._autoSize(c),this._setDate(c,s),this._updateAlternate(c),this._updateDatepicker(c))))},_changeDatepicker:function(e,t,a){this._optionDatepicker(e,t,a)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var a=this._getInst(e);a&&(this._setDate(a,t),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(e,t){var a=this._getInst(e);return a&&!a.inline&&this._setDateFromField(a,t),a?this._getDate(a):null},_doKeyDown:function(t){var a,i,n,r=e.datepicker._getInst(t.target),s=!0,o=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,e.datepicker._datepickerShowing)switch(t.keyCode){case 9:e.datepicker._hideDatepicker(),s=!1;break;case 13:return n=e("td."+e.datepicker._dayOverClass+":not(."+e.datepicker._currentClass+")",r.dpDiv),n[0]&&e.datepicker._selectDay(t.target,r.selectedMonth,r.selectedYear,n[0]),a=e.datepicker._get(r,"onSelect"),a?(i=e.datepicker._formatDate(r),a.apply(r.input?r.input[0]:null,[i,r])):e.datepicker._hideDatepicker(),!1;case 27:e.datepicker._hideDatepicker();break;case 33:e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 34:e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&e.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&e.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?-e.datepicker._get(r,"stepBigMonths"):-e.datepicker._get(r,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,o?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&e.datepicker._adjustDate(t.target,t.ctrlKey?+e.datepicker._get(r,"stepBigMonths"):+e.datepicker._get(r,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&e.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?e.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var a,i,n=e.datepicker._getInst(t.target);if(e.datepicker._get(n,"constrainInput"))return a=e.datepicker._possibleChars(e.datepicker._get(n,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!a||a.indexOf(i)>-1},_doKeyUp:function(t){var a,i=e.datepicker._getInst(t.target);if(i.input.val()!==i.lastVal)try{a=e.datepicker.parseDate(e.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,e.datepicker._getFormatConfig(i)),a&&(e.datepicker._setDateFromField(i),e.datepicker._updateAlternate(i),e.datepicker._updateDatepicker(i))}catch(e){}return!0},_showDatepicker:function(a){if(a=a.target||a,"input"!==a.nodeName.toLowerCase()&&(a=e("input",a.parentNode)[0]),!e.datepicker._isDisabledDatepicker(a)&&e.datepicker._lastInput!==a){var i,r,s,o,l,c,d;i=e.datepicker._getInst(a),e.datepicker._curInst&&e.datepicker._curInst!==i&&(e.datepicker._curInst.dpDiv.stop(!0,!0),i&&e.datepicker._datepickerShowing&&e.datepicker._hideDatepicker(e.datepicker._curInst.input[0])),r=e.datepicker._get(i,"beforeShow"),s=r?r.apply(a,[a,i]):{},s!==!1&&(n(i.settings,s),i.lastVal=null,e.datepicker._lastInput=a,e.datepicker._setDateFromField(i),e.datepicker._inDialog&&(a.value=""),e.datepicker._pos||(e.datepicker._pos=e.datepicker._findPos(a),e.datepicker._pos[1]+=a.offsetHeight),o=!1,e(a).parents().each(function(){return o|="fixed"===e(this).css("position"),!o}),l={left:e.datepicker._pos[0],top:e.datepicker._pos[1]},e.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),e.datepicker._updateDatepicker(i),l=e.datepicker._checkOffset(i,l,o),i.dpDiv.css({position:e.datepicker._inDialog&&e.blockUI?"static":o?"fixed":"absolute",display:"none",left:l.left+"px",top:l.top+"px"}),i.inline||(c=e.datepicker._get(i,"showAnim"),d=e.datepicker._get(i,"duration"),i.dpDiv.css("z-index",t(e(a))+1),e.datepicker._datepickerShowing=!0,e.effects&&e.effects.effect[c]?i.dpDiv.show(c,e.datepicker._get(i,"showOptions"),d):i.dpDiv[c||"show"](c?d:null),e.datepicker._shouldFocusInput(i)&&i.input.focus(),e.datepicker._curInst=i))}},_updateDatepicker:function(t){this.maxRows=4,r=t,t.dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a");var a,i=this._getNumberOfMonths(t),n=i[1],s=17;t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),n>1&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",s*n+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===e.datepicker._curInst&&e.datepicker._datepickerShowing&&e.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(a=t.yearshtml,setTimeout(function(){a===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),a=t.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(t,a,i){var n=t.dpDiv.outerWidth(),r=t.dpDiv.outerHeight(),s=t.input?t.input.outerWidth():0,o=t.input?t.input.outerHeight():0,l=document.documentElement.clientWidth+(i?0:e(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:e(document).scrollTop());return a.left-=this._get(t,"isRTL")?n-s:0,a.left-=i&&a.left===t.input.offset().left?e(document).scrollLeft():0,a.top-=i&&a.top===t.input.offset().top+o?e(document).scrollTop():0,a.left-=Math.min(a.left,a.left+n>l&&l>n?Math.abs(a.left+n-l):0),a.top-=Math.min(a.top,a.top+r>c&&c>r?Math.abs(r+o):0),a},_findPos:function(t){for(var a,i=this._getInst(t),n=this._get(i,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||e.expr.filters.hidden(t));)t=t[n?"previousSibling":"nextSibling"];return a=e(t).offset(),[a.left,a.top]},_hideDatepicker:function(t){var a,i,n,r,s=this._curInst;!s||t&&s!==e.data(t,"datepicker")||this._datepickerShowing&&(a=this._get(s,"showAnim"),i=this._get(s,"duration"),n=function(){e.datepicker._tidyDialog(s)},e.effects&&(e.effects.effect[a]||e.effects[a])?s.dpDiv.hide(a,e.datepicker._get(s,"showOptions"),i,n):s.dpDiv["slideDown"===a?"slideUp":"fadeIn"===a?"fadeOut":"hide"](a?i:null,n),a||n(),this._datepickerShowing=!1,r=this._get(s,"onClose"),r&&r.apply(s.input?s.input[0]:null,[s.input?s.input.val():"",s]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),e.blockUI&&(e.unblockUI(),e("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){if(e.datepicker._curInst){var a=e(t.target),i=e.datepicker._getInst(a[0]);(a[0].id===e.datepicker._mainDivId||0!==a.parents("#"+e.datepicker._mainDivId).length||a.hasClass(e.datepicker.markerClassName)||a.closest("."+e.datepicker._triggerClass).length||!e.datepicker._datepickerShowing||e.datepicker._inDialog&&e.blockUI)&&(!a.hasClass(e.datepicker.markerClassName)||e.datepicker._curInst===i)||e.datepicker._hideDatepicker()}},_adjustDate:function(t,a,i){var n=e(t),r=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(r,a+("M"===i?this._get(r,"showCurrentAtPos"):0),i),this._updateDatepicker(r))},_gotoToday:function(t){var a,i=e(t),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(a=new Date,n.selectedDay=a.getDate(),n.drawMonth=n.selectedMonth=a.getMonth(),n.drawYear=n.selectedYear=a.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(t,a,i){var n=e(t),r=this._getInst(n[0]);r["selected"+("M"===i?"Month":"Year")]=r["draw"+("M"===i?"Month":"Year")]=parseInt(a.options[a.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(n)},_selectDay:function(t,a,i,n){var r,s=e(t);e(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||(r=this._getInst(s[0]),r.selectedDay=r.currentDay=e("a",n).html(),r.selectedMonth=r.currentMonth=a,r.selectedYear=r.currentYear=i,this._selectDate(t,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(t){var a=e(t);this._selectDate(a,"")},_selectDate:function(t,a){var i,n=e(t),r=this._getInst(n[0]);a=null!=a?a:this._formatDate(r),r.input&&r.input.val(a),this._updateAlternate(r),i=this._get(r,"onSelect"),i?i.apply(r.input?r.input[0]:null,[a,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var a,i,n,r=this._get(t,"altField");r&&(a=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),n=this.formatDate(a,i,this._getFormatConfig(t)),e(r).each(function(){e(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[t>0&&t<6,""]},iso8601Week:function(e){var t,a=new Date(e.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),t=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((t-a)/864e5)/7)+1},parseDate:function(t,a,i){if(null==t||null==a)throw"Invalid arguments";if(a="object"==typeof a?a.toString():a+"",""===a)return null;var n,r,s,o,l=0,c=(i?i.shortYearCutoff:null)||this._defaults.shortYearCutoff,d="string"!=typeof c?c:(new Date).getFullYear()%100+parseInt(c,10),u=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,h=(i?i.dayNames:null)||this._defaults.dayNames,p=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,f=(i?i.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,b=-1,y=!1,w=function(e){var a=n+1<t.length&&t.charAt(n+1)===e;return a&&n++,a},k=function(e){var t=w(e),i="@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2,n=new RegExp("^\\d{1,"+i+"}"),r=a.substring(l).match(n);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},_=function(t,i,n){var r=-1,s=e.map(w(t)?n:i,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(e.each(s,function(e,t){var i=t[1];if(a.substr(l,i.length).toLowerCase()===i.toLowerCase())return r=t[0],l+=i.length,!1}),r!==-1)return r+1;throw"Unknown name at position "+l},D=function(){if(a.charAt(l)!==t.charAt(n))throw"Unexpected literal at position "+l;l++};for(n=0;n<t.length;n++)if(y)"'"!==t.charAt(n)||w("'")?D():y=!1;else switch(t.charAt(n)){case"d":v=k("d");break;case"D":_("D",u,h);break;case"o":b=k("o");break;case"m":g=k("m");break;case"M":g=_("M",p,f);break;case"y":m=k("y");break;case"@":o=new Date(k("@")),m=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case"!":o=new Date((k("!")-this._ticksTo1970)/1e4),m=o.getFullYear(),g=o.getMonth()+1,v=o.getDate();break;case"'":w("'")?D():y=!0;break;default:D()}if(l<a.length&&(s=a.substr(l),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(m===-1?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=d?0:-100)),b>-1)for(g=1,v=b;;){if(r=this._getDaysInMonth(m,g-1),v<=r)break;g++,v-=r}if(o=this._daylightSavingAdjust(new Date(m,g-1,v)),o.getFullYear()!==m||o.getMonth()+1!==g||o.getDate()!==v)throw"Invalid date";return o},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,a){if(!t)return"";var i,n=(a?a.dayNamesShort:null)||this._defaults.dayNamesShort,r=(a?a.dayNames:null)||this._defaults.dayNames,s=(a?a.monthNamesShort:null)||this._defaults.monthNamesShort,o=(a?a.monthNames:null)||this._defaults.monthNames,l=function(t){var a=i+1<e.length&&e.charAt(i+1)===t;return a&&i++,a},c=function(e,t,a){var i=""+t;if(l(e))for(;i.length<a;)i="0"+i;return i},d=function(e,t,a,i){return l(e)?i[t]:a[t]},u="",h=!1;if(t)for(i=0;i<e.length;i++)if(h)"'"!==e.charAt(i)||l("'")?u+=e.charAt(i):h=!1;else switch(e.charAt(i)){case"d":u+=c("d",t.getDate(),2);break;case"D":u+=d("D",t.getDay(),n,r);break;case"o":u+=c("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",t.getMonth()+1,2);break;case"M":u+=d("M",t.getMonth(),s,o);break;case"y":u+=l("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":h=!0;break;default:u+=e.charAt(i)}return u},_possibleChars:function(e){var t,a="",i=!1,n=function(a){var i=t+1<e.length&&e.charAt(t+1)===a;return i&&t++,i};for(t=0;t<e.length;t++)if(i)"'"!==e.charAt(t)||n("'")?a+=e.charAt(t):i=!1;else switch(e.charAt(t)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":n("'")?a+="'":i=!0;break;default:a+=e.charAt(t)}return a},_get:function(e,t){return void 0!==e.settings[t]?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var a=this._get(e,"dateFormat"),i=e.lastVal=e.input?e.input.val():null,n=this._getDefaultDate(e),r=n,s=this._getFormatConfig(e);try{r=this.parseDate(a,i,s)||n}catch(e){i=t?"":i}e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),e.currentDay=i?r.getDate():0,e.currentMonth=i?r.getMonth():0,e.currentYear=i?r.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(t,a,i){var n=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},r=function(a){try{return e.datepicker.parseDate(e.datepicker._get(t,"dateFormat"),a,e.datepicker._getFormatConfig(t))}catch(e){}for(var i=(a.toLowerCase().match(/^c/)?e.datepicker._getDate(t):null)||new Date,n=i.getFullYear(),r=i.getMonth(),s=i.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=o.exec(a);l;){switch(l[2]||"d"){case"d":case"D":s+=parseInt(l[1],10);break;case"w":case"W":s+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(n,r));break;case"y":case"Y":n+=parseInt(l[1],10),s=Math.min(s,e.datepicker._getDaysInMonth(n,r))}l=o.exec(a)}return new Date(n,r,s)},s=null==a||""===a?i:"string"==typeof a?r(a):"number"==typeof a?isNaN(a)?i:n(a):new Date(a.getTime());return s=s&&"Invalid Date"===s.toString()?i:s,s&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(e){return e?(e.setHours(e.getHours()>12?e.getHours()+2:0),e):null},_setDate:function(e,t,a){var i=!t,n=e.selectedMonth,r=e.selectedYear,s=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=s.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=s.getMonth(),e.drawYear=e.selectedYear=e.currentYear=s.getFullYear(),n===e.selectedMonth&&r===e.selectedYear||a||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(i?"":this._formatDate(e))},_getDate:function(e){var t=!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return t},_attachHandlers:function(t){var a=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){e.datepicker._adjustDate(i,-a,"M")},next:function(){e.datepicker._adjustDate(i,+a,"M")},hide:function(){e.datepicker._hideDatepicker()},today:function(){e.datepicker._gotoToday(i)},selectDay:function(){return e.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return e.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return e.datepicker._selectMonthYear(i,this,"Y"),!1}};e(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,a,i,n,r,s,o,l,c,d,u,h,p,f,m,g,v,b,y,w,k,_,D,C,x,M,I,T,S,P,A,N,F,j,E,L,O,W,q,R=new Date,B=this._daylightSavingAdjust(new Date(R.getFullYear(),R.getMonth(),R.getDate())),z=this._get(e,"isRTL"),Y=this._get(e,"showButtonPanel"),$=this._get(e,"hideIfNoPrevNext"),V=this._get(e,"navigationAsDateFormat"),H=this._getNumberOfMonths(e),K=this._get(e,"showCurrentAtPos"),U=this._get(e,"stepMonths"),G=1!==H[0]||1!==H[1],X=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(e,"min"),Z=this._getMinMaxDate(e,"max"),J=e.drawMonth-K,ee=e.drawYear;if(J<0&&(J+=12,ee--),Z)for(t=this._daylightSavingAdjust(new Date(Z.getFullYear(),Z.getMonth()-H[0]*H[1]+1,Z.getDate())),t=Q&&t<Q?Q:t;this._daylightSavingAdjust(new Date(ee,J,1))>t;)J--,J<0&&(J=11,ee--);for(e.drawMonth=J,e.drawYear=ee,a=this._get(e,"prevText"),a=V?this.formatDate(a,this._daylightSavingAdjust(new Date(ee,J-U,1)),this._getFormatConfig(e)):a,i=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+a+"</span></a>":$?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+a+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"e":"w")+"'>"+a+"</span></a>",n=this._get(e,"nextText"),n=V?this.formatDate(n,this._daylightSavingAdjust(new Date(ee,J+U,1)),this._getFormatConfig(e)):n,r=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+n+"</span></a>":$?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+n+"'><span class='ui-icon ui-icon-circle-triangle-"+(z?"w":"e")+"'>"+n+"</span></a>",s=this._get(e,"currentText"),o=this._get(e,"gotoCurrent")&&e.currentDay?X:B,s=V?this.formatDate(s,o,this._getFormatConfig(e)):s,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=Y?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(z?l:"")+(this._isInRange(e,o)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+s+"</button>":"")+(z?"":l)+"</div>":"",d=parseInt(this._get(e,"firstDay"),10),d=isNaN(d)?0:d,u=this._get(e,"showWeek"),h=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),b=this._get(e,"selectOtherMonths"),y=this._getDefaultDate(e),w="",_=0;_<H[0];_++){for(D="",this.maxRows=4,C=0;C<H[1];C++){if(x=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay)),M=" ui-corner-all",I="",G){if(I+="<div class='ui-datepicker-group",H[1]>1)switch(C){case 0:I+=" ui-datepicker-group-first",M=" ui-corner-"+(z?"right":"left");break;case H[1]-1:I+=" ui-datepicker-group-last",M=" ui-corner-"+(z?"left":"right");break;default:I+=" ui-datepicker-group-middle",M=""}I+="'>"}for(I+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+M+"'>"+(/all|left/.test(M)&&0===_?z?r:i:"")+(/all|right/.test(M)&&0===_?z?i:r:"")+this._generateMonthYearHeader(e,J,ee,Q,Z,_>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",T=u?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",k=0;k<7;k++)S=(k+d)%7,T+="<th scope='col'"+((k+d+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+h[S]+"'>"+p[S]+"</span></th>";for(I+=T+"</tr></thead><tbody>",P=this._getDaysInMonth(ee,J),ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,P)),A=(this._getFirstDayOfMonth(ee,J)-d+7)%7,N=Math.ceil((A+P)/7),F=G&&this.maxRows>N?this.maxRows:N,this.maxRows=F,j=this._daylightSavingAdjust(new Date(ee,J,1-A)),E=0;E<F;E++){for(I+="<tr>",L=u?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(j)+"</td>":"",k=0;k<7;k++)O=g?g.apply(e.input?e.input[0]:null,[j]):[!0,""],W=j.getMonth()!==J,q=W&&!b||!O[0]||Q&&j<Q||Z&&j>Z,L+="<td class='"+((k+d+6)%7>=5?" ui-datepicker-week-end":"")+(W?" ui-datepicker-other-month":"")+(j.getTime()===x.getTime()&&J===e.selectedMonth&&e._keyEvent||y.getTime()===j.getTime()&&y.getTime()===x.getTime()?" "+this._dayOverClass:"")+(q?" "+this._unselectableClass+" ui-state-disabled":"")+(W&&!v?"":" "+O[1]+(j.getTime()===X.getTime()?" "+this._currentClass:"")+(j.getTime()===B.getTime()?" ui-datepicker-today":""))+"'"+(W&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(q?"":" data-handler='selectDay' data-event='click' data-month='"+j.getMonth()+"' data-year='"+j.getFullYear()+"'")+">"+(W&&!v?"&#xa0;":q?"<span class='ui-state-default'>"+j.getDate()+"</span>":"<a class='ui-state-default"+(j.getTime()===B.getTime()?" ui-state-highlight":"")+(j.getTime()===X.getTime()?" ui-state-active":"")+(W?" ui-priority-secondary":"")+"' href='#'>"+j.getDate()+"</a>")+"</td>",j.setDate(j.getDate()+1),j=this._daylightSavingAdjust(j);I+=L+"</tr>"}J++,J>11&&(J=0,ee++),I+="</tbody></table>"+(G?"</div>"+(H[0]>0&&C===H[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),D+=I}w+=D}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,a,i,n,r,s,o){var l,c,d,u,h,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),b=this._get(e,"showMonthAfterYear"),y="<div class='ui-datepicker-title'>",w="";if(r||!g)w+="<span class='ui-datepicker-month'>"+s[t]+"</span>";else{for(l=i&&i.getFullYear()===a,c=n&&n.getFullYear()===a,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;d<12;d++)(!l||d>=i.getMonth())&&(!c||d<=n.getMonth())&&(w+="<option value='"+d+"'"+(d===t?" selected='selected'":"")+">"+o[d]+"</option>");w+="</select>"}if(b||(y+=w+(!r&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",r||!v)y+="<span class='ui-datepicker-year'>"+a+"</span>";else{for(u=this._get(e,"yearRange").split(":"),h=(new Date).getFullYear(),p=function(e){var t=e.match(/c[+\-].*/)?a+parseInt(e.substring(1),10):e.match(/[+\-].*/)?h+parseInt(e,10):parseInt(e,10);return isNaN(t)?h:t},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=i?Math.max(f,i.getFullYear()):f,m=n?Math.min(m,n.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)e.yearshtml+="<option value='"+f+"'"+(f===a?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",y+=e.yearshtml,e.yearshtml=null}return y+=this._get(e,"yearSuffix"),b&&(y+=(!r&&g&&v?"":"&#xa0;")+w),y+="</div>"},_adjustInstDate:function(e,t,a){var i=e.drawYear+("Y"===a?t:0),n=e.drawMonth+("M"===a?t:0),r=Math.min(e.selectedDay,this._getDaysInMonth(i,n))+("D"===a?t:0),s=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(i,n,r)));e.selectedDay=s.getDate(),e.drawMonth=e.selectedMonth=s.getMonth(),e.drawYear=e.selectedYear=s.getFullYear(),"M"!==a&&"Y"!==a||this._notifyChange(e)},_restrictMinMax:function(e,t){var a=this._getMinMaxDate(e,"min"),i=this._getMinMaxDate(e,"max"),n=a&&t<a?a:t;return i&&n>i?i:n},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,a,i){var n=this._getNumberOfMonths(e),r=this._daylightSavingAdjust(new Date(a,i+(t<0?t:n[0]*n[1]),1));return t<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(e,r)},_isInRange:function(e,t){var a,i,n=this._getMinMaxDate(e,"min"),r=this._getMinMaxDate(e,"max"),s=null,o=null,l=this._get(e,"yearRange");return l&&(a=l.split(":"),i=(new Date).getFullYear(),s=parseInt(a[0],10),o=parseInt(a[1],10),a[0].match(/[+\-].*/)&&(s+=i),a[1].match(/[+\-].*/)&&(o+=i)),(!n||t.getTime()>=n.getTime())&&(!r||t.getTime()<=r.getTime())&&(!s||t.getFullYear()>=s)&&(!o||t.getFullYear()<=o)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),{shortYearCutoff:t,dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,a,i){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var n=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(i,a,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),n,this._getFormatConfig(e))}}),e.fn.datepicker=function(t){if(!this.length)return this;e.datepicker.initialized||(e(document).mousedown(e.datepicker._checkExternalClick),e.datepicker.initialized=!0),0===e("#"+e.datepicker._mainDivId).length&&e("body").append(e.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof t||"isDisabled"!==t&&"getDate"!==t&&"widget"!==t?"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof t?e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this].concat(a)):e.datepicker._attachDatepicker(this,t)}):e.datepicker["_"+t+"Datepicker"].apply(e.datepicker,[this[0]].concat(a))},e.datepicker=new a,e.datepicker.initialized=!1,e.datepicker.uuid=(new Date).getTime(),e.datepicker.version="1.11.0",e.datepicker});