define("lang",[],function(){var e=official_cfg.clientLang,t={tipsInputAccount:"请输入帐号！",tipsAccountFrozen:"帐号已被冻结，请咨询客服",tipsTryRealNameEmpty:"请填写姓名",tipsTryPhoneEmpty:"请填写手机号码",tipsTryPhonePatterError:"手机格式不正确",tipsTryEmailEmpty:"邮箱不能为空",tipsTryEmailPatterError:"邮箱格式不正确",tipsInputPassword:"请输入密码！",tipsPwdWeak:"您的密码设置过于简单,请使用英文数字下划线组合",tipsPswTooLong:"密码长度不能大于20字符！",tipsPswLengthError:"密码长度不能小于6位！",tipsInputCheckCode:"请输入验证码！",tipsCheckCodeError:"验证码错误",tipsTryCheckCodeEmpty:"验证码不能为空",tipsTryTimeLimit:"30分钟内不允许重复获取试玩帐号",tipsTryMoreThanLimit:"申请试玩账号次数超过当天的限制",tipsPleaseLogin:"请登录后再进入游戏",tipsLogining:"登录中",tipsRegisterSuccess:"注册成功",labelAccount:"账号",labelTryMemberInfo:"您可以使用以下试玩账号进行试玩，请谨记您的账号信息",labelTryMemberInfo1:"您30分钟内已经申请过的试玩账号",labelMobilePhone:"手机",labelAreaCode:"区号",labelPassword:"密码",labelNewPwd:"\t新密码",labelComfirmPassword:"确认密码",labelTryLogin:"快速登录",labelNoticeMessage:"公告消息",labelTransferSuccess:"转账成功",labelPleaseChoose:"请选择",labelTryPlayTitle:"免费试玩",labelMemberRegister:"会员注册",labelAgainPwdErorr:"两次输入密码不一致",labelPwdRule2:"密码不能和账号相同",labelAccessGame:"进入游戏",labelFastDeposit:"极速入款",labelWaitingGoodRoutes:"等待好路中...",modifySuccess:"修改成功",cancelValue:"关闭",titleMessage:"消息",titleLogin:"登录",buttonConfrim:"确定",buttonCancel:"取消",tipsPlaeseChooseBank:"请选择银行",tipsPleaseChooseBankAccount:"请选择银行帐号",tipsMaxAddBank:"最多只能添加2个银行",tipsAddSuccess:"添加成功",tipsAddFail:"添加失败",tipsModifyFail:"修改失败",tipTitle:"提示",tipsDeleteInfo:"确定要删除吗？",tipsDeleteSuccess:"刪除成功",tipsPleaseWriteDepoistAmount:"请填写存款金额",tipsDepositAmountMoreThan:"存款金额不能大于",tipsDepositAmountLessThan:"存款金额不能小于",tipsPleaseInputDate:"请填写存款日期",tipsConfirmDepositInfo:"确认入款信息",tipsDepositFail:"存款失败",tipsCopySuccess:"复制成功",tipsCopyError:"您的浏览器不支持复制功能，请手动复制！",tipsGiveMoney:"赠送",tipsPleaseInputWithdrawlPwd:"请填写取款密码",tipsWithdralFail:"取款失败",tipsWithdrawlAmountLimit:"您的取款金额必须在限额内",tipsOutOfTime:"服务器繁忙，请稍后再试",tipsWithdrawOutOfLimit:"您今天的出款次数已超过限制次数",tipsAlreadyWithdrawal:"您有一笔取款申请正在处理中，必须处理完毕才能继续取款！",tipsTheSameWalle:"相同钱包不能转账",tipGetWalletFail:"钱包余额获取失败",tipsTransSend:"您的转账请求已发出",tipsBetMoneyNotEnough:"有效投注未达到",tipsPleaseWriteWithdrawlAmount:"请填写取款金额",tipsWithdrawPwdError:"取款密码不正确",labelTransferSuccess:"转账成功",labelBelongProvince:"开户省份",labelBankAddress:"开户网点",labelBelongCity:"所属城市",labelBankNumber:"银行账号",labelBankRealName:"真实姓名",labelDepositBank:"开户银行",labelEmpty:"无",LabelEmpty2:"暂无优惠",LabelEmpty3:"请选择优惠",labelLoading:"加载中...",labelBetDetail:"下注明细",labelClose:"关闭",labelOneKeyTransFont:"一键转账",labelOneKeyTransFontNew:"是否将以下钱包额度全部转到",labelMyWallet:"我的钱包",labelAmount:"金额",labelPleaseAddBank:"请添加银行账号",labelModifyEmail:"修改邮箱",labelBindEmail:"绑定邮箱",labelBindReanName:"绑定真实姓名",labelBindPhone:"绑定手机号码",titleAddBank:"添加银行帐号",titleModifyBank:"修改银行帐号",titleFastExchange:"快速兑换",modifyMemberInfo:"修改个人资料",buttonSubmit:"提交",SendInternalMessage:"发站内信",Title:"消息",SuerDelete:"确定要删除吗？",SuerDeleteAll:"确定删除所有已读站内信吗？",PleaseInputContent:"请输入站内信内容",ShowInternalMessage:"显示站内信",Sure:"确定",Submit:"提交",Cancel:"取消"},n={tipsInputAccount:"請輸入帳號！",tipsAccountFrozen:"帳號已被凍結，請咨詢客服",tipsTryRealNameEmpty:"請填寫姓名",tipsTryPhoneEmpty:"請填寫手機號碼",tipsTryPhonePatterError:"手機格式不正確",tipsTryEmailEmpty:"郵箱不能為空",tipsTryEmailPatterError:"郵箱格式不正確",tipsInputPassword:"請輸入密碼！",tipsPwdWeak:"您的密碼設置過于簡單,請使用英文數字下劃線組合",tipsPswTooLong:"密碼長度不能大于20字符！",tipsPswLengthError:"密碼長度不能小于6位！",tipsInputCheckCode:"請輸入驗證碼！",tipsCheckCodeError:"驗證碼錯誤",tipsTryCheckCodeEmpty:"驗證碼不能為空",tipsTryTimeLimit:"30分鐘內不允許重復獲取試玩帳號",tipsTryMoreThanLimit:"申請試玩賬號次數超過當天的限制",tipsPleaseLogin:"請登錄后再進入游戲",tipsLogining:"登錄中",tipsRegisterSuccess:"注冊成功",labelAccount:"賬號",labelTryMemberInfo:"您可以使用以下試玩賬號進行試玩，請謹記您的賬號信息\t",labelTryMemberInfo1:"您30分鐘內已經申請過的試玩賬號",labelMobilePhone:"手機",labelAreaCode:"區號",labelPassword:"密碼",labelNewPwd:"新密碼",labelComfirmPassword:"確認密碼",labelTryLogin:"快速登錄",labelNoticeMessage:"公告消息",labelTransferSuccess:"轉賬成功",labelPleaseChoose:"請選擇",labelTryPlayTitle:"免費試玩",labelMemberRegister:"會員注冊",labelAgainPwdErorr:"兩次輸入密碼不一致",labelPwdRule2:"密碼不能和賬號相同",labelAccessGame:"進入遊戲",labelFastDeposit:"極速入款",labelWaitingGoodRoutes:"等待好路中...",modifySuccess:"修改成功",cancelValue:"關閉",titleMessage:"消息",titleLogin:"登錄",buttonConfrim:"確定",buttonCancel:"取消",tipsPlaeseChooseBank:"請選擇銀行",tipsPleaseChooseBankAccount:"請選擇銀行帳號",tipsMaxAddBank:"最多只能添加2個銀行",tipsAddSuccess:"添加成功",tipsAddFail:"添加失敗",tipsModifyFail:"修改失敗",tipTitle:"提示",tipsDeleteInfo:"確定要刪除嗎？",tipsDeleteSuccess:"刪除成功",tipsPleaseWriteDepoistAmount:"請填寫存款金額",tipsDepositAmountMoreThan:"存款金額不能大于",tipsDepositAmountLessThan:"存款金額不能小于",tipsPleaseInputDate:"請填寫存款日期",tipsConfirmDepositInfo:"確認入款信息",tipsDepositFail:"存款失敗",tipsCopySuccess:"復制成功",tipsCopyError:"您的瀏覽器不支持復制功能，請手動復制！",tipsGiveMoney:"贈送",tipsPleaseInputWithdrawlPwd:"請填寫取款密碼",tipsWithdralFail:"取款失敗",tipsWithdrawlAmountLimit:"您的取款金額必須在限額內",tipsOutOfTime:"服務器繁忙，請稍后再試",tipsWithdrawOutOfLimit:"您今天的出款次數已超過限制次數",tipsAlreadyWithdrawal:"您有一筆取款申請正在處理中，必須處理完畢才能繼續取款！",tipsTheSameWalle:"相同錢包不能轉賬",tipGetWalletFail:"錢包余額獲取失敗",tipsTransSend:"您的轉賬請求已發出",tipsBetMoneyNotEnough:"有效投注未達到",tipsPleaseWriteWithdrawlAmount:"請填寫取款金額",tipsWithdrawPwdError:"取款密碼不正確",labelTransferSuccess:"轉賬成功",labelBelongProvince:"開戶省份",labelBankAddress:"開戶網點",labelBelongCity:"所屬城市",labelBankNumber:"銀行賬號",labelBankRealName:"真實姓名",labelDepositBank:"開戶銀行",labelEmpty:"無",LabelEmpty2:"暫無優惠",LabelEmpty3:"请选择优惠",labelLoading:"加載中...",labelBetDetail:"下注明細",labelClose:"關閉",labelOneKeyTransFont:"一鍵轉賬",labelOneKeyTransFontNew:"是否將以下錢包額度全部轉到",labelMyWallet:"我的錢包",labelAmount:"金額",labelPleaseAddBank:"請添加銀行賬號",labelModifyEmail:"修改郵箱",labelBindReanName:"綁定真實姓名",labelBindPhone:"綁定手機號碼",labelBindEmail:"綁定郵箱",titleAddBank:"添加銀行帳號",titleModifyBank:"修改銀行帳號",titleFastExchange:"快速兌換",modifyMemberInfo:"修改個人資料",buttonSubmit:"提交",SendInternalMessage:"發站內信",Title:"消息",SuerDelete:"確定要刪除嗎？",SuerDeleteAll:"確定刪除所有已讀站內信嗎？",PleaseInputContent:"請輸入站內信內容",ShowInternalMessage:"顯示站內信",Sure:"確定",Submit:"提交",Cancel:"取消"},i={tipsInputAccount:"Please input account",tipsAccountFrozen:"Account has been frozen, please consult customer service",tipsTryRealNameEmpty:"Real name required",tipsTryPhoneEmpty:"Phone is required",tipsTryPhonePatterError:"Phone Patter Error",tipsTryEmailEmpty:"Email required",tipsTryEmailPatterError:"Email Patter error",tipsInputPassword:"Please input password",tipsPwdWeak:"Your password is too simple, please use English Numbers underscore combination",tipsPswTooLong:"Password length is not greater than 20 characters!",tipsPswLengthError:"Password length cannot be less than 6!",tipsInputCheckCode:"Please input checkcode",tipsCheckCodeError:"CheckCode Mistake",tipsTryCheckCodeEmpty:"Check code is required",tipsTryTimeLimit:"disallow get account in 30 min",tipsTryMoreThanLimit:"Apply for accounts more than the limits of the day",tipsPleaseLogin:"Please Login",tipsLogining:"Logining",tipsRegisterSuccess:"Register",labelAccount:"Account",labelTryMemberInfo:"Your test member infomation",labelTryMemberInfo1:"Your Account Infomation in 30 Min",labelMobilePhone:"Mobile Phone",labelAreaCode:"Area Code",labelPassword:"Password",labelNewPwd:"New Pwd",labelComfirmPassword:"Comfirm Password",labelTryLogin:"Login",labelNoticeMessage:"Notice Message",labelTransferSuccess:"TransferSuccess",labelPleaseChoose:"Please Choose",labelTryPlayTitle:"TryPlay",labelAccessGame:"AccessGame",labelFastDeposit:"FastDeposit",labelWaitingGoodRoutes:"Waiting for a good way...",modifySuccess:"Modify Success",cancelValue:"Close",titleMessage:"Message",titleLogin:"Login",buttonConfrim:"Confrim",buttonCancel:"Cancel",labelMemberRegister:"Register",labelAgainPwdErorr:"again pwd erorr",labelPwdRule2:"The password can not is the same as the account",tipsPlaeseChooseBank:"Plaese Choose Bank",tipsPleaseChooseBankAccount:"Please Choose Bank Account",tipsMaxAddBank:"Only add two Banks",tipsAddSuccess:"Add Success",tipsAddFail:"Add Fail",tipsModifyFail:"Modify Fail",tipTitle:"Tips",tipsDeleteInfo:"Sure you want to delete?",tipsDeleteSuccess:"Delete Succes",tipsPleaseWriteDepoistAmount:"Please Write Depoist Amount",tipsDepositAmountMoreThan:"Deposit Amount Can not Less Than",tipsDepositAmountLessThan:"Deposit Amount Can not More Than",tipsPleaseInputDate:"Please Deposit Input Date",tipsConfirmDepositInfo:"Confirm Deposit Info",tipsDepositFail:"Deposit Fail",tipsCopySuccess:"Copy Success",tipsCopyError:"Your browser does not support replication, please manually copy!",tipsGiveMoney:"Give Money",tipsPleaseInputWithdrawlPwd:"PleaseInput With drawl Pwd",tipsWithdralFail:"withdrawal fial",tipsWithdrawlAmountLimit:"Your withdrawal amount must be within the limit",tipsOutOfTime:"Server busy, please try again later",tipsWithdrawOutOfLimit:"Withdraw amount out of limit",tipsAlreadyWithdrawal:"Submitted a withdrawal form, can not add application",tipsTheSameWalle:"The Same Wallet Can not Trans",tipGetWalletFail:"Get wallet fail",tipsTransSend:"Trans has been send",tipsBetMoneyNotEnough:"BetMoneyNotEnough",tipsPleaseWriteWithdrawlAmount:"PleaseWriteWithdrawlAmount",tipsWithdrawPwdError:"Withdrawal Password Error",labelTransferSuccess:"TransferSuccess",labelBelongProvince:"Bank Province",labelBankAddress:"Bank Address",labelBelongCity:"Belong City",labelBankNumber:"Bank Number",labelBankRealName:"Real Name",labelDepositBank:"Deposit Bank",labelEmpty:"Empty",LabelEmpty2:"No Offers",LabelEmpty3:"请选择优惠",labelLoading:"Loading...",labelBetDetail:"Bet Details",labelClose:"Close",labelOneKeyTransFont:"One Key Trans",labelOneKeyTransFontNew:"Whether the wallet all credits go to the below",labelMyWallet:"MyWallet",labelAmount:"Amount",labelPleaseAddBank:"Please Add Bank Account",labelModifyEmail:"ModifyEmail",labelBindPhone:"BindPhone",labelBindReanName:"BindName",labelBindEmail:"BindEmail",titleAddBank:"Add Account",titleModifyBank:"Modify Bank",titleFastExchange:"Fast Exchange",modifyMemberInfo:"Modify Member Info",buttonSubmit:"Submit",SendInternalMessage:"Send Message",Title:"Message",SuerDelete:"Are you sure to delete message?",SuerDeleteAll:"Are you sure to delete all read messages?",PleaseInputContent:"Please enter the content",ShowInternalMessage:"Showing Message",Sure:"Confirm",Submit:"Submit",Cancel:"Cancel"},a={zh_cn:t,zh_tw:n,en:i};return a[e]}),define("dialog",["jquery","lang"],function(e,t){function n(t,n,i,a){n=n||3e3,"string"===e.type(n)&&(i=n,n=3e3);var o=s({id:"d-msg",skin:"art-msg "+i,content:t,backdropOpacity:0});setTimeout(function(){o.remove()},n);return o.showModal(),o}var i=function(e){function t(){this.destroyed=!1,this.__popup=e("<div />").css({display:"none",position:"absolute",outline:0}).attr("tabindex","-1").html(this.innerHTML).appendTo("body"),this.__backdrop=this.__mask=e("<div />").css({opacity:.7,background:"#000"}),this.node=this.__popup[0],this.backdrop=this.__backdrop[0],n++}var n=0,i=!("minWidth"in e("html")[0].style),a=!i;return e.extend(t.prototype,{node:null,backdrop:null,fixed:!1,destroyed:!0,open:!1,returnValue:"",autofocus:!0,align:"bottom left",innerHTML:"",className:"art-popup",show:function(n){if(this.destroyed)return this;var o=this.__popup,r=this.__backdrop;if(this.__activeElement=this.__getActive(),this.open=!0,this.follow=n||this.follow,!this.__ready){if(o.addClass(this.className).attr("role",this.modal?"alertdialog":"dialog").css("position",this.fixed?"fixed":"absolute"),i||e(window).on("resize",e.proxy(this.reset,this)),this.modal){var s={position:"fixed",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",userSelect:"none",zIndex:this.zIndex||t.zIndex};o.addClass(this.className+"-modal"),a||e.extend(s,{position:"absolute",width:e(window).width()+"px",height:e(document).height()+"px"}),r.css(s).attr({tabindex:"0"}).on("focus",e.proxy(this.focus,this)),this.__mask=r.clone(!0).attr("style","").insertAfter(o),r.addClass(this.className+"-backdrop").insertBefore(o),this.__ready=!0}o.html()||o.html(this.innerHTML)}return o.addClass(this.className+"-show").show(),r.show(),this.reset().focus(),this.__dispatchEvent("show"),this},showModal:function(){return this.modal=!0,this.show.apply(this,arguments)},close:function(e){return!this.destroyed&&this.open&&(void 0!==e&&(this.returnValue=e),this.__popup.hide().removeClass(this.className+"-show"),this.__backdrop.hide(),this.open=!1,this.blur(),this.__dispatchEvent("close")),this},remove:function(){if(this.destroyed)return this;this.__dispatchEvent("beforeremove"),t.current===this&&(t.current=null),this.__popup.remove(),this.__backdrop.remove(),this.__mask.remove(),i||e(window).off("resize",this.reset),this.__dispatchEvent("remove");for(var n in this)delete this[n];return this},reset:function(){var e=this.follow;return e?this.__follow(e):this.__center(),this.__dispatchEvent("reset"),this},focus:function(){var n=this.node,i=this.__popup,a=t.current,o=this.zIndex=t.zIndex++;if(a&&a!==this&&a.blur(!1),!e.contains(n,this.__getActive())){var r=i.find("[autofocus]")[0];!this._autofocus&&r?this._autofocus=!0:r=n,this.__focus(r)}return i.css("zIndex",o),t.current=this,i.addClass(this.className+"-focus"),this.__dispatchEvent("focus"),this},blur:function(){var e=this.__activeElement,t=arguments[0];return t!==!1&&this.__focus(e),this._autofocus=!1,this.__popup.removeClass(this.className+"-focus"),this.__dispatchEvent("blur"),this},addEventListener:function(e,t){return this.__getEventListener(e).push(t),this},removeEventListener:function(e,t){for(var n=this.__getEventListener(e),i=0;i<n.length;i++)t===n[i]&&n.splice(i--,1);return this},__getEventListener:function(e){var t=this.__listener;return t||(t=this.__listener={}),t[e]||(t[e]=[]),t[e]},__dispatchEvent:function(e){var t=this.__getEventListener(e);this["on"+e]&&this["on"+e]();for(var n=0;n<t.length;n++)t[n].call(this)},__focus:function(e){try{this.autofocus&&!/^iframe$/i.test(e.nodeName)&&e.focus()}catch(e){}},__getActive:function(){try{var e=document.activeElement,t=e.contentDocument,n=t&&t.activeElement||e;return n}catch(e){}},__center:function(){var t=this.__popup,n=e(window),i=e(document),a=this.fixed,o=a?0:i.scrollLeft(),r=a?0:i.scrollTop(),s=n.width(),l=n.height(),u=t.width(),d=t.height(),c=(s-u)/2+o,p=382*(l-d)/1e3+r,f=t[0].style;f.left=Math.max(parseInt(c),o)+"px",f.top=Math.max(parseInt(p),r)+"px"},__follow:function(t){var n=t.parentNode&&e(t),i=this.__popup;if(this.__followSkin&&i.removeClass(this.__followSkin),n){var a=n.offset();if(a.left*a.top<0)return this.__center()}var o=this,r=this.fixed,s=e(window),l=e(document),u=s.width(),d=s.height(),c=l.scrollLeft(),p=l.scrollTop(),f=i.width(),h=i.height(),m=n?n.outerWidth():0,_=n?n.outerHeight():0,g=this.__offset(t),v=g.left,y=g.top,b=r?v-c:v,w=r?y-p:y,k=r?0:c,A=r?0:p,x=k+u-f,T=A+d-h,M={},$=this.align.split(" "),S=this.className+"-",C={top:"bottom",bottom:"top",left:"right",right:"left"},I={top:"top",bottom:"top",left:"left",right:"left"},P=[{top:w-h,bottom:w+_,left:b-f,right:b+m},{top:w,bottom:w-h+_,left:b,right:b-f+m}],D={left:b+m/2-f/2,top:w+_/2-h/2},E={left:[k,x],top:[A,T]};e.each($,function(e,t){P[e][t]>E[I[t]][1]&&(t=$[e]=C[t]),P[e][t]<E[I[t]][0]&&($[e]=C[t])}),$[1]||(I[$[1]]="left"===I[$[0]]?"top":"left",P[1][$[1]]=D[I[$[1]]]),S+=$.join("-")+" "+this.className+"-follow",o.__followSkin=S,n&&i.addClass(S),M[I[$[0]]]=parseInt(P[0][$[0]]),M[I[$[1]]]=parseInt(P[1][$[1]]),i.css(M)},__offset:function(t){var n=t.parentNode,i=n?e(t).offset():{left:t.pageX,top:t.pageY};t=n?t:t.target;var a=t.ownerDocument,o=a.defaultView||a.parentWindow;if(o==window)return i;var r=o.frameElement,s=e(a),l=s.scrollLeft(),u=s.scrollTop(),d=e(r).offset(),c=d.left,p=d.top;return{left:i.left+c-l,top:i.top+p-u}}}),t.zIndex=1024,t.current=null,t}(e),a=function(e){return{backdropBackground:"#000",backdropOpacity:.7,content:'<span class="art-dialog-loading">Loading..</span>',title:"",statusbar:"",button:null,ok:null,cancel:null,okValue:"ok",cancelValue:t.cancelValue,cancelDisplay:!0,width:"",height:"",padding:"",skin:"",quickClose:!1,cssUri:"../css/ui-dialog.css",innerHTML:'<div i="dialog" class="art-dialog"><div class="art-dialog-arrow-a"></div><div class="art-dialog-arrow-b"></div><table class="art-dialog-grid"><tr><td i="header" class="art-dialog-header"><button i="close" class="art-dialog-close">&#215;</button><div i="title" class="art-dialog-title"></div></td></tr><tr><td i="body" class="art-dialog-body"><div i="content" class="art-dialog-content"></div></td></tr><tr><td i="footer" class="art-dialog-footer"><div i="statusbar" class="art-dialog-statusbar"></div><div i="button" class="art-dialog-button"></div></td></tr></table></div>'}}(e),o=function(e){var t=0,n=new Date-0,o=!("minWidth"in e("html")[0].style),r="createTouch"in document&&!("onmousemove"in document)||/(iPhone|iPad|iPod)/i.test(navigator.userAgent),s=!o&&!r,l=function(i,a,o){var u=i=i||{};"string"!=typeof i&&1!==i.nodeType||(i={content:i,fixed:!r}),i=e.extend(!0,{},l.defaults,i),i.original=u;var d=i.id=i.id||n+t,c=l.get(d);return c?c.focus():(s||(i.fixed=!1),i.quickClose&&(i.modal=!0,i.backdropOpacity=0),e.isArray(i.button)||(i.button=[]),void 0!==a&&(i.ok=a),i.ok&&i.button.push({id:"ok",value:i.okValue,callback:i.ok,autofocus:!0}),void 0!==o&&(i.cancel=o),i.cancel&&i.button.push({id:"cancel",value:i.cancelValue,callback:i.cancel,display:i.cancelDisplay}),l.list[d]=new l.create(i))},u=function(){};u.prototype=i.prototype;var d=l.prototype=new u;return l.create=function(n){var a=this;e.extend(this,new i);var o=(n.original,e(this.node).html(n.innerHTML)),r=e(this.backdrop);return this.options=n,this._popup=o,e.each(n,function(e,t){"function"==typeof a[e]?a[e](t):a[e]=t}),n.zIndex&&(i.zIndex=n.zIndex),o.attr({"aria-labelledby":this._$("title").attr("id","title:"+this.id).attr("id"),"aria-describedby":this._$("content").attr("id","content:"+this.id).attr("id")}),this._$("close").css("display",this.cancel===!1?"none":"").attr("title",this.cancelValue).on("click",function(e){a._trigger("cancel"),e.preventDefault()}),this._$("dialog").addClass(this.skin),this._$("body").css("padding",this.padding),n.quickClose&&r.on("onmousedown"in document?"mousedown":"click",function(){return a._trigger("cancel"),!1}),this.addEventListener("show",function(){r.css({opacity:0,background:n.backdropBackground}).animate({opacity:n.backdropOpacity},150)}),this._esc=function(e){var t=e.target,n=t.nodeName,o=/^input|textarea$/i,r=i.current===a,s=e.keyCode;!r||o.test(n)&&"button"!==t.type||27===s&&a._trigger("cancel")},e(document).on("keydown",this._esc),this.addEventListener("remove",function(){e(document).off("keydown",this._esc),delete l.list[this.id]}),t++,l.oncreate(this),this},l.create.prototype=d,e.extend(d,{content:function(t){var n=this._$("content");return"object"==typeof t?(t=e(t),n.empty("").append(t.show()),this.addEventListener("remove",function(){e("body").append(t.hide())})):n.html(t),this.reset()},title:function(e){return this._$("title").text(e),this._$("header")[e?"show":"hide"](),this},width:function(e){return this._$("content").css("width",e),this.reset()},height:function(e){return this._$("content").css("height",e),this.reset()},button:function(t){t=t||[];var n=this,i="",a=0;return this.callbacks={},"string"==typeof t?(i=t,a++):e.each(t,function(t,o){var r=o.id=o.id||o.value,s="";n.callbacks[r]=o.callback,o.display===!1?s=' style="display:none"':a++,i+='<button type="button" i-id="'+r+'"'+s+(o.disabled?" disabled":"")+(o.autofocus?' autofocus class="art-dialog-autofocus"':"")+">"+o.value+"</button>",n._$("button").on("click","[i-id="+r+"]",function(t){var i=e(this);i.attr("disabled")||n._trigger(r),t.preventDefault()})}),this._$("button").html(i),this._$("footer")[a?"show":"hide"](),this},statusbar:function(e){return this._$("statusbar").html(e)[e?"show":"hide"](),this},_$:function(e){return this._popup.find("[i="+e+"]")},_trigger:function(e){var t=this.callbacks[e];return"function"!=typeof t||t.call(this)!==!1?this.close().remove():this}}),l.oncreate=e.noop,l.getCurrent=function(){return i.current},l.get=function(e){return void 0===e?l.list:l.list[e]},l.list={},l.defaults=a,l}(e),r=function(e){var t=e(window),n=e(document),i="createTouch"in document,a=document.documentElement,o=!("minWidth"in a.style),r=!o&&"onlosecapture"in a,s="setCapture"in a,l={start:i?"touchstart":"mousedown",over:i?"touchmove":"mousemove",end:i?"touchend":"mouseup"},u=i?function(e){return e.touches||(e=e.originalEvent.touches.item(0)),e}:function(e){return e},d=function(){this.start=e.proxy(this.start,this),this.over=e.proxy(this.over,this),this.end=e.proxy(this.end,this),this.onstart=this.onover=this.onend=e.noop};return d.types=l,d.prototype={start:function(e){return e=this.startFix(e),n.on(l.over,this.over).on(l.end,this.end),this.onstart(e),!1},over:function(e){return e=this.overFix(e),this.onover(e),!1},end:function(e){return e=this.endFix(e),n.off(l.over,this.over).off(l.end,this.end),this.onend(e),!1},startFix:function(i){return i=u(i),this.target=e(i.target),this.selectstart=function(){return!1},n.on("selectstart",this.selectstart).on("dblclick",this.end),r?this.target.on("losecapture",this.end):t.on("blur",this.end),s&&this.target[0].setCapture(),i},overFix:function(e){return e=u(e)},endFix:function(e){return e=u(e),n.off("selectstart",this.selectstart).off("dblclick",this.end),r?this.target.off("losecapture",this.end):t.off("blur",this.end),s&&this.target[0].releaseCapture(),e}},d.create=function(i,a){var o,r,s,l,u=e(i),c=new d,p=d.types.start,f=function(){},h=i.className.replace(/^\s|\s.*/g,"")+"-drag-start",m={onstart:f,onover:f,onend:f,off:function(){u.off(p,c.start)}};return c.onstart=function(e){var a="fixed"===u.css("position"),d=n.scrollLeft(),c=n.scrollTop(),p=u.width(),f=u.height();o=0,r=0,s=a?t.width()-p+o:n.width()-p,l=a?t.height()-f+r:n.height()-f;var _=u.offset(),g=this.startLeft=a?_.left-d:_.left,v=this.startTop=a?_.top-c:_.top;this.clientX=e.clientX,this.clientY=e.clientY,u.addClass(h),m.onstart.call(i,e,g,v)},c.onover=function(e){var t=e.clientX-this.clientX+this.startLeft,n=e.clientY-this.clientY+this.startTop,a=u[0].style;t=Math.max(o,Math.min(s,t)),n=Math.max(r,Math.min(l,n)),a.left=t+"px",a.top=n+"px",m.onover.call(i,e,t,n)},c.onend=function(e){var t=u.position(),n=t.left,a=t.top;u.removeClass(h),m.onend.call(i,e,n,a)},c.off=function(){u.off(p,c.start)},a?c.start(a):u.on(p,c.start),m},d}(e);o.oncreate=function(t){var n,i=t.options,a=i._,o=i.url,s=i.oniframeload;if(o&&(this.padding=i.padding=0,n=e("<iframe />"),n.attr({src:o,name:t.id,width:"100%",height:"100%",allowtransparency:"yes",frameborder:"no",scrolling:"no"}).on("load",function(){var e;try{e=n[0].contentWindow.frameElement}catch(e){}e&&(i.width||t.width(n.contents().width()),i.height||t.height(n.contents().height())),s&&s.call(t)}),t.addEventListener("beforeremove",function(){n.attr("src","about:blank").remove()},!1),t.content(n[0]),t.iframeNode=n[0]),!(a instanceof Object))for(var l=function(){t.close().remove()},u=0;u<frames.length;u++)try{if(a instanceof frames[u].Object){e(frames[u]).one("unload",l);break}}catch(e){}e(t.node).on(r.types.start,"[i=title]",function(e){t.follow||(t.focus(),r.create(t.node,e))})},o.get=function(e){if(e&&e.frameElement){var t,n=e.frameElement,i=o.list;for(var a in i)if(t=i[a],t.node.getElementsByTagName("iframe")[0]===n)return t}else if(e)return o.list[e]},window.ry_dialog=o;var s=o,l="d-loading-bar";try{s=top.ry_dialog}catch(e){}return{dialog:s,msg:function(e,t){n(e,t,"msg-info")},success:function(e,t){n(e,t,"msg-success")},error:function(e,t){n(e,t,"msg-error")},loading:{show:function(e){var t=s({skin:"art-loading",id:l,content:e});return t.showModal(),t},hide:function(){s.get(l).remove()}}}}),define("popup",["jquery","dialog","lang"],function(e,t,n){var i=function(){this.defaults={title:n.titleMessage,okValue:n.buttonConfrim,cancelValue:n.buttonCancel,fixed:!0,locked:!0,skin:"prompt-dialog",ok:function(){}}};return i.prototype.dialog=function(e){var n=this;return e=n._extend(t.defaults,e),t.dialog(e).showModal()},i.prototype.alert=function(e,t,i){var a,o=this;e&&(t?("string"==typeof e?a=e:"object"==typeof e&&(a=e.content),e=o._extend(o.defaults,{content:a,cancelValue:n.buttonConfrim,cancel:function(){location.reload()}}),delete e.okValue,delete e.ok):"string"==typeof e?e=o._extend(o.defaults,{content:e}):"object"==typeof e&&(e=o._extend(o.defaults,e)));var r=o.dialog(e);return i&&setTimeout(function(){r.remove(),t&&location.reload()},i),r},i.prototype.tips=function(e){var t=this,n="art-msg msg-info";if(e)return"string"==typeof e?e={skin:n,content:e,backdropOpacity:0}:"object"==typeof e&&(e={skin:e.skin,content:e.content,backdropOpacity:0}),t.dialog(e)},i.prototype.msg=function(e,n){return t.msg(e,n)},i.prototype._extend=function(t,n){return e.extend({},t,n||{})},i}),define("cookie",["jquery"],function(e){function t(t,n,i){if("undefined"!=typeof n){i=i||{},null===n&&(n="",i=e.extend({},i),i.expires=-1);var a="";if(i.expires&&("number"==typeof i.expires||i.expires.toUTCString)){var o;"number"==typeof i.expires?(o=new Date,o.setTime(o.getTime()+24*i.expires*60*60*1e3)):o=i.expires,a="; expires="+o.toUTCString()}var r=i.path?"; path="+i.path:"; path=/",s=i.domain?"; domain="+i.domain:"",l=i.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(n),a,r,s,l].join("")}else if(document.cookie.length>0&&(c_start=document.cookie.indexOf(t+"="),c_start!=-1))return c_start=c_start+t.length+1,c_end=document.cookie.indexOf(";",c_start),c_end==-1&&(c_end=document.cookie.length),unescape(document.cookie.substring(c_start,c_end))}return t}),define("utils",["jquery","cookie"],function(e,t){var n={};return n.ChangeDateFormat=function(e,t){if(t=t?t:0,e){e=e.replace("/Date(","").replace(")/",""),e.indexOf("+")>0?e=e.substring(0,e.indexOf("+")):e.indexOf("-")>0&&(e=e.substring(0,e.indexOf("-")));var n=new Date(parseInt(e,10)-t);return n}return e},n.getNewDate=function(){function n(){var t;return e.ajax({url:"/home/getservicetime",type:"post",async:!1,success:function(e){t=l.ChangeDateFormat(e)}}),t}var i,a="lastTimeDiffer",o=t(a),r=o&&o.indexOf("|")>=0?o.split("|"):"",s=3600,l=this,u=t(a);if(r.length>1)var d=new Date(r[0]),c=new Date,i=(c-d)/1e3;if(!i||i>s){var p=new Date;n();return u=(p-n())/1e3,u=u>0?-u:Math.abs(u),t(a,new Date+"|"+u),new Date((new Date).setSeconds(u))}return new Date((new Date).setSeconds(r[1]))},n.secondsFormat=function(e,t){var n=Math.floor(parseInt(e/3600)%24),i=parseInt(e/3600),a=parseInt(e/60)%60,o=e%60;return t?(i&&(a+=60*i),(a<10?"0"+a:a)+":"+(o<10?"0"+o:o)):{days:n,hours:i<10?"0"+i:i,minutes:a<10?"0"+a:a,seconds:o<10?"0"+o:o}},n.jq=function(t){if(t){if("string"==typeof t){var n=t[0];if("#"===n||"."===n)return e(t);var i=e("#"+t);return i.length>0?i:(i=e("."+t),i.length>0?i:e(t))}if("object"==typeof t)return t}return t},n.validCookieTime=function(e,n){var i=t(e),a=new Date(i),o=new Date,r=(o-a)/1e3;return!r||r>n},n.heartbeat=function(e,n,i){var a=t(e),o=new Date(a),r=new Date,s=(r-o)/1e3;(!s||s>n)&&(i&&i(),t(e,new Date))},n}),define("mutual",["jquery","popup","utils","cookie","lang"],function($,Popup,utils,cookie,lang){function areaDropdown(e,t){if(e=utils.jq(e),!e)throw Error("下拉控件不存在");if(t=utils.jq(t),!t)throw Error("触发控件的目标控件不存在");t.click(function(t){t.stopPropagation(),"none"==e.css("display")?(e.slideDown(200),$(document).click(function(){e.slideUp(200)})):(e.slideUp(200),$(document).off("click"))}),e.on("click","li",function(){var n=$(this).data("value");n?(t.attr("readonly","readonly"),$.ajax({url:"/home/getcurrency",type:"post",data:{countryNo:n},async:!1,success:function(e){t.val(e.countryAreaCode),t.blur()}})):t.val("").removeAttr("readonly").focus(),e.hide()}),e.find("li[data-value='China']")&&t.val(86)}function getWallet(e,t){var n=[];$(e).length>0&&($(e).each(function(){var e=$(this),i=e.attr(elemCustomAttr.gameClassId);if(i){var a=cookieSetting.lastGetWalletTime+i;if(t){var o=cookie(a);document.cookie=a+"="+o+";expires="+new Date(-1).toGMTString()+";path=/"}utils.validCookieTime(a,"True"==official_cfg.isPoorSite?60:20)&&n.push(i)}}),n.length>0&&new AjaxThread({url:"/account/refreshwallet",data:{gameClassId:n.join(",")},callback:function(t){if(t.success){var n=t.walletList;$(e).each(function(){var t=$(this),i=t.attr(elemCustomAttr.gameClassId);i=i?i:e.indexOf("mainWallet")>=0?0:"";for(var a=0;a<n.length;a++)if(n[a].GameClassID==parseInt(i)){if(0==n[a].MaintainState)t.html("维护中");else{var o;o=n[a].Balance<0?"0.00":void 0==n[a].Balance?n[a].Balance:parseFloat(n[a].Balance).toFixed(2),t.attr(elemCustomAttr.realBalance,o).html(o),$("#onekeyTransForm").find("span[data-id="+i+"]").attr(elemCustomAttr.realBalance,o)}t.data("state",n[a].MaintainState);break}cookie(cookieSetting.lastGetWalletTime+i,new Date)})}else t.success===!1&&$(e).each(function(){var e=$(this),t=e.attr(elemCustomAttr.gameClassId);e.html("0.00"),cookie(cookieSetting.lastGetWalletTime+t,new Date)})}}))}function MatchWithdrawPwd(e,t,n){if(e)var i=dialog.dialog({width:300,title:lang.tipTitle,content:$("#valid-dialog").get(0),fixed:!0,cancelValue:lang.cancelValue,onshow:function(){$("[name=withdrawPwd]").val(""),$(".j-valid-withdrawl").validator({showOk:!1,fields:{withdrawlpwd:$("[name=withdrawlpwd]").data("name")+":required;withdrawalpwd;"},valid:function(e){$.ajax({url:"/account/matchwithdrawpwd",data:$(e).serialize()+"&bankId="+n,type:"POST",success:function(e){e.ErrorCode?dialog.alert(e.ErrorMsg):(i.close(),t(e.memberBankAccount))}})}}),placeholder($(".j-valid-withdrawl").find("[name=withdrawPwd]"))}});else t&&t()}function getMainWallet(e){getWallet(classList.mainWallet,e)}function getChildWallet(e){getWallet(classList.childWallet,e)}function processWallet(e){return e=e<0?"0.00":parseFloat(e).toFixed(2)}function autoGetMainWallet(){setInterval(function(){getMainWallet(!1)},1e3)}function quickTransfer(){$(".j-transLink").on("click",function(){var e,t=($(this).data("id"),dialog.dialog({width:350,title:lang.titleFastExchange,content:$(".j-transForm").get(0),fixed:!0,cancelValue:lang.cancelValue,onshow:function(){$("#transForm").validator({showOk:!1,fields:{amount:lang.labelAmount+":required; integer; range[1~]"},valid:function(n){var i=$("select[name=from]").val(),a=$("select[name=transTo]").val();if(i==a)return void dialog.alert(lang.tipsTheSameWalle);e=$("#game"+i).find(".walletList").attr("data-money");var o=this,r=$(".j-transButton"),s=$("input[name=amount]");o.holdSubmit(),r.removeClass("btn-primary").addClass("btn-default").text(lang.labelInTherTransfer),$.ajax({url:"/account/Transaction",data:$(n).serialize(),type:"POST",success:function(e){if(e.errorCode)dialog.alert(e.errorMsg);else{dialog.msg(e.errorMsg,1e3),$("#refreshWallet").trigger("click");var n=$("#game"+$("select[name=transTo]").val()),i=$("#game"+$("select[name=from]").val());n.find("strong").text((parseFloat(n.text())+parseFloat(s.val())).toFixed(2)),i.find("strong").text((parseFloat(i.find("strong").text())-parseFloat(s.val())).toFixed(2)),s.val(""),t.close()}o.holdSubmit(!1),r.removeClass("btn-default").addClass("btn-primary").text(lang.buttonConfrim)}})}})}}));$("#transForm").trigger("reset"),$("select[name=transTo]").val($(this).data("gameid"))}),$(document).on("keyup","#amount",function(){var e=$(this),t=parseInt($.trim(e.val()),10);!isNaN(t)&&t>0?e.val(t):e.val("")})}function onlineUser(){setInterval(function(){utils.heartbeat(cookieSetting.lastOnlineTime,100,function(){new AjaxThread({url:"/home/onlineuser",callback:function(e){e.success||location.reload()}})})},5e3)}function getMemberMsgCount(e){function t(){new AjaxThread({url:"/account/getinternalmessagecount",callback:function(t){0==t.count?utils.jq(e).hide():utils.jq(e).show(),$(".msg-unread").html("("+t.count+")")}})}$(document).ready(function(){t(),cookie(cookieSetting.unReadMsgCount,new Date)}),setInterval(function(){utils.heartbeat(cookieSetting.unReadMsgCount,"True"==official_cfg.isPoorSite?60:15,function(){t()})},1300)}function AjaxThread(e){function t(e){return e.threadSetting.currentNum<e.threadSetting.maxThread?(e.threadSetting.currentNum++,void n(e)):void e.threadSetting.requestQue.push(e)}function n(e){$.ajax({dataType:e.dataType,url:e.url,type:e.method,data:e.data,async:e.async,error:e.error,success:i})}function i(t){e.callback&&"function"==typeof e.callback&&e.callback(t),
e.threadSetting.currentNum--,t.success&&a()}function a(){if(e.threadSetting.currentNum<e.threadSetting.maxThread||e.threadSetting.requestQue.length>0){e.threadSetting.requestQue=e.threadSetting.requestQue.unique();var t=e.threadSetting.requestQue.shift();t&&(e.threadSetting.currentNum++,n(t))}}if(null!=ajaxSetting.threadSetting){if(!this instanceof AjaxThread)return new AjaxThread(e);e=$.extend({},ajaxSetting,e||{}),t(e)}}function SubmitForm(){this.defaults={dialog:null,elements:{form:null,promoCode:null,checkcode:null,checkcodeImg:null,password:null,areaCode:null,areaDropDown:null,phone:null,agreement:null,pwdStrong:null},options:{showOk:!1,rules:{pwdstrong:function(e){return password.isPass(e.value)||lang.tipsPwdWeak}},display:function(e){return e.getAttribute("data-name")||""},fields:{pwd:{rule:"{0}required;password;pwdstrong;"},againPwd:{rule:"match(pwd)"},countryNo:{rule:"{0}required;"},currencyNo:{rule:"{0}required;"},checkcode:{rule:"{0}required;"},realName:{rule:"{0}required;"},areaCode:{rule:"{0}required;"},phone:{rule:"{0}required;"},email:{rule:"email;"},agreement:{rule:"checked"}},groups:null,valid:function(e){}},event:function(){},validation:function(){}}}function activityList(e){$(".j-activityID").on("click",function(e){e.stopPropagation();var t=$(".j-activityUl");"none"==t.css("display")?t.slideDown(200):t.slideUp(200)}),$(".j-activityID").on("keydown",function(e){var t=e.keyCode||e.which;9==t&&$(".j-activityUl").slideUp(200)}),$(document).on("click",function(){$(".listUl").slideUp(200)}),$(document).on("click",".j-activityUl li",function(){var e=$(this),t=e.attr("givemoney");$(".j-activityID").val(e.text()).data("value",e.data("value")?e.text():"暂无优惠"),$(".j-depositForm").find("[name=activityID]").val(e.data("value")).data(e.data("value")),t?$(".j-activityGiveMoney").html("<span style='font-size:16px;'>+</span>"+lang.tipsGiveMoney+t):$(".j-activityGiveMoney").html(""),$(".j-activityUl").hide()})}function renderActivityList(){var e=$(".j-activityUl"),t=$(".j-amount:visible").val(),n=$(".j-bankType").val(),i=$(".j-depositForm");if($(".j-activityGiveMoney").html(""),$(".j-activityID").val(lang.LabelEmpty2).data("value",lang.LabelEmpty2),$(".j-activityID").attr("disabled",!0),i.find("[name=activityID]").val(""),t>0)$.post("/account/GetDepositActivityList",{amount:t,depositType:parseInt(n)+1},function(t){if(t.success){var n="<li value='0' givetype='' giveamount='' givemoney=''>"+lang.LabelEmpty3+"</li>";$.each(t.data,function(e,t){null!=t.ActivityID&&($(".j-activityID").val(lang.LabelEmpty3).data("value",lang.LabelEmpty2),$(".j-activityID").attr("disabled",!1)),n+="<li data-value='"+t.ActivityID+"' givetype='"+t.GiveType+"' giveamount='"+t.GiveAmount+"' givemoney='"+t.GiveMoney+"'>"+t.ActivityName+"</li>"}),e.html(n)}});else{$(".j-activityID").val(lang.LabelEmpty2).data("value",lang.LabelEmpty2);"<li value='0' givetype='' giveamount='' givemoney=''>"+lang.LabelEmpty2+"</li>";$(".j-activityID").attr("disabled",!0)}}function zwDeposit(){function getLimit(e){var t=$(".j-depositForm").data("currencyconfig"),n=0,i=0;switch(e){case 2:n=t.MinAliPayDepositMoney,i=t.MaxAliPayDepositMoney,title="支付宝";break;case 3:n=t.MinWeChatPayDepositMoney,i=t.MaxWeChatPayDepositMoney,title="微信";break;default:n=t.MinQQPayDepositMoney,i=t.MaxQQPayDepositMoney,title="QQ钱包"}return{minMoney:n,maxMoney:i,title:title}}var themeInfoHtml=$(".j-info").html(),isSubmit=!1,isChooseMoney=!1,amount=".j-amount",bankType=".j-bankType";if(activityList(),$("html").hasClass("lte-ie9")&&$.fn.placeholder){var $input=$(".j-amount");$input.placeholder({labelMode:!0,labelStyle:{margin:"12px 0 0 0",left:0,color:"#000","font-size":"14px"}})}$(".j-fast-close").on("click",function(){$(".fast-dialog-title").text($(".fast-dialog-title").data("oldtitle")),$("#j-fast-saving,.fast-dialog-shadow,.j-fast-dialog").fadeOut(300)}),$(".j-change").on("click",function(){var e=$(this).data("type");$(".j-bankType").val(e);var t=getLimit(e);$(".j-moneyUl").find("li").each(function(e){return parseInt($(this).text())>t.maxMoney?($(".j-moneyUl").find("li:gt("+(e-1)+")").hide(),!1):void $(this).show()}),$(this).addClass("change-item-current").siblings().removeClass("change-item-current"),$(".j-amount:eq("+$(".change-item-current").index()+")").show().siblings(".j-amount").hide(),$(".j-depositForm").find(".msg-box").html("").hide(),$(".j-amount").val(""),$(".j-amount:eq("+$(".change-item-current").index()+")").prev("label").show().siblings("label").hide(),renderActivityList()}),$(".j-amount").on("keyup",function(e){var t=$(this);e=window.event||e,37==e.keyCode|39==e.keyCode||t.val(t.val().replace(/[^\d.]/g,"").replace(/^\./g,"").replace(/\.{2,}/g,".").replace(".","$#$").replace(/\./g,"").replace("$#$",".").replace(/^(\-)*(\d+)\.(\d\d).*$/,"$1$2.$3"))}),$(".j-amount").on("blur",function(){var e=$(this);/(^[1-9]\d*$)|(^([1-9]\d*|0)\.\d{2}$)/g.test(e.val())||/(^[1-9]\d*$)|(^([1-9]\d*|0)\.\d{1}$)/g.test(e.val())||e.val(""),renderActivityList()}),$(".j-amount").on("click",function(e){e.stopPropagation();var t=$(this).siblings(".j-moneyUl");isChooseMoney=!0,"none"==t.css("display")?(t.slideDown(200),$(".listUl").not(t).hide()):t.slideUp(200)}),$(".j-amount").on("keydown",function(e){var t=e.keyCode||e.which;9==t&&$(".j-moneyUl").slideUp(200)}),$(document).on("click",function(){$(".listUl").slideUp(200),$(".j-moneyUl:hidden")&&isChooseMoney&&($(".j-amount:visible").trigger("validate"),isChooseMoney=!1)}),$(document).on("click",".j-moneyUl li",function(){var e=$(this).parent().siblings(".j-amount");e.val($(this).text()),e.trigger("blur"),e.focus(),$(this).parent().hide()}),$(".j-depositForm").validator({showOk:!1,stopOnError:!0,timely:!1,ignore:":hidden",valid:function(form){if(isSubmit)return!1;if(isSubmit=!0,!$(form).find(".j-amount").isValid())return isSubmit=!1,!1;var amountVal=$(form).find(".j-amount:visible").val(),bankTypeVal=parseInt($(form).find(bankType).val()),remark=$(form).find("[name=remark]").val(),limit=getLimit(bankTypeVal),minMoney=limit.minMoney,maxMoney=limit.maxMoney,title=limit.title;return amountVal<minMoney?(dialog.alert(lang.tipsDepositAmountLessThan+minMoney),void(isSubmit=!1)):amountVal>maxMoney?(dialog.alert(lang.tipsDepositAmountMoreThan+maxMoney),void(isSubmit=!1)):void $.ajax({url:"/account/zwsavedeposit",data:{activityID:$(form).find("[name=activityID]").val(),bankType:$(form).find("[name=bankType]").val(),amount:$(form).find(".j-amount:visible").val()},type:"POST",success:function(data){if(success=data.success,$confirm=$(".j-confirm"),0==success){$(".j-fast-dialog").find(".fast-dialog-title").text(title);for(var parms=eval("("+data.returnData+")").Items,infoHtml=themeInfoHtml,qrCode,i=0;i<parms.length;i++)"QrCode"==parms[i].Key?qrCode=parms[i].Value:infoHtml=infoHtml.replace("{"+parms[i].Key+"}",parms[i].Value);infoHtml=infoHtml.replace("{Activity}",$(form).find(".j-activityID").data("value")).replace("{text2}",$(".change-item-current").data("text").text2),$(".j-title").html($(".change-item-current").data("text").text1),$confirm.find(".j-info").html(infoHtml),$confirm.find(".j-qrCode").prop("src",qrCode),$(".j-fast-dialog").removeClass("fast-dialog").addClass("fast-submit-dialog"),$confirm.siblings().not(".fast-dialog-header").hide(),$confirm.show()}else dialog.dialog({title:lang.tipTitle,content:data.returnData,fixed:!0,lock:!0,okValue:lang.labelClose,ok:function(){}});isSubmit=!1}})}}),$("#j-btnSaving").on("click",function(){var e=$(".j-change").length,t=$(".j-fast-content").width(),n=t/e-1;$(".j-depositForm")[0].reset(),$(".j-change").width(n),$(".j-change").removeClass("change-item-current").first().addClass("change-item-current"),$(".j-bankType").val($(".j-change").first().data("type")),$(".j-fast-dialog").hasClass("fast-submit-dialog")&&$(".j-fast-dialog").removeClass("fast-submit-dialog").addClass("fast-dialog"),$(".j-activityGiveMoney").html(""),$("#j-fast-saving,.fast-dialog-shadow,.j-fast-content,.j-fast-item").show(),$(".j-confirm").hide(),$(".j-fast-dialog").fadeIn(300),$(".j-amount").trigger("blur"),$(".j-amount").first().show().prev("label").show().siblings("label").hide(),$(".j-amount:gt(0)").hide(),$(".j-change").first().trigger("click")})}function placeholder(e){e=e||$("input[disable-placeholder]"),$("html").hasClass("lte-ie9")&&$.fn.placeholder&&e.each(function(){var e=$(this).data("options");e&&$(this).placeholder({labelMode:!0,labelStyle:e,labelAlpha:!0})})}var dialog=new Popup,cookieSetting={lastOnlineTime:"lastOnlineTime",lastGetWalletTime:"lastGetWalletTime",demoAccount:"official_tryplay",unReadMsgCount:"unReadMsgCount",memberMsgTime:"memberMsgTime",vaildRedPacketTime:"vaildRedPacketTime",repacketTime:"repacketTime",redPacketId:"redPacketId",memberId:"uid",recommendStatistics:"recommendStatistics"},ajaxSetting={dataType:"json",method:"post",url:null,async:!0,data:null,error:function(e,t,n){401==e.status&&(e.responseJSON.loginFromM?(dialog.alert({id:"sameLogin",content:"账号已登出，请重新登录！"},!0),ajaxSetting.threadSetting=null):location.reload())},alertDialog:function(e){},callback:function(){},threadSetting:{maxThread:100,currentNum:0,requestQue:new Array}},elemCustomAttr={gameClassId:"data-id",realBalance:"data-money"},classList={mainWallet:".mainWallet",childWallet:".childWallet"},password={regex:{strong:new RegExp("^(?=.{6,})(((?=.*[A-Z])(?=.*[a-z])(?=.*[0-9]))|((?=.*[A-Za-z])(?=.*[0-9])(?=.*_))|((?=.*[A-Z])(?=.*[a-z])(?=.*_))).*$"),medium:new RegExp("^(?=.{6,})(((?=.*[A-Z])(?=.*[a-z]))|((?=.*[A-Za-z])(?=.*_))|((?=.*[A-Za-z])(?=.*[0-9]))|((?=.*_)(?=.*[0-9]))).*$"),enough:new RegExp("^(?=.{6,}).*$")},css:{strong:"ywz_zhuce_hongxian3",medium:"ywz_zhuce_hongxian2",enough:"ywz_zhuce_hongxian",original:"ywz_zhuce_huixian"},target:{enough:$("#passwordLevel_1"),medium:$("#passwordLevel_2"),strong:$("#passwordLevel_3")},strength:function(e){var t=this;utils.jq(e).keyup(function(){for(i in t.regex)if(t.regex.hasOwnProperty(i)){var e=t.regex[i],n=t.css[i],a=t.target[i];if(!n||!a)throw Error("密码强度样式元素不存在");e.test($(this).val())?a.attr("class",n):a.attr("class",t.css.original)}})},isPass:function(e){return this.regex.strong.test(e)||this.regex.medium.test(e)}};SubmitForm.prototype={init:function(e,t){e&&(t===!0?$.extend(!0,this.defaults,this.defaults,e):$.extend(this.defaults,this.defaults,e)),this.defaults.event(),this.validator()},validator:function(){var e=this;this.defaults.elements.form.validator(this.defaults.options).on("validation",function(t,n){e.defaults.validation(t,n)})}},Array.prototype.unique=function(){for(var e,t=[],n={},i=0;null!=(e=this[i]);i++)n[e]||(t.push(e),n[e]=!0);return t},Number.prototype.toFixed=function(e){var t=this+"";if(e||(e=0),t.indexOf(".")==-1&&(t+="."),t+=new Array(e+1).join("0"),new RegExp("^(-|\\+)?(\\d+(\\.\\d{0,"+(e+1)+"})?)\\d*$").test(t)){var t="0"+RegExp.$2,n=RegExp.$1,i=RegExp.$3.length,a=!0;if(i==e+2){if(i=t.match(/\d/g),parseInt(i[i.length-1])>4)for(var o=i.length-2;o>=0&&(i[o]=parseInt(i[o])+1,10==i[o]);o--)i[o]=0,a=1!=o;t=i.join("").replace(new RegExp("(\\d+)(\\d{"+e+"})\\d$"),"$1.$2")}return a&&(t=t.substr(1)),(n+t).replace(/\.$/,"")}return this+""};var checkPhone=function(e,t){var n=!0,i=new Number(""+t).valueOf(),a=e.length,o=e.substr(0,1),r=e.substr(0,2),s=e.substr(0,3);switch(i){case 86:(11!=a||"13"!=r&&"14"!=r&&"15"!=r&&"18"!=r&&"17"!=r)&&(n=!1);break;case 1:10!=a&&(n=!1);break;case 886:"0"==o&&(e=e.substring(1),a=e.length,o=e.substr(0,1)),9==a&&"9"==o||(n=!1);break;case 852:(8!=a||"5"!=o&&"6"!=o&&"9"!=o)&&(n=!1);break;case 853:8==a&&"6"==o||(n=!1);break;case 60:(9!=a&&10!=a||"1"!=o)&&(n=!1);break;case 61:9==a&&"4"==o||(n=!1);break;case 81:(10!=a||"70"!=r&&"80"!=r&&"90"!=r)&&(n=!1);break;case 82:(10!=a||"10"!=r&&"11"!=r&&"16"!=r&&"17"!=r&&"18"!=r&&"19"!=r)&&(n=!1);break;case 850:10==a&&"1"==o||(n=!1);break;case 65:(8!=a||"8"!=o&&"9"!=o)&&(n=!1);break;case 44:var l=e.substr(0,4);(10!=a||"74"!=r&&"75"!=r&&"7624"!=l&&"77"!=r&&"78"!=r&&"79"!=r)&&(n=!1);break;case 33:(9!=a||"6"!=o&&"73"!=r&&"74"!=r&&"75"!=r&&"76"!=r&&"77"!=r&&"78"!=r)&&(n=!1);break;case 7:(10!=a||"91"!=r&&"92"!=r&&"93"!=r&&"96"!=r&&"98"!=r&&"99"!=r&&"901"!=s&&"902"!=s&&"903"!=s&&"904"!=s&&"905"!=s&&"906"!=s&&"908"!=s&&"909"!=s&&"950"!=s&&"951"!=s&&"952"!=s&&"953"!=s)&&(n=!1);break;case 91:(10!=a||"7"!=o&&"8"!=o&&"9"!=o)&&(n=!1);break;case 66:"0"==o&&(e=e.substring(1),a=e.length,o=e.substr(0,1)),(9!=a||"8"!=o&&"9"!=o)&&(n=!1);break;case 49:(10!=a&&11!=a&&9!=a||"15"!=r&&"16"!=r&&"17"!=r)&&(n=!1);break;case 55:10!=a&&11!=a&&(n=!1);break;case 62:(9!=a&&10!=a&&11!=a||"8"!=o)&&(n=!1);break;case 855:8!=a&&9!=a&&10!=a&&(n=!1);break;case 95:(8!=a&&9!=a||"69"!=r&&"80"!=r&&"90"!=r&&"99"!=r)&&(n=!1);break;case 673:(7!=a&&8!=a||"85"!=r&&"86"!=r&&"87"!=r&&"88"!=r)&&(n=!1);break;case 63:10==a&&"9"==o||(n=!1);break;case 84:(9!=a&&10!=a||"9"!=o)&&(n=!1);break;case 856:(9!=a&&10!=a||"20"!=r)&&(n=!1)}return n};return{cookieSetting:cookieSetting,password:password,areaDropdown:areaDropdown,getMainWallet:getMainWallet,getChildWallet:getChildWallet,autoGetMainWallet:autoGetMainWallet,quickTransfer:quickTransfer,onlineUser:onlineUser,getMemberMsgCount:getMemberMsgCount,AjaxThread:AjaxThread,SubmitForm:SubmitForm,zwDeposit:zwDeposit,placeholder:placeholder,MatchWithdrawPwd:MatchWithdrawPwd,checkPhone:checkPhone}}),define("class",[],function(){function e(t){if(!(this instanceof e)&&l(t))return n(t)}function t(t){var n,i;for(n in t)i=t[n],e.Mutators.hasOwnProperty(n)?e.Mutators[n].call(this,i):this.prototype[n]=i}function n(n){return n.extend=e.extend,n.implement=t,n}function i(){}function a(e,t,n){for(var i in t)if(t.hasOwnProperty(i)){if(n&&u(n,i)===-1)continue;"prototype"!==i&&(e[i]=t[i])}}e.create=function(i,o){function r(){i.apply(this,arguments),this.constructor===r&&this.initialize&&this.initialize.apply(this,arguments)}return l(i)||(o=i,i=null),o||(o={}),i||(i=o.Extends||e),o.Extends=i,i!==e&&a(r,i,i.StaticsWhiteList),t.call(r,o),n(r)},e.extend=function(t){return t||(t={}),t.Extends=this,e.create(t)},e.Mutators={Extends:function(e){var t=this.prototype,n=o(e.prototype);a(n,t),n.constructor=this,this.prototype=n,this.superclass=e.prototype},Implements:function(e){s(e)||(e=[e]);for(var t,n=this.prototype;t=e.shift();)a(n,t.prototype||t)},Statics:function(e){a(this,e)}};var o=Object.__proto__?function(e){return{__proto__:e}}:function(e){return i.prototype=e,new i},r=Object.prototype.toString,s=Array.isArray||function(e){return"[object Array]"===r.call(e)},l=function(e){return"[object Function]"===r.call(e)},u=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1};return e}),define("countdown",["jquery"],function(e){function t(e,t){var n=this;this.timerId=null,this._timer=e,this.timer=e,this.update=function(e){},this.done=function(){},this.start=function(){return null!=n.timerId&&clearInterval(n.timerId),n.timerId=setInterval(function(){--n.timer,n.timer>=0?n.update.call(n,n.timer):(n.done.call(n),n.stop())},1e3),n},this.stop=function(){return clearInterval(n.timerId),n.timerId=null,n},this.restart=function(){n.start(),n.timer=n._timer}}return t}),function(){"use strict";var e=function(){this.init()};e.prototype={init:function(){var e=this||t;return e._counter=1e3,e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var n=this||t;if(e=parseFloat(e),n.ctx||u(),"undefined"!=typeof e&&e>=0&&e<=1){if(n._volume=e,n._muted)return n;n.usingWebAudio&&(n.masterGain.gain.value=e);for(var i=0;i<n._howls.length;i++)if(!n._howls[i]._webAudio)for(var a=n._howls[i]._getSoundIds(),o=0;o<a.length;o++){var r=n._howls[i]._soundById(a[o]);r&&r._node&&(r._node.volume=r._volume*e)}return n}return n._volume},mute:function(e){var n=this||t;n.ctx||u(),n._muted=e,n.usingWebAudio&&(n.masterGain.gain.value=e?0:n._volume);for(var i=0;i<n._howls.length;i++)if(!n._howls[i]._webAudio)for(var a=n._howls[i]._getSoundIds(),o=0;o<a.length;o++){var r=n._howls[i]._soundById(a[o]);r&&r._node&&(r._node.muted=!!e||r._muted)}return n},unload:function(){for(var e=this||t,n=e._howls.length-1;n>=0;n--)e._howls[n].unload();return e.usingWebAudio&&e.ctx&&"undefined"!=typeof e.ctx.close&&(e.ctx.close(),e.ctx=null,u()),e},codecs:function(e){return(this||t)._codecs[e.replace(/^x-/,"")]},_setup:function(){var e=this||t;if(e.state=e.ctx?e.ctx.state||"running":"running",e._autoSuspend(),!e.usingWebAudio)if("undefined"!=typeof Audio)try{var n=new Audio;"undefined"==typeof n.oncanplaythrough&&(e._canPlayEvent="canplay")}catch(t){e.noAudio=!0}else e.noAudio=!0;try{var n=new Audio;n.muted&&(e.noAudio=!0)}catch(e){}return e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||t,n=null;try{n="undefined"!=typeof Audio?new Audio:null}catch(t){return e}if(!n||"function"!=typeof n.canPlayType)return e;var i=n.canPlayType("audio/mpeg;").replace(/^no$/,""),a=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),o=a&&parseInt(a[0].split("/")[1],10)<33;return e._codecs={mp3:!(o||!i&&!n.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!n.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!n.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!n.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!n.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!n.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(n.canPlayType("audio/x-m4a;")||n.canPlayType("audio/m4a;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(n.canPlayType("audio/x-mp4;")||n.canPlayType("audio/mp4;")||n.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!n.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!n.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(n.canPlayType("audio/x-flac;")||n.canPlayType("audio/flac;")).replace(/^no$/,"")},e},_enableMobileAudio:function(){var e=this||t,n=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(e._navigator&&e._navigator.userAgent),i=!!("ontouchend"in window||e._navigator&&e._navigator.maxTouchPoints>0||e._navigator&&e._navigator.msMaxTouchPoints>0);if(!e._mobileEnabled&&e.ctx&&(n||i)){e._mobileEnabled=!1,e._mobileUnloaded||44100===e.ctx.sampleRate||(e._mobileUnloaded=!0,e.unload()),e._scratchBuffer=e.ctx.createBuffer(1,1,22050);var a=function(){t._autoResume();var n=e.ctx.createBufferSource();n.buffer=e._scratchBuffer,n.connect(e.ctx.destination),"undefined"==typeof n.start?n.noteOn(0):n.start(0),"function"==typeof e.ctx.resume&&e.ctx.resume(),n.onended=function(){n.disconnect(0),e._mobileEnabled=!0,e.mobileAutoEnable=!1,document.removeEventListener("touchstart",a,!0),document.removeEventListener("touchend",a,!0)}};return document.addEventListener("touchstart",a,!0),document.addEventListener("touchend",a,!0),e}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&"undefined"!=typeof e.ctx.suspend&&t.usingWebAudio){for(var n=0;n<e._howls.length;n++)if(e._howls[n]._webAudio)for(var i=0;i<e._howls[n]._sounds.length;i++)if(!e._howls[n]._sounds[i]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&"undefined"!=typeof e.ctx.resume&&t.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.ctx.resume().then(function(){e.state="running";for(var t=0;t<e._howls.length;t++)e._howls[t]._emit("resume")}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};var t=new e,n=function(e){var t=this;return e.src&&0!==e.src.length?void t.init(e):void console.error("An array of source files must be passed with any new Howl.")};n.prototype={init:function(e){var n=this;return t.ctx||u(),n._autoplay=e.autoplay||!1,n._format="string"!=typeof e.format?e.format:[e.format],n._html5=e.html5||!1,n._muted=e.mute||!1,n._loop=e.loop||!1,n._pool=e.pool||5,n._preload="boolean"!=typeof e.preload||e.preload,n._rate=e.rate||1,n._sprite=e.sprite||{},n._src="string"!=typeof e.src?e.src:[e.src],n._volume=void 0!==e.volume?e.volume:1,n._xhrWithCredentials=e.xhrWithCredentials||!1,n._duration=0,n._state="unloaded",n._sounds=[],n._endTimers={},n._queue=[],n._onend=e.onend?[{fn:e.onend}]:[],n._onfade=e.onfade?[{fn:e.onfade}]:[],n._onload=e.onload?[{fn:e.onload}]:[],n._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],n._onplayerror=e.onplayerror?[{fn:e.onplayerror}]:[],n._onpause=e.onpause?[{fn:e.onpause}]:[],n._onplay=e.onplay?[{fn:e.onplay}]:[],n._onstop=e.onstop?[{fn:e.onstop}]:[],n._onmute=e.onmute?[{fn:e.onmute}]:[],n._onvolume=e.onvolume?[{fn:e.onvolume}]:[],n._onrate=e.onrate?[{fn:e.onrate}]:[],n._onseek=e.onseek?[{fn:e.onseek}]:[],n._onresume=[],n._webAudio=t.usingWebAudio&&!n._html5,"undefined"!=typeof t.ctx&&t.ctx&&t.mobileAutoEnable&&t._enableMobileAudio(),t._howls.push(n),n._autoplay&&n._queue.push({event:"play",action:function(){n.play()}}),n._preload&&n.load(),n},load:function(){var e=this,n=null;if(t.noAudio)return void e._emit("loaderror",null,"No audio support.");"string"==typeof e._src&&(e._src=[e._src]);for(var a=0;a<e._src.length;a++){var r,s;if(e._format&&e._format[a])r=e._format[a];else{if(s=e._src[a],"string"!=typeof s){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}r=/^data:audio\/([^;,]+);/i.exec(s),r||(r=/\.([^.]+)$/.exec(s.split("?",1)[0])),r&&(r=r[1].toLowerCase())}if(r||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),r&&t.codecs(r)){n=e._src[a];break}}return n?(e._src=n,e._state="loading","https:"===window.location.protocol&&"http:"===n.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new i(e),e._webAudio&&o(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(e,n){var i=this,a=null;if("number"==typeof e)a=e,e=null;else{if("string"==typeof e&&"loaded"===i._state&&!i._sprite[e])return null;if("undefined"==typeof e){e="__default";for(var o=0,r=0;r<i._sounds.length;r++)i._sounds[r]._paused&&!i._sounds[r]._ended&&(o++,a=i._sounds[r]._id);1===o?e=null:a=null}}var s=a?i._soundById(a):i._inactiveSound();if(!s)return null;if(a&&!e&&(e=s._sprite||"__default"),"loaded"!==i._state){s._sprite=e,s._ended=!1;var l=s._id;return i._queue.push({event:"play",action:function(){i.play(l)}}),l}if(a&&!s._paused)return n||setTimeout(function(){i._emit("play",s._id)},0),s._id;i._webAudio&&t._autoResume();var u=Math.max(0,s._seek>0?s._seek:i._sprite[e][0]/1e3),d=Math.max(0,(i._sprite[e][0]+i._sprite[e][1])/1e3-u),c=1e3*d/Math.abs(s._rate);s._paused=!1,s._ended=!1,s._sprite=e,s._seek=u,s._start=i._sprite[e][0]/1e3,s._stop=(i._sprite[e][0]+i._sprite[e][1])/1e3,s._loop=!(!s._loop&&!i._sprite[e][2]);var p=s._node;if(i._webAudio){var f=function(){i._refreshBuffer(s);var e=s._muted||i._muted?0:s._volume;p.gain.setValueAtTime(e,t.ctx.currentTime),s._playStart=t.ctx.currentTime,"undefined"==typeof p.bufferSource.start?s._loop?p.bufferSource.noteGrainOn(0,u,86400):p.bufferSource.noteGrainOn(0,u,d):s._loop?p.bufferSource.start(0,u,86400):p.bufferSource.start(0,u,d),c!==1/0&&(i._endTimers[s._id]=setTimeout(i._ended.bind(i,s),c)),n||setTimeout(function(){i._emit("play",s._id)},0)};"running"===t.state?f():(i.once("resume",f),i._clearTimer(s._id))}else{var h=function(){p.currentTime=u,p.muted=s._muted||i._muted||t._muted||p.muted,p.volume=s._volume*t.volume(),p.playbackRate=s._rate;try{if(p.play(),p.paused)return void i._emit("playerror",s._id,"Playback was unable to start. This is most commonly an issue on mobile devices where playback was not within a user interaction.");c!==1/0&&(i._endTimers[s._id]=setTimeout(i._ended.bind(i,s),c)),n||i._emit("play",s._id)}catch(e){i._emit("playerror",s._id,e)}},m=window&&window.ejecta||!p.readyState&&t._navigator.isCocoonJS;if(4===p.readyState||m)h();else{var _=function(){h(),p.removeEventListener(t._canPlayEvent,_,!1)};p.addEventListener(t._canPlayEvent,_,!1),i._clearTimer(s._id)}}return s._id},pause:function(e){var t=this;if("loaded"!==t._state)return t._queue.push({event:"pause",action:function(){t.pause(e)}}),t;for(var n=t._getSoundIds(e),i=0;i<n.length;i++){t._clearTimer(n[i]);var a=t._soundById(n[i]);if(a&&!a._paused&&(a._seek=t.seek(n[i]),a._rateSeek=0,a._paused=!0,t._stopFade(n[i]),a._node))if(t._webAudio){if(!a._node.bufferSource)continue;"undefined"==typeof a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),t._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==1/0||a._node.pause();arguments[1]||t._emit("pause",a?a._id:null)}return t},stop:function(e,t){var n=this;if("loaded"!==n._state)return n._queue.push({event:"stop",action:function(){n.stop(e)}}),n;for(var i=n._getSoundIds(e),a=0;a<i.length;a++){n._clearTimer(i[a]);var o=n._soundById(i[a]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,n._stopFade(i[a]),o._node&&(n._webAudio?o._node.bufferSource&&("undefined"==typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),n._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause())),t||n._emit("stop",o._id))}return n},mute:function(e,n){var i=this;if("loaded"!==i._state)return i._queue.push({event:"mute",action:function(){i.mute(e,n)}}),i;if("undefined"==typeof n){if("boolean"!=typeof e)return i._muted;i._muted=e}for(var a=i._getSoundIds(n),o=0;o<a.length;o++){var r=i._soundById(a[o]);r&&(r._muted=e,i._webAudio&&r._node?r._node.gain.setValueAtTime(e?0:r._volume,t.ctx.currentTime):r._node&&(r._node.muted=!!t._muted||e),i._emit("mute",r._id))}return i},volume:function(){var e,n,i=this,a=arguments;if(0===a.length)return i._volume;if(1===a.length||2===a.length&&"undefined"==typeof a[1]){var o=i._getSoundIds(),r=o.indexOf(a[0]);r>=0?n=parseInt(a[0],10):e=parseFloat(a[0])}else a.length>=2&&(e=parseFloat(a[0]),n=parseInt(a[1],10));var s;if(!("undefined"!=typeof e&&e>=0&&e<=1))return s=n?i._soundById(n):i._sounds[0],s?s._volume:0;if("loaded"!==i._state)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,a)}}),i;"undefined"==typeof n&&(i._volume=e),n=i._getSoundIds(n);for(var l=0;l<n.length;l++)s=i._soundById(n[l]),s&&(s._volume=e,a[2]||i._stopFade(n[l]),i._webAudio&&s._node&&!s._muted?s._node.gain.setValueAtTime(e,t.ctx.currentTime):s._node&&!s._muted&&(s._node.volume=e*t.volume()),i._emit("volume",s._id));return i},fade:function(e,n,i,a){var o=this;if("loaded"!==o._state)return o._queue.push({event:"fade",action:function(){o.fade(e,n,i,a)}}),o;o.volume(e,a);for(var r=o._getSoundIds(a),s=0;s<r.length;s++){var l=o._soundById(r[s]);if(l){if(a||o._stopFade(r[s]),o._webAudio&&!l._muted){var u=t.ctx.currentTime,d=u+i/1e3;l._volume=e,l._node.gain.setValueAtTime(e,u),l._node.gain.linearRampToValueAtTime(n,d)}o._startFadeInterval(l,e,n,i,r[s])}}return o},_startFadeInterval:function(e,t,n,i,a){var o=this,r=t,s=t>n?"out":"in",l=Math.abs(t-n),u=l/.01,d=u>0?i/u:i;d<4&&(u=Math.ceil(u/(4/d)),d=4),e._interval=setInterval(function(){u>0&&(r+="in"===s?.01:-.01),r=Math.max(0,r),r=Math.min(1,r),r=Math.round(100*r)/100,o._webAudio?("undefined"==typeof a&&(o._volume=r),e._volume=r):o.volume(r,e._id,!0),(n<t&&r<=n||n>t&&r>=n)&&(clearInterval(e._interval),e._interval=null,o.volume(n,e._id),o._emit("fade",e._id))},d)},_stopFade:function(e){var n=this,i=n._soundById(e);return i&&i._interval&&(n._webAudio&&i._node.gain.cancelScheduledValues(t.ctx.currentTime),clearInterval(i._interval),i._interval=null,n._emit("fade",e)),n},loop:function(){var e,t,n,i=this,a=arguments;if(0===a.length)return i._loop;if(1===a.length){if("boolean"!=typeof a[0])return n=i._soundById(parseInt(a[0],10)),!!n&&n._loop;e=a[0],i._loop=e}else 2===a.length&&(e=a[0],t=parseInt(a[1],10));for(var o=i._getSoundIds(t),r=0;r<o.length;r++)n=i._soundById(o[r]),n&&(n._loop=e,i._webAudio&&n._node&&n._node.bufferSource&&(n._node.bufferSource.loop=e,e&&(n._node.bufferSource.loopStart=n._start||0,n._node.bufferSource.loopEnd=n._stop)));return i},rate:function(){var e,n,i=this,a=arguments;if(0===a.length)n=i._sounds[0]._id;else if(1===a.length){var o=i._getSoundIds(),r=o.indexOf(a[0]);r>=0?n=parseInt(a[0],10):e=parseFloat(a[0])}else 2===a.length&&(e=parseFloat(a[0]),n=parseInt(a[1],10));var s;if("number"!=typeof e)return s=i._soundById(n),s?s._rate:i._rate;if("loaded"!==i._state)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,a)}}),i;"undefined"==typeof n&&(i._rate=e),n=i._getSoundIds(n);for(var l=0;l<n.length;l++)if(s=i._soundById(n[l])){s._rateSeek=i.seek(n[l]),s._playStart=i._webAudio?t.ctx.currentTime:s._playStart,s._rate=e,i._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.value=e:s._node&&(s._node.playbackRate=e);var u=i.seek(n[l]),d=(i._sprite[s._sprite][0]+i._sprite[s._sprite][1])/1e3-u,c=1e3*d/Math.abs(s._rate);!i._endTimers[n[l]]&&s._paused||(i._clearTimer(n[l]),i._endTimers[n[l]]=setTimeout(i._ended.bind(i,s),c)),i._emit("rate",s._id)}return i},seek:function(){var e,n,i=this,a=arguments;if(0===a.length)n=i._sounds[0]._id;else if(1===a.length){var o=i._getSoundIds(),r=o.indexOf(a[0]);r>=0?n=parseInt(a[0],10):i._sounds.length&&(n=i._sounds[0]._id,e=parseFloat(a[0]))}else 2===a.length&&(e=parseFloat(a[0]),n=parseInt(a[1],10));if("undefined"==typeof n)return i;if("loaded"!==i._state)return i._queue.push({event:"seek",action:function(){i.seek.apply(i,a)}}),i;var s=i._soundById(n);if(s){if(!("number"==typeof e&&e>=0)){if(i._webAudio){var l=i.playing(n)?t.ctx.currentTime-s._playStart:0,u=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(u+l*Math.abs(s._rate))}return s._node.currentTime}var d=i.playing(n);d&&i.pause(n,!0),s._seek=e,s._ended=!1,i._clearTimer(n),d&&i.play(n,!0),!i._webAudio&&s._node&&(s._node.currentTime=e),i._emit("seek",n)}return i},playing:function(e){var t=this;if("number"==typeof e){var n=t._soundById(e);return!!n&&!n._paused}for(var i=0;i<t._sounds.length;i++)if(!t._sounds[i]._paused)return!0;return!1},duration:function(e){var t=this,n=t._duration,i=t._soundById(e);return i&&(n=t._sprite[i._sprite][1]/1e3),n},state:function(){return this._state},unload:function(){for(var e=this,n=e._sounds,i=0;i<n.length;i++){if(n[i]._paused||e.stop(n[i]._id),!e._webAudio){var o=/MSIE |Trident\//.test(t._navigator&&t._navigator.userAgent);o||(n[i]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),n[i]._node.removeEventListener("error",n[i]._errorFn,!1),n[i]._node.removeEventListener(t._canPlayEvent,n[i]._loadFn,!1)}delete n[i]._node,e._clearTimer(n[i]._id);var r=t._howls.indexOf(e);r>=0&&t._howls.splice(r,1)}var s=!0;for(i=0;i<t._howls.length;i++)if(t._howls[i]._src===e._src){s=!1;break}return a&&s&&delete a[e._src],t.noAudio=!1,e._state="unloaded",e._sounds=[],e=null,null},on:function(e,t,n,i){var a=this,o=a["_on"+e];return"function"==typeof t&&o.push(i?{id:n,fn:t,once:i}:{id:n,fn:t}),a},off:function(e,t,n){var i=this,a=i["_on"+e],o=0;if("number"==typeof t&&(n=t,t=null),t||n)for(o=0;o<a.length;o++){var r=n===a[o].id;if(t===a[o].fn&&r||!t&&r){a.splice(o,1);break}}else if(e)i["_on"+e]=[];else{var s=Object.keys(i);for(o=0;o<s.length;o++)0===s[o].indexOf("_on")&&Array.isArray(i[s[o]])&&(i[s[o]]=[])}return i},once:function(e,t,n){var i=this;return i.on(e,t,n,1),i},_emit:function(e,t,n){for(var i=this,a=i["_on"+e],o=a.length-1;o>=0;o--)a[o].id&&a[o].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,n)}.bind(i,a[o].fn),0),
a[o].once&&i.off(e,a[o].fn,a[o].id));return i},_loadQueue:function(){var e=this;if(e._queue.length>0){var t=e._queue[0];e.once(t.event,function(){e._queue.shift(),e._loadQueue()}),t.action()}return e},_ended:function(e){var n=this,i=e._sprite;if(!n._webAudio&&e._node&&!e._node.paused)return setTimeout(n._ended.bind(n,e),100),n;var a=!(!e._loop&&!n._sprite[i][2]);if(n._emit("end",e._id),!n._webAudio&&a&&n.stop(e._id,!0).play(e._id),n._webAudio&&a){n._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=t.ctx.currentTime;var o=1e3*(e._stop-e._start)/Math.abs(e._rate);n._endTimers[e._id]=setTimeout(n._ended.bind(n,e),o)}return n._webAudio&&!a&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,n._clearTimer(e._id),n._cleanBuffer(e._node),t._autoSuspend()),n._webAudio||a||n.stop(e._id),n},_clearTimer:function(e){var t=this;return t._endTimers[e]&&(clearTimeout(t._endTimers[e]),delete t._endTimers[e]),t},_soundById:function(e){for(var t=this,n=0;n<t._sounds.length;n++)if(e===t._sounds[n]._id)return t._sounds[n];return null},_inactiveSound:function(){var e=this;e._drain();for(var t=0;t<e._sounds.length;t++)if(e._sounds[t]._ended)return e._sounds[t].reset();return new i(e)},_drain:function(){var e=this,t=e._pool,n=0,i=0;if(!(e._sounds.length<t)){for(i=0;i<e._sounds.length;i++)e._sounds[i]._ended&&n++;for(i=e._sounds.length-1;i>=0;i--){if(n<=t)return;e._sounds[i]._ended&&(e._webAudio&&e._sounds[i]._node&&e._sounds[i]._node.disconnect(0),e._sounds.splice(i,1),n--)}}},_getSoundIds:function(e){var t=this;if("undefined"==typeof e){for(var n=[],i=0;i<t._sounds.length;i++)n.push(t._sounds[i]._id);return n}return[e]},_refreshBuffer:function(e){var n=this;return e._node.bufferSource=t.ctx.createBufferSource(),e._node.bufferSource.buffer=a[n._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.value=e._rate,n},_cleanBuffer:function(e){var t=this;if(t._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=t._scratchBuffer}catch(e){}}return e.bufferSource=null,t}};var i=function(e){this._parent=e,this.init()};i.prototype={init:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,n._sounds.push(e),e.create(),e},create:function(){var e=this,n=e._parent,i=t._muted||e._muted||e._parent._muted?0:e._volume;return n._webAudio?(e._node="undefined"==typeof t.ctx.createGain?t.ctx.createGainNode():t.ctx.createGain(),e._node.gain.setValueAtTime(i,t.ctx.currentTime),e._node.paused=!0,e._node.connect(t.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(t._canPlayEvent,e._loadFn,!1),e._node.src=n._src,e._node.preload="auto",e._node.volume=i*t.volume(),e._node.load()),e},reset:function(){var e=this,n=e._parent;return e._muted=n._muted,e._loop=n._loop,e._volume=n._volume,e._rate=n._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=++t._counter,e},_errorListener:function(){var e=this;e._parent._emit("loaderror",e._id,e._node.error?e._node.error.code:0),e._node.removeEventListener("error",e._errorFn,!1)},_loadListener:function(){var e=this,n=e._parent;n._duration=Math.ceil(10*e._node.duration)/10,0===Object.keys(n._sprite).length&&(n._sprite={__default:[0,1e3*n._duration]}),"loaded"!==n._state&&(n._state="loaded",n._emit("load"),n._loadQueue()),e._node.removeEventListener(t._canPlayEvent,e._loadFn,!1)}};var a={},o=function(e){var t=e._src;if(a[t])return e._duration=a[t].duration,void l(e);if(/^data:[^;]+;base64,/.test(t)){for(var n=atob(t.split(",")[1]),i=new Uint8Array(n.length),o=0;o<n.length;++o)i[o]=n.charCodeAt(o);s(i.buffer,e)}else{var u=new XMLHttpRequest;u.open("GET",t,!0),u.withCredentials=e._xhrWithCredentials,u.responseType="arraybuffer",u.onload=function(){var t=(u.status+"")[0];return"0"!==t&&"2"!==t&&"3"!==t?void e._emit("loaderror",null,"Failed loading audio file with status: "+u.status+"."):void s(u.response,e)},u.onerror=function(){e._webAudio&&(e._html5=!0,e._webAudio=!1,e._sounds=[],delete a[t],e.load())},r(u)}},r=function(e){try{e.send()}catch(t){e.onerror()}},s=function(e,n){t.ctx.decodeAudioData(e,function(e){e&&n._sounds.length>0&&(a[n._src]=e,l(n,e))},function(){n._emit("loaderror",null,"Decoding audio data failed.")})},l=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue())},u=function(){try{"undefined"!=typeof AudioContext?t.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?t.ctx=new webkitAudioContext:t.usingWebAudio=!1}catch(e){t.usingWebAudio=!1}var e=/iP(hone|od|ad)/.test(t._navigator&&t._navigator.platform),n=t._navigator&&t._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=n?parseInt(n[1],10):null;if(e&&i&&i<9){var a=/safari/.test(t._navigator&&t._navigator.userAgent.toLowerCase());(t._navigator&&t._navigator.standalone&&!a||t._navigator&&!t._navigator.standalone&&!a)&&(t.usingWebAudio=!1)}t.usingWebAudio&&(t.masterGain="undefined"==typeof t.ctx.createGain?t.ctx.createGainNode():t.ctx.createGain(),t.masterGain.gain.value=t._muted?0:1,t.masterGain.connect(t.ctx.destination)),t._setup()};"function"==typeof define&&define.amd&&define("howler",[],function(){return{Howler:t,Howl:n}}),"undefined"!=typeof exports&&(exports.Howler=t,exports.Howl=n),"undefined"!=typeof window?(window.HowlerGlobal=e,window.Howler=t,window.Howl=n,window.Sound=i):"undefined"!=typeof global&&(global.HowlerGlobal=e,global.Howler=t,global.Howl=n,global.Sound=i)}(),function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var n=t._howls.length-1;n>=0;n--)t._howls[n].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,n){var i=this;return i.ctx&&i.ctx.listener?(t="number"!=typeof t?i._pos[1]:t,n="number"!=typeof n?i._pos[2]:n,"number"!=typeof e?i._pos:(i._pos=[e,t,n],i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]),i)):i},HowlerGlobal.prototype.orientation=function(e,t,n,i,a,o){var r=this;if(!r.ctx||!r.ctx.listener)return r;var s=r._orientation;return t="number"!=typeof t?s[1]:t,n="number"!=typeof n?s[2]:n,i="number"!=typeof i?s[3]:i,a="number"!=typeof a?s[4]:a,o="number"!=typeof o?s[5]:o,"number"!=typeof e?s:(r._orientation=[e,t,n,i,a,o],r.ctx.listener.setOrientation(e,t,n,i,a,o),r)},Howl.prototype.init=function(e){return function(t){var n=this;return n._orientation=t.orientation||[1,0,0],n._stereo=t.stereo||null,n._pos=t.pos||null,n._pannerAttr={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:0,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:"inverse",maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:1e4,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:"HRTF",refDistance:"undefined"!=typeof t.refDistance?t.refDistance:1,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:1},n._onstereo=t.onstereo?[{fn:t.onstereo}]:[],n._onpos=t.onpos?[{fn:t.onpos}]:[],n._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(t,n){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(t,n)}}),i;var a="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof n){if("number"!=typeof t)return i._stereo;i._stereo=t,i._pos=[t,0,0]}for(var o=i._getSoundIds(n),r=0;r<o.length;r++){var s=i._soundById(o[r]);if(s){if("number"!=typeof t)return s._stereo;s._stereo=t,s._pos=[t,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||e(s,a),"spatial"===a?s._panner.setPosition(t,0,0):s._panner.pan.value=t),i._emit("stereo",s._id)}}return i},Howl.prototype.pos=function(t,n,i,a){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(t,n,i,a)}}),o;if(n="number"!=typeof n?0:n,i="number"!=typeof i?-.5:i,"undefined"==typeof a){if("number"!=typeof t)return o._pos;o._pos=[t,n,i]}for(var r=o._getSoundIds(a),s=0;s<r.length;s++){var l=o._soundById(r[s]);if(l){if("number"!=typeof t)return l._pos;l._pos=[t,n,i],l._node&&(l._panner&&!l._panner.pan||e(l,"spatial"),l._panner.setPosition(t,n,i)),o._emit("pos",l._id)}}return o},Howl.prototype.orientation=function(t,n,i,a){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(t,n,i,a)}}),o;if(n="number"!=typeof n?o._orientation[1]:n,i="number"!=typeof i?o._orientation[2]:i,"undefined"==typeof a){if("number"!=typeof t)return o._orientation;o._orientation=[t,n,i]}for(var r=o._getSoundIds(a),s=0;s<r.length;s++){var l=o._soundById(r[s]);if(l){if("number"!=typeof t)return l._orientation;l._orientation=[t,n,i],l._node&&(l._panner||(l._pos||(l._pos=o._pos||[0,0,-.5]),e(l,"spatial")),l._panner.setOrientation(t,n,i)),o._emit("orientation",l._id)}}return o},Howl.prototype.pannerAttr=function(){var t,n,i,a=this,o=arguments;if(!a._webAudio)return a;if(0===o.length)return a._pannerAttr;if(1===o.length){if("object"!=typeof o[0])return i=a._soundById(parseInt(o[0],10)),i?i._pannerAttr:a._pannerAttr;t=o[0],"undefined"==typeof n&&(t.pannerAttr||(t.pannerAttr={coneInnerAngle:t.coneInnerAngle,coneOuterAngle:t.coneOuterAngle,coneOuterGain:t.coneOuterGain,distanceModel:t.distanceModel,maxDistance:t.maxDistance,refDistance:t.refDistance,rolloffFactor:t.rolloffFactor,panningModel:t.panningModel}),a._pannerAttr={coneInnerAngle:"undefined"!=typeof t.pannerAttr.coneInnerAngle?t.pannerAttr.coneInnerAngle:a._coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.pannerAttr.coneOuterAngle?t.pannerAttr.coneOuterAngle:a._coneOuterAngle,coneOuterGain:"undefined"!=typeof t.pannerAttr.coneOuterGain?t.pannerAttr.coneOuterGain:a._coneOuterGain,distanceModel:"undefined"!=typeof t.pannerAttr.distanceModel?t.pannerAttr.distanceModel:a._distanceModel,maxDistance:"undefined"!=typeof t.pannerAttr.maxDistance?t.pannerAttr.maxDistance:a._maxDistance,refDistance:"undefined"!=typeof t.pannerAttr.refDistance?t.pannerAttr.refDistance:a._refDistance,rolloffFactor:"undefined"!=typeof t.pannerAttr.rolloffFactor?t.pannerAttr.rolloffFactor:a._rolloffFactor,panningModel:"undefined"!=typeof t.pannerAttr.panningModel?t.pannerAttr.panningModel:a._panningModel})}else 2===o.length&&(t=o[0],n=parseInt(o[1],10));for(var r=a._getSoundIds(n),s=0;s<r.length;s++)if(i=a._soundById(r[s])){var l=i._pannerAttr;l={coneInnerAngle:"undefined"!=typeof t.coneInnerAngle?t.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:"undefined"!=typeof t.coneOuterAngle?t.coneOuterAngle:l.coneOuterAngle,coneOuterGain:"undefined"!=typeof t.coneOuterGain?t.coneOuterGain:l.coneOuterGain,distanceModel:"undefined"!=typeof t.distanceModel?t.distanceModel:l.distanceModel,maxDistance:"undefined"!=typeof t.maxDistance?t.maxDistance:l.maxDistance,refDistance:"undefined"!=typeof t.refDistance?t.refDistance:l.refDistance,rolloffFactor:"undefined"!=typeof t.rolloffFactor?t.rolloffFactor:l.rolloffFactor,panningModel:"undefined"!=typeof t.panningModel?t.panningModel:l.panningModel};var u=i._panner;u?(u.coneInnerAngle=l.coneInnerAngle,u.coneOuterAngle=l.coneOuterAngle,u.coneOuterGain=l.coneOuterGain,u.distanceModel=l.distanceModel,u.maxDistance=l.maxDistance,u.refDistance=l.refDistance,u.rolloffFactor=l.rolloffFactor,u.panningModel=l.panningModel):(i._pos||(i._pos=a._pos||[0,0,-.5]),e(i,"spatial"))}return a},Sound.prototype.init=function(e){return function(){var t=this,n=t._parent;t._orientation=n._orientation,t._stereo=n._stereo,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this),t._stereo?n.stereo(t._stereo):t._pos&&n.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,n=t._parent;return t._orientation=n._orientation,t._pos=n._pos,t._pannerAttr=n._pannerAttr,e.call(this)}}(Sound.prototype.reset);var e=function(e,t){t=t||"spatial","spatial"===t?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.value=e._stereo),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id)}}(),define("sound",["howler"],function(e){function t(e){var t=Array.prototype.slice.call(arguments,1);return e.replace(/{(\d+)}/g,function(e,n){return"undefined"!=typeof t[n]?t[n]:e})}var n=official_cfg;return{play:function(e){e=e||"open";var i=new Howl({src:[n.common_url+t("/other/{0}.mp3",e)]});i.play()}}}),define("about",["jquery","mutual","class","popup","countdown","utils","sound","cookie","lang","validator"],function(e,t,n,i,a,o,r,s,l){var u=new i,d={parse:function(t){var n=e(t),i=n.data();return i.$el=n,i},handleEvents:function(e){var t=d[e.method];t&&"function"==typeof t&&t(e)},render:function(t){var n=t.plugin,i=t.options,a=t.$el;switch(n){case"tooltips":i.content=i.isContent?e(t.content).html():t.content,a.tooltips(i)}},init:function(t){var n=t.init;switch(n){case"agentregister":new f,d.tabSwitch();break;case"solution":case"agreement":d.tabSwitch();break;case"deposit":e(".sub-tab li").click(function(){e(this).siblings().removeClass("current").end().addClass("current"),e(".help-item").hide().eq(e(this).index()).fadeIn(),d.adjustHeight()})}},tabSwitch:function(){if(e(".sub-menu").length){var t=e(".sub-menu .tab-arrow"),n=e(".sub-menu .current"),i=n.width(),a=n.position().left;t.css({width:i+"px",left:a+"px"}),e(".sub-menu li").hover(function(){t.animate({width:e(this).width()+"px",left:e(this).position().left+"px"},200)}),e(".sub-menu").mouseleave(function(){t.animate({width:i+"px",left:a+"px"},200)})}},adjustHeight:function(){var e=parent.document.getElementById("ifm");e.style.height=document.body.clientHeight+"px"}},c=n.create({initialize:function(t){this.options=e.extend(!0,{},t),e(function(){d.adjustHeight(),e(document).on("click","[data-click]",function(e){e.preventDefault();var t=d.parse(this);t.method=t.click,d.handleEvents(t)}),e(document).on("hover","[data-hover]",function(e){e.preventDefault();var t=d.parse(this);t.method=t.hover,d.handleEvents(t)}),e("[data-plugin]").each(function(){var e=d.parse(this);d.render(e)}),e("[data-init]").each(function(){var e=d.parse(this);d.init(e)})})}}),p=function(t){function n(e){i.options.img.attr("src",i.options.url+"?rand="+Math.random()),e&&e.val("")}if(!this instanceof p)return new p(t);if(this.options={url:"/common/createCode",img:null,relation:null,loadImg:null,event:null},!t)throw Error("验证码对象参不存在");if("string"==typeof t?this.options.img=t:e.extend(this.options,t),!this.options.img)throw Error("验证码图片对象不存在");this.options.img=o.jq(this.options.img);var i=this;if(this.options.relation)if(this.options.relation instanceof Array)for(var a,r=0;r<this.options.relation.length;r++)a=o.jq(this.options.relation[r]),a&&(a.val(""),a.on("focus",function(){var t=e(this);"text"===t.attr("type")&&"none"==i.options.img.css("display")&&(t.attr("placeholder","").val(""),i.options.img.show(),n(t))}));else{var a=o.jq(this.options.relation);a.val(""),a.on("focus",function(){var t=e(this);"text"===t.attr("type")&&"none"==i.options.img.css("display")&&(t.attr("placeholder","").val(""),i.options.img.show(),n())})}return this.options.img.on("click",function(){if(i.options.loadImg&&"string"==typeof i.options.loadImg){var t='<span id="chckloadingDiv" style="z-index: 1987;position: absolute;left: 0;top: -18px;width: 55px;height: 25px;line-height: 51px;text-align: center;background: #595959;opacity: 0.5;"><img style="bottom:4px;left:18px;" src="'+i.options.loadImg+'"></span>';e(this).before(t),n(),e(this).load(function(){e("#chckloadingDiv").remove()})}else n()}),this.options.img.is(":visible")&&n(),this};p.prototype.Refresh=function(e){this.options.img.attr("src",this.options.url+"?rand="+Math.random()),e&&e.val("")};var f=function(){var n={dialog:u,elements:{form:e("#agentRegister"),promoCode:e("input[name=PromoCode]"),checkcode:".checkcode input",checkcodeImg:e("#cCode"),password:e("#password"),areaCode:e("#areaCode"),areaDropDown:e(".listUl"),phone:e("input[name=phone]"),agreement:e(".agreement"),pwdStrong:{enough:e("#passwordLevel_1"),medium:e("#passwordLevel_2"),strong:e("#passwordLevel_3")}},options:{fields:{agentusername:{rule:"{0}required;username;remote[/about/existsagentinfo]"},pwd:{rule:"{0}required;password;match(neq, agentusername);pwdstrong;",msg:{match:"密码不能和账号相同"}},promoCode:{rule:"{0}required;promocode;remote[/about/existsagentinfo]"},realName:{rule:"{0}required,nickname;remote[/about/existsagentinfo]"},nickName:{rule:"{0}required,nickname;remote[/about/existsagentinfo]"},qqskype:{rule:"{0}required;"},withdrawPwd:{rule:"{0}required;withdrawalpwd;match(neq, pwd)"},againWithdrawalPwd:{rule:"match(withdrawPwd)"},email:{rule:"{0}required; email;remote[/about/existsagentinfo]"},applyReason:{rule:"{0}required;"},agreement:{rule:"checked"}},groups:[{fields:"areaCode phone",callback:function(t){var n=this,i=0;if(t.each(function(){n.test(this,"required")&&(i+=1)}),i>=2){if(!/^\d+$/.test(t[0].value))return"请输入有效的区号";if(!/^\d{8,}$/.test(t[1].value))return"请输入有效的手机格式";var a="";return e.ajax({url:"/about/existsagentinfo",type:"post",data:t[0].name+"="+t[0].value+"&"+t[1].name+"="+t[1].value,dataType:"json",async:!1,success:function(e){a=e.error}}),a}return"手机号码和区号都不能为空"},target:"#msgHolder"}],valid:function(t){var i=this,a=e("#save");i.holdSubmit(),a.removeClass("btn-primary").addClass("btn-default"),e.ajax({url:"/about/agentregister",data:e(t).serialize(),type:"post",success:function(o){u.alert(o.errorMsg),0==o.errorCode&&e(t).trigger("reset"),i.holdSubmit(!1),new p({img:n.elements.checkcodeImg,relation:n.elements.checkcode}),a.removeClass("btn-default").addClass("btn-primary")}})}},event:function(){var n=this.elements;t.password.target=n.pwdStrong,t.password.strength(n.password),new p({img:n.checkcodeImg,relation:n.checkcode}),t.areaDropdown(n.areaDropDown,n.areaCode);var i=function(){var t=e("[name=countryNo]").val();e.ajax({url:"getcurrency",type:"post",data:{countryNo:t},async:!1,success:function(t){var n=t.currencyList;if(n){var i="",a=n.length,o=e("#currency");if(a>1){o.show().attr("name","currencyNo"),o.siblings().removeAttr("name").hide();for(var r=0;r<a;r++)i+='<option value="'+n[r].CurrencyNo+'">'+n[r].CurrencyNo+"</option>";o.html(i)}else o.hide().removeAttr("name"),o.siblings("input[type=hidden]").attr("name","currencyNo").val(n[0].CurrencyNo),o.siblings("label").show().text(n[0].CurrencyNo)}}})};e("#country").children().length>0?(e("#country").on("change",function(){i()}),e("#country").trigger("change")):i(),e("input[name=areacode],input[name=phone]").on("blur",function(){var t,n=19-e(this).val().length;"areacode"==e(this).attr("name")?(t="phone",19-e(this).val().length==19&&(n=18)):(t="areacode",19-e(this).val().length>11&&(n=11)),e("input[name="+t+"]").attr("maxLength",n)})}};this.init(n,!0)};return f.prototype=new t.SubmitForm,c}),function(e){"function"==typeof define?define("jquery-validator",[],function(){return e}):e(jQuery)}(function(e,t){"use strict";function n(t,i){var a=this;return!a instanceof n?new n(t,i):(a.$el=e(t),void a._init(t,i))}function i(e,t){var n=t?t===!0?this:t:i.prototype;if(Y(e))for(var a in e)n[a]=o(e[a])}function a(e,t){var n=t?t===!0?this:t:a.prototype;if(Y(e))for(var i in e){if(!e[i])return;n[i]=e[i]}}function o(t){switch(e.type(t)){case"function":return t;case"array":return function(e){return t[0].test(e.value)||t[1]||!1};case"regexp":return function(e){return t.test(e.value)}}}function r(t){var n="";return e.map(t.split(" "),function(e){n+=","+("#"===e.charAt(0)?e:'[name="'+e+'"]')}),n.substring(1)}function s(t){var n;if(t&&t.tagName){switch(t.tagName){case"INPUT":case"SELECT":case"TEXTAREA":case"BUTTON":case"FIELDSET":n=t.form||e(t).closest("."+w);break;case"FORM":n=t;break;default:n=e(t).closest("."+w)}return e(n).data(_)||e(n)[_]().data(_)}}function l(e){var t,n=e.currentTarget;n.form&&null===X(n.form,O)&&(t=s(n),t?(t._parse(n),t["_"+e.type](e)):X(n,C,null))}function u(t,n){var i=e.trim(X(t,C+"-"+n));if(i)return i=new Function("return "+i)(),i?o(i):void 0}function d(e,t,n,i){var a=t.msg,o=t._r;return Y(a)&&(a=a[o]),Q(a)||(a=X(e,I+"-"+o)||X(e,I)||n||(i?Q(i)?i:i[o]:"")),a}function c(e){var t;return e&&(t=q.exec(e)),t?t[1]:""}function p(e){return"INPUT"===e.tagName&&"checkbox"===e.type||"radio"===e.type}function f(e){return Date.parse(e.replace(/\.|\-/g,"/"))}var h,m,_="validator",g="."+_,v=".rule",y=".field",b=".form",w="nice-"+_,k="n-ok",A="n-error",x="n-tip",T="n-loading",M="msg-box",$="aria-required",S="aria-invalid",C="data-rule",I="data-msg",P="data-tip",D="data-ok",E="data-target",j="data-inputstatus",O="novalidate",F=":verifiable",L=/(!?)\s?(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?\s*(;|\||&)?/g,B=/(\w+)(?:\[\s*(.*?\]?)\s*\]|\(\s*(.*?\)?)\s*\))?/,W=/(?:([^:;\(\[]*):)?(.*)/,N=/[^\x00-\xff]/g,q=/^.*(top|right|bottom|left).*$/,R=/(?:(post|get):)?(.+)/i,G=/<|>/g,V=e.noop,H=e.proxy,z=e.isFunction,U=e.isArray,Q=function(e){return"string"==typeof e},Y=function(e){return e&&"[object Object]"===Object.prototype.toString.call(e)},K=!window.XMLHttpRequest,X=function(e,n,i){return i===t?e.getAttribute(n):void(null===i?e.removeAttribute(n):e.setAttribute(n,""+i))},Z=window.console||{log:V,info:V},J={debug:0,timely:1,theme:"default",ignore:"",focusInvalid:!0,beforeSubmit:V,validClass:"n-valid",invalidClass:"n-invalid",msgWrapper:"span",msgMaker:function(e){var t,n={error:A,ok:k,tip:x,loading:T}[e.type];return t='<span class="msg-wrap '+n+'" role="alert">',t+=e.arrow+e.icon+'<span class="n-msg">'+e.msg+"</span>",t+="</span>"},msgIcon:'<span class="n-icon"></span>',msgArrow:"",msgClass:"",defaultMsg:"{0} is not valid.",loadingMsg:"Validating..."},ee={default:{formClass:"n-default",msgClass:"n-right",showOk:""}};e.fn[_]=function(t){var i=this,a=arguments;return i.is(":input")?i:(!i.is("form")&&(i=this.find("form")),!i.length&&(i=this),i.each(function(){var i=e(this).data(_);if(i)if(Q(t)){if("_"===t.charAt(0))return;i[t].apply(i,Array.prototype.slice.call(a,1))}else t&&(i._reset(!0),i._init(this,t));else new n(this,t)}),this)},e.fn.isValid=function(e,t){var n,i,a=s(this[0]),o=z(e);return!a||(a.checkOnly=!!t,i=a.options,n=a._multiValidate(this.is(":input")?this:this.find(F),function(t){t||!i.focusInvalid||a.checkOnly||a.$el.find(":input["+S+"]:first").focus(),o&&e.call(null,t),a.checkOnly=!1}),o?this:n)},e.expr[":"].verifiable=function(e){var t=e.nodeName.toLowerCase();return("input"===t&&!{submit:1,button:1,reset:1,image:1}[e.type]||"select"===t||"textarea"===t)&&e.disabled===!1},n.prototype={_init:function(t,n){var o,s,l,u=this;if(z(n)&&(n={valid:n}),n=n||{},l=X(t,"data-"+_+"-option"),l=l&&"{"===l.charAt(0)?new Function("return "+l)():{},s=ee[n.theme||l.theme||J.theme],o=u.options=e.extend({},J,s,l,u.options,n),u.rules=new i(o.rules,!0),u.messages=new a(o.messages,!0),u.elements=u.elements||{},u.deferred={},u.errors={},u.fields={},u._initFields(o.fields),U(o.groups)&&e.map(o.groups,function(t){return Q(t.fields)&&z(t.callback)?(t.$elems=u.$el.find(r(t.fields)),void e.map(t.fields.split(" "),function(e){u.fields[e]=u.fields[e]||{},u.fields[e].group=t})):null}),u.msgOpt={type:"error",pos:c(o.msgClass),wrapper:o.msgWrapper,cls:o.msgClass,style:o.msgStyle,icon:o.msgIcon,arrow:o.msgArrow,show:o.msgShow,hide:o.msgHide},u.isAjaxSubmit=!1,o.valid||!e.trim(X(t,"action")))u.isAjaxSubmit=!0;else{var d=e[e._data?"_data":"data"](t,"events");d&&d.valid&&e.map(d.valid,function(e){return e.namespace.indexOf("form")!==-1?1:null}).length&&(u.isAjaxSubmit=!0)}u.$el.data(_)||(u.$el.data(_,u).addClass(w+" "+o.formClass).on("submit"+g+" validate"+g,H(u,"_submit")).on("reset"+g,H(u,"_reset")).on("showtip"+g,H(u,"_showTip")).on("focusin"+g+" click"+g+" showtip"+g,F,H(u,"_focusin")).on("focusout"+g+" validate"+g,F,H(u,"_focusout")),o.timely>=2&&u.$el.on("keyup"+g+" paste"+g,F,H(u,"_focusout")).on("click"+g,":radio,:checkbox",H(u,"_focusout")).on("change"+g,'select,input[type="file"]',H(u,"_focusout")),u._novalidate=X(t,O),X(t,O,O))},_initFields:function(t){var n=this;Y(t)&&e.each(t,function(e,t){if(null===t){var i=n.elements[e];i&&n._resetElement(i,!0),delete n.fields[e]}else n.fields[e]=Q(t)?{rule:t}:t}),n.$el.find(F).each(function(){n._parse(this)})},_parse:function(e){var t,n=this,i=e.name,a=X(e,C);a&&X(e,C,null),(e.id&&"#"+e.id in n.fields||!e.name)&&(i="#"+e.id),i&&(t=n.fields[i]||{},t.key=i,t.old={},t.rule=t.rule||a||"",t.rule&&(t.rule.match(/match|checked/)&&(t.must=!0),t.rule.indexOf("required")!==-1&&(t.required=!0,X(e,$,!0)),("timely"in t&&!t.timely||!n.options.timely)&&X(e,"notimely",!0),Q(t.target)&&X(e,E,t.target),Q(t.tip)&&X(e,P,t.tip),n.fields[i]=n._parseRule(t)))},_parseRule:function(e){var n=W.exec(e.rule),i=this.options;if(n)return e._i=0,n[1]&&(e.display=n[1]),!e.display&&i.display&&(e.display=i.display),n[2]&&(e.rules=[],n[2].replace(L,function(){var n=arguments;n[3]=n[3]||n[4],e.rules.push({not:"!"===n[1],method:n[2],params:n[3]?n[3].split(", "):t,or:"|"===n[5]})})),e},_multiValidate:function(n,i){var a=this,o=a.options;return a.verifying=!0,a.isValid=!0,o.ignore&&(n=n.not(o.ignore)),n.each(function(e,t){var n=a.getField(t);if(n&&(a._validate(t,n),!a.isValid&&o.stopOnError))return!1}),e.when.apply(null,e.map(a.deferred,function(e){return e})).done(function(){i.call(a,a.isValid),a.verifying=!1}),e.isEmptyObject(a.deferred)?a.isValid:t},_submit:function(t){var n=this,i=n.options,a=t.target,o="submit"===t.type;t.preventDefault(),m&&~(m=!1)||n.submiting||"validate"===t.type&&n.$el[0]!==a||i.beforeSubmit.call(n,a)===!1||(i.debug&&Z.log("\n"+t.type),n._reset(),n.submiting=!0,n._multiValidate(n.$el.find(F),function(t){var r,s=t||2===i.debug?"valid":"invalid";t||(i.focusInvalid&&n.$el.find(":input["+S+'="true"]:first').focus(),r=e.map(n.errors,function(e){return e})),n.submiting=!1,z(i[s])&&i[s].call(n,a,r),n.$el.trigger(s+b,[a,r]),t&&!n.isAjaxSubmit&&o&&(m=!0,h&&h.name&&n.$el.append('<input type="hidden" name="'+h.name+'" value="'+e(h).val()+'">'),a.submit())}))},_reset:function(e){var t=this;t.errors={},e&&t.$el.find(F).each(function(e,n){t._resetElement(n)})},_resetElement:function(t,n){var i=this.options;e(t).removeClass(i.validClass+" "+i.invalidClass),this.hideMsg(t),n&&X(t,$,null)},_focusin:function(t){var n,i=this,a=i.options,o=t.target;i.verifying||("showtip"!==t.type&&"error"===X(o,j)&&a.focusCleanup&&(e(o).removeClass(a.invalidClass),i.hideMsg(o)),n=X(o,P),n&&i.showMsg(o,{type:"tip",msg:n}))},_focusout:function(t){var n,i,a=this,o=a.options,r=t.target,s=t.type,l={click:1,change:1,paste:1},u=0;if(!l[s]){if("validate"===s)i=!0;else{if(X(r,"notimely"))return;if(o.timely>=2&&"keyup"!==s)return}if(o.ignore&&e(r).is(o.ignore))return;if("keyup"===s){var d=t.keyCode,c={8:1,9:1,16:1,32:1,46:1};if(9===d&&!r.value)return;if(d<48&&!c[d])return;u=o.timely>=100?o.timely:500}}n=a.getField(r),n&&(u?(n._t&&clearTimeout(n._t),n._t=setTimeout(function(){a._validate(r,n,i)},u)):a._validate(r,n,i))},_showTip:function(e){var t=this;t.$el[0]===e.target&&t.$el.find(F+"["+P+"]").each(function(){t.showMsg(this,{msg:X(this,P),type:"tip"})})},_validatedField:function(t,n,i){var a=this,o=a.options,r=i.isValid=n.isValid=!!i.isValid,s=r?"valid":"invalid";i.key=n.key,i.rule=n._r,r?i.type="ok":(a.submiting&&(a.errors[n.key]=i.msg),a.isValid=!1),n.old.value=t.value,n.old.id=t.id,a.elements[n.key]=i.element=t,a.$el[0].isValid=r?a.isFormValid():r,z(n[s])&&n[s].call(a,t,i),e(t).attr(S,!r||null).removeClass(r?o.invalidClass:o.validClass).addClass(i.skip?"":r?o.validClass:o.invalidClass).trigger(s+y,[i,a]),a.$el.triggerHandler("validation",[i,a]),a.checkOnly||(n.msgMaker||o.msgMaker)&&a[i.showOk||i.msg?"showMsg":"hideMsg"](t,i,n)},_validatedRule:function(n,i,a,o){i=i||u.getField(n),o=o||{};var r,s,l,u=this,c=u.options,p=i._r,f=!1;if(null===a)return void u._validatedField(n,i,{isValid:!0,skip:!0});if(a===!0||a===t||""===a?f=!0:Q(a)?r=a:Y(a)&&(a.error?r=a.error:(r=a.ok,f=!0)),i.rules&&(s=i.rules[i._i],s.not&&(r=t,f="required"===p||!f),s.or))if(f)for(;i._i<i.rules.length&&i.rules[i._i].or;)i._i++;else l=!0;l||(f?(o.isValid=f,c.showOk!==!1&&(Q(r)||(Q(i.ok)?r=i.ok:Q(X(n,D))?r=X(n,D):Q(c.showOk)&&(r=c.showOk)),Q(r)&&(o.showOk=f,o.msg=r)),e(n).trigger("valid"+v,[p,o.msg])):(o.msg=(d(n,i,r,u.messages[p])||J.defaultMsg).replace("{0}",u._getDisplay(n,i.display||"")),e(n).trigger("invalid"+v,[p,o.msg]))),c.debug&&Z.log("   "+i._i+": "+p+" => "+(f||o.msg||f)),l||f&&i._i<i.rules.length-1?(i._i++,u._checkRule(n,i)):(i._i=0,u._validatedField(n,i,o))},_checkRule:function(n,i){var a,o,r=this,s=i.key,l=i.rules[i._i],d=l.method,c=l.params;r.submiting&&r.deferred[s]||(o=i.old,i._r=d,a=!i.must&&o.ret!==t&&o.rule===l&&o.id===n.id&&n.value&&o.value===n.value?o.ret:(u(n,d)||r.rules[d]||V).call(r,n,c,i),Y(a)&&z(a.then)?(r.deferred[s]=a,!r.checkOnly&&r.showMsg(n,{type:"loading",msg:r.options.loadingMsg},i),a.then(function(a,s,u){var d,c=u.responseText,p=i.dataFilter||r.options.dataFilter;"json"===this.dataType?c=a:"{"===c.charAt(0)&&(c=e.parseJSON(c)||{}),z(p)||(p=function(e){if(Q(e)||Y(e)&&("error"in e||"ok"in e))return e}),d=p(c),d===t&&(d=p(c.data)),o.rule=l,o.ret=d,r._validatedRule(n,i,d)},function(e,t){r._validatedRule(n,i,t)}).always(function(){delete r.deferred[s]}),i.isValid=t):r._validatedRule(n,i,a))},_validate:function(n,i){if(!n.disabled&&null===X(n,O)){var a,o=this,r={},s=i.group,l=i.isValid=!0;if(i.rules||o._parse(n),o.options.debug&&Z.info(i.key),s&&(a=s.callback.call(o,s.$elems),a!==t&&(o.hideMsg(s.target,{},i),a===!0?a=t:(i._i=0,i._r="group",l=!1,o.hideMsg(n,{},i),e.extend(r,s)))),l&&!i.required&&!i.must&&!n.value){if("tip"===X(n,j))return;if(!p(n))return void o._validatedField(n,i,{isValid:!0})}a!==t?o._validatedRule(n,i,a,r):i.rule&&o._checkRule(n,i)}},test:function(e,n){var i,a,o,r=this,s=B.exec(n);return s&&(a=s[1],a in r.rules&&(o=s[2]||s[3],o=o?o.split(", "):t,i=r.rules[a].call(r,e,o))),i===!0||i===t||null===i},getRangeMsg:function(e,t,n,i){if(t){var a=this,o=a.messages[n]||"",r=t[0].split("~"),s=r[0],l=r[1],u="rg",d=[""],c=+e===+e;if(2===r.length){if(s&&l){if(c&&e>=+s&&e<=+l)return!0;d=d.concat(r)}else if(s&&!l){if(c&&e>=+s)return!0;d.push(s),u="gte"}else if(!s&&l){if(c&&e<=+l)return!0;d.push(l),u="lte"}}else{if(e===+s)return!0;d.push(s),u="eq"}return o&&(i&&o[u+i]&&(u+=i),d[0]=o[u]),a.renderMsg.apply(null,d)}},renderMsg:function(){var e=arguments,t=e[0],n=e.length;if(t){for(;--n;)t=t.replace("{"+n+"}",e[n]);return t}},_getDisplay:function(e,t){return Q(t)?t:z(t)?t.call(this,e):""},_getMsgOpt:function(t){return e.extend({},this.msgOpt,Q(t)?{msg:t}:t)},_getMsgDOM:function(t,n){var i,a,o,r=e(t);if(r.is(":input")?(o=n.target||X(t,E),o&&(o=z(o)?o.call(this,t):this.$el.find(o),o.length&&(o.is(":input")?t=o.get(0):i=o)),i||(a=!p(t)&&t.id?t.id:t.name,i=this.$el.find(n.wrapper+"."+M+'[for="'+a+'"]'))):i=r,!i.length)if(r=this.$el.find(o||t),i=e("<"+n.wrapper+">").attr({
class:M+(n.cls?" "+n.cls:""),style:n.style||"",for:a}),p(t)){var s=r.parent();i.appendTo(s.is("label")?s.parent():s)}else i[n.pos&&"right"!==n.pos?"insertBefore":"insertAfter"](r);return i},showMsg:function(t,n,i){var a,o=this,r=o.options;if(n=o._getMsgOpt(n),(n.msg||n.showOk)&&(t=e(t).get(0),e(t).is(F)&&(X(t,j,n.type),i=i||o.getField(t),i&&(n.style=i.msgStyle||n.style,n.cls=i.msgClass||n.cls,n.wrapper=i.msgWrapper||n.wrapper,n.target=i.target||r.target)),a=(i||{}).msgMaker||r.msgMaker)){var s=o._getMsgDOM(t,n),l=s[0].className;!q.test(l)&&s.addClass(n.cls),K&&"bottom"===n.pos&&(s[0].style.marginTop=e(t).outerHeight()+"px"),s.html(a.call(o,n))[0].style.display="",z(n.show)&&n.show.call(o,s,n.type)}},hideMsg:function(t,n,i){var a=this,o=a.options;t=e(t).get(0),n=a._getMsgOpt(n),e(t).is(F)&&(X(t,j,null),X(t,S,null),i=i||a.getField(t),i&&(n.wrapper=i.msgWrapper||n.wrapper,n.target=i.target||o.target));var r=a._getMsgDOM(t,n);r.length&&(z(n.hide)?n.hide.call(a,r,n.type):r[0].style.display="none")},mapMsg:function(t){var n=this;e.each(t,function(e,t){var i=n.elements[e]||n.$el.find(':input[name="'+e+'"]')[0];n.showMsg(i,t)})},setMsg:function(e){new a(e,this.messages)},setRule:function(t){new i(t,this.rules),e.map(this.fields,function(e){e.old={}})},getField:function(e){var t,n=this;return t=e.id&&"#"+e.id in n.fields||!e.name?"#"+e.id:e.name,X(e,C)&&n._parse(e),n.fields[t]},setField:function(e,t){var n={};Q(e)?n[e]=t:Y(e)&&(n=e),this._initFields(n)},isFormValid:function(){var e=this.fields;for(var t in e)if(!e[t].isValid)return e[t].isValid;return!0},holdSubmit:function(e){this.submiting=e===t||e},cleanUp:function(){this._reset(1)},destroy:function(){this._reset(1),this.$el.off(g).removeData(_),X(this.$el[0],O,this._novalidate)}},e(document).on("focusin",":input["+C+"]",function(e){l(e)}).on("click","input,button",function(e){var t=this,n=t.name;if(t.form)if("submit"===t.type)h=t,null!==X(t,O)&&(m=!0);else if(n&&p(t)){var i=t.form.elements[n];i.length&&(i=i[0]),X(i,C)&&l(e)}}).on("submit validate","form",function(t){if(null===X(this,O)){var n,i=e(this);i.data(_)||(n=i[_]().data(_),e.isEmptyObject(n.fields)?(X(this,O,O),i.off(g).removeData(_)):n._submit(t))}}),new i({required:function(t,n){var i=e.trim(t.value),a=!0;if(n)if(1===n.length){if(!i&&!this.test(t,n[0]))return X(t,$,null),null;X(t,$,!0)}else"not"===n[0]&&e.map(n.slice(1),function(t){i===e.trim(t)&&(a=!1)});return a&&!!i},integer:function(e,t){var n,i="0|",a="[1-9]\\d*",o=t?t[0]:"*";switch(o){case"+":n=a;break;case"-":n="-"+a;break;case"+0":n=i+a;break;case"-0":n=i+"-"+a;break;default:n=i+"-?"+a}return n="^(?:"+n+")$",new RegExp(n).test(e.value)||this.messages.integer[o]},match:function(t,n,i){if(n){var a,o,r,s,l,u,d,c=this,p="eq";if(1===n.length?r=n[0]:(p=n[0],r=n[1]),l="#"===r.charAt(0)?r:':input[name="'+r+'"]',u=c.$el.find(l)[0]){if(d=c.getField(u),a=t.value,o=u.value,i._match||(c.$el.on("valid"+y+g,l,function(){e(t).trigger("validate")}),i._match=d._match=1),!i.required&&""===a&&""===o)return null;if(n[2]&&("date"===n[2]?(a=f(a),o=f(o)):"time"===n[2]&&(a=+a.replace(":",""),o=+o.replace(":",""))),"eq"!==p&&!isNaN(+a)&&isNaN(+o))return!0;switch(s=c.messages.match[p].replace("{1}",c._getDisplay(t,d.display||r)),p){case"lt":return+a<+o||s;case"lte":return+a<=+o||s;case"gte":return+a>=+o||s;case"gt":return+a>+o||s;case"neq":return a!==o||s;default:return a===o||s}}}},range:function(e,t){return this.getRangeMsg(+e.value,t,"range")},checked:function(t,n,i){if(p(t)){var a,o,r=this;return o=r.$el.find('input[name="'+t.name+'"]').filter(function(){var t=this;return!a&&p(t)&&(a=t),!t.disabled&&t.checked&&e(t).is(":visible")}).length,n?r.getRangeMsg(o,n,"checked"):!!o||d(a,i,"")||r.messages.required}},length:function(e,t){var n=e.value,i=(t[1]?n.replace(N,"xx"):n).length;return this.getRangeMsg(i,t,"length",t[1]?"_2":"")},remote:function(t,n){if(n){var i,a=this,o=R.exec(n[0]),r=o[2],s=(o[1]||"POST").toUpperCase(),l={};return l[t.name]=t.value,n[1]&&e.map(n.slice(1),function(t){var n,i=t.split(":");t=e.trim(i[0]),n=e.trim(i[1]||"")||t,l[t]=a.$el.find("#"===n.charAt(0)?n:':input[name="'+n+'"]').val()}),l=e.param(l),"POST"===s&&(i=r.indexOf("?"),i!==-1&&(l+="&"+r.substring(i+1,r.length),r=r.substring(0,i))),e.ajax({url:r,type:s,data:l,cache:!1})}},filter:function(e,t){e.value=e.value.replace(t?new RegExp("["+t[0]+"]","gm"):G,"")}}),n.config=function(t){e.each(t,function(e,t){"rules"===e?new i(t):"messages"===e?new a(t):J[e]=t})},n.setTheme=function(t,n){Y(t)?e.each(t,function(e,t){ee[e]=t}):Q(t)&&Y(n)&&(ee[t]=n)},e[_]=n});