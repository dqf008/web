angular.module("lobbyNav",[]).factory("LobbyNavService",["$window","$location",function(e,n){return{name:"game",islogin:!1,checkLogin:function(){$.ajaxSettings.async=!1;var e=this;$.getJSON("/top_money_data.php?callback=?",function(n){if(1!=n.status){var a={type:2,title:!1,shadeClose:!0,scrollbar:!1,resize:!1,shade:.8,area:["400px","560px"],content:"/login2.php"};parent.location==top.location?layer.open(a):parent.parent.location==top.location?parent.layer.open(a):parent.parent.parent.location==top.location?parent.parent.layer.open(a):layer.open(a)}else e.islogin=!0})},open:function(e,n,a){if(e.search(/cj\/live\//i)>=0&&-1==e.search(/try=true/i)&&(this.checkLogin(),!this.islogin))return!1;var o=n||1300,t=a||960,i=(window.screen.availHeight-30-t)/2,r=(window.screen.availWidth-10-o)/2;window.open(e,this.name,"height="+t+",,innerHeight="+t+",width="+o+",innerWidth="+o+",top="+i+",left="+r+",status=no,toolbar=no,menubar=no,location=no,resizable=no,scrollbars=0,titlebar=no")},iopen:function(e){if(e.search(/cj\/live\//i)>=0&&-1==e.search(/try=true/i)&&(this.checkLogin(),!this.islogin))return!1;window.open(e,"_blank")}}}]),angular.module("reviewGame",[]).factory("ReviewGameService",function(){return{view:function(e,n,a,o){var t=new RegExp(n.NameKeyword),i=[],r=0;for(var l in e){var c=e[l];if(0!==n.CategoryKey){var s=!1;for(var p in c.CategoryKey)c.CategoryKey[p]===n.CategoryKey&&(s=!0);if(!s)continue}if(""===n.NameKeyword||t.test(c.name)){var h=a*o;r>=h&&r<h+o&&i.push(c),r++}}return{allCount:r,pageCount:Math.ceil(r/o),games:i}}}});